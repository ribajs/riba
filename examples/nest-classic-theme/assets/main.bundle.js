!function(){var t,e={490:function(t,e,s){"use strict";var i={};s.r(i),s.d(i,{AdapterService:function(){return et},BindersService:function(){return st},ComponentService:function(){return rt},CoreService:function(){return nt},FormatterService:function(){return at},HttpService:function(){return lt},LifecycleService:function(){return ot}});var n={};s.r(n),s.d(n,{dotAdapter:function(){return ht}});var o={};s.r(o),s.d(o,{addClassBinder:function(){return dt},animateStarBinder:function(){return ut},assignBinder:function(){return pt},assignPropertyBinder:function(){return mt},attributeBinder:function(){return fe},blockBinder:function(){return vt},checkedBinder:function(){return Ot},classStarBinder:function(){return xt},componentAttributeBinder:function(){return Qt},disabledBinder:function(){return ne},eachStarBinder:function(){return Te},enabledBinder:function(){return se},flexSortChildsBinder:function(){return ie},hideBinder:function(){return _e},htmlBinder:function(){return ke},ifBinder:function(){return Ae},maxlengthBinder:function(){return oe},notDraggableBinder:function(){return re},onEventBinder:function(){return ae},parentBinder:function(){return le},readonlyBinder:function(){return ce},removeClassBinder:function(){return he},showBinder:function(){return De},srcsetSizeBinder:function(){return Le},styleBackgroundImageBinder:function(){return Oe},styleBinder:function(){return te},styleStarBinder:function(){return Jt},tagStarBinder:function(){return ee},templateBinder:function(){return Ie},textBinder:function(){return xe},toggleOnEventBinder:function(){return Pe},unlessBinder:function(){return Ne},valueBinder:function(){return Ze}});var r={};s.r(r),s.d(r,{VideoComponent:function(){return je}});var a={};s.r(a),s.d(a,{andFormatter:function(){return ss},appendFormatter:function(){return Is},argsFormatter:function(){return Ss},betweenFormatter:function(){return is},booleanFormatter:function(){return ii},callFormatter:function(){return _s},callNameFormatter:function(){return Ds},capitalizeFormatter:function(){return Ns},containsFormatter:function(){return qe},cutFormatter:function(){return Bs},debugFormatter:function(){return Cs},defaultFormatter:function(){return As},digitsFormatter:function(){return Es},dividedByFormatter:function(){return vs},downcaseFormatter:function(){return Zs},egtFormatter:function(){return ns},eltFormatter:function(){return cs},emptyFormatter:function(){return ze},endsWithFormatter:function(){return Ms},eqFormatter:function(){return os},evenFormatter:function(){return ws},filledFormatter:function(){return Rs},firstFormatter:function(){return Ye},gcdFormatter:function(){return bs},getFormatter:function(){return We},gtFormatter:function(){return rs},handleizeFormatter:function(){return Hs},isArrayFormatter:function(){return ni},isBooleanFormatter:function(){return oi},isDefinedFormatter:function(){return ri},isDesktopFormatter:function(){return Ts},isIntegerFormatter:function(){return zs},isLastFormatter:function(){return Ge},isMobileFormatter:function(){return ks},isNumberFormatter:function(){return ai},isObjectFormatter:function(){return li},isStringFormatter:function(){return ci},isUndefinedFormatter:function(){return hi},joinFormatter:function(){return es},jsonFormatter:function(){return ge},lastFormatter:function(){return Xe},ltFormatter:function(){return ls},mapFormatter:function(){return Ls},matchFormatter:function(){return js},minusFormatter:function(){return ps},moduloFormatter:function(){return gs},neFormatter:function(){return as},notFormatter:function(){return ds},numberFormatFormatter:function(){return Ws},orFormatter:function(){return hs},osFormatter:function(){return Os},overlapsFormatter:function(){return ts},padEndFormatter:function(){return Fs},padStartFormatter:function(){return Us},parseFormatter:function(){return di},pluralizeFormatter:function(){return Ys},plusFormatter:function(){return us},preferFormatter:function(){return xs},prependFormatter:function(){return Gs},randomFormatter:function(){return Ke},rangeFormatter:function(){return Qe},replaceFirstFormatter:function(){return Qs},replaceFormatter:function(){return Ks},setFormatter:function(){return Je},sizeFormatter:function(){return $e},sliceFormatter:function(){return Js},startsWithFormatter:function(){return ti},stripFormatter:function(){return ei},stripHtmlFormatter:function(){return si},ternaryFormatter:function(){return Ps},timesFormatter:function(){return ms},toDecimalFormatter:function(){return $s},toFloatFormatter:function(){return qs},toIntegerFormatter:function(){return Vs},toNumberFormatter:function(){return pi},toStringFormatter:function(){return ui},unevenFormatter:function(){return ys},upcaseFormatter:function(){return Xs}});var l={};s.r(l),s.d(l,{BaseTransition:function(){return vi},BaseView:function(){return wi},CustomTransition:function(){return gi},Dom:function(){return yi},FadeTransition:function(){return fi},HideShowTransition:function(){return bi},Pjax:function(){return Li},Prefetch:function(){return Si},RouterService:function(){return Oi}});var c={};s.r(c),s.d(c,{parentRouteClassStarBinder:function(){return Mi},routeBackOnStarBinder:function(){return Hi},routeBinder:function(){return Ni},routeClassStarBinder:function(){return Bi},routePreloadBinder:function(){return Zi},viewBinder:function(){return xi},viewStaticBinder:function(){return Ii}});var h={};s.r(h),s.d(h,{RouterLoadScriptComponent:function(){return ji},RouterViewComponent:function(){return Ui}});var d={};s.r(d),s.d(d,{i18nStarBinder:function(){return qi}});var u={};s.r(u),s.d(u,{I18nService:function(){return Vi},LocalesRestService:function(){return zi},LocalesStaticService:function(){return Wi}});var p={};s.r(p),s.d(p,{ARIA_ATTRIBUTE_PATTERN:function(){return sn},DATA_URL_PATTERN:function(){return on},DEFAULT_ALLOWLIST:function(){return rn},MILLISECONDS_MULTIPLIER:function(){return an},NODE_TEXT:function(){return Ki},SAFE_URL_PATTERN:function(){return nn},TOGGLE_ATTRIBUTE:function(){return Ji},TOGGLE_BUTTON:function(){return Qi},TOGGLE_CLASS:function(){return tn},TRANSITION_END:function(){return ln},URI_ATTRS:function(){return en}});var m={};s.r(m),s.d(m,{Bs4Service:function(){return Xi},CollapseService:function(){return Co},DropdownService:function(){return $o},ModalService:function(){return cr},PopoverService:function(){return aa},ToastService:function(){return fa},TooltipService:function(){return $r}});var v={};s.r(v),s.d(v,{collapseBinder:function(){return wa},collapseOnUrlBinder:function(){return ba},dropdownBinder:function(){return Ea},expanOnUrlBinder:function(){return Sa},popoverBinder:function(){return Ta},scrollToOnEventBinder:function(){return Ia},scrollspyClassBinder:function(){return Da},showToastOnEventBinder:function(){return _a},toggleAttributeBinder:function(){return Na},toggleClassBinder:function(){return Ba},toggleCollapseOnEventBinder:function(){return ya},tooltipBinder:function(){return Pa}});var g={};s.r(g),s.d(g,{easeInCubic:function(){return el},easeInOutCubic:function(){return il},easeInOutQuad:function(){return tl},easeInOutQuart:function(){return rl},easeInOutQuint:function(){return cl},easeInQuad:function(){return Qa},easeInQuart:function(){return nl},easeInQuint:function(){return al},easeOutCubic:function(){return sl},easeOutQuad:function(){return Ja},easeOutQuart:function(){return ol},easeOutQuint:function(){return ll},getScrollPosition:function(){return hl},isScrollable:function(){return dl},linear:function(){return Ka}});var f={};s.r(f),s.d(f,{Autoscroll:function(){return pl},Dragscroll:function(){return ml},ExtrasService:function(){return vl},FullscreenService:function(){return gl},Gameloop:function(){return ul},ScrollEventsService:function(){return bl},TouchEventsService:function(){return yl}});var b={};s.r(b),s.d(b,{autoscrollBinder:function(){return Dl},dataScrollPositionYBinder:function(){return El},imageEventsBinder:function(){return Al},scrollEventsBinder:function(){return kl},scrollPositionAngleBinder:function(){return _l},scrollbarDraggableBinder:function(){return Ll},syncElementPropertyBinder:function(){return Ol},touchEventsBinder:function(){return Tl}});var w={};s.r(w),s.d(w,{Bs4AccordionComponent:function(){return Ra},Bs4ButtonComponent:function(){return Ha},Bs4CarouselComponent:function(){return ja},Bs4ColorPickerComponent:function(){return za},Bs4ContentsComponent:function(){return Wa},Bs4DropdownComponent:function(){return Za},Bs4FormComponent:function(){return jl},Bs4IconComponent:function(){return Ya},Bs4ModalItemComponent:function(){return Vl},Bs4NavbarComponent:function(){return Ml},Bs4NotificationContainerComponent:function(){return Ul},Bs4ScrollspyComponent:function(){return Ga},Bs4ShareComponent:function(){return Wl},Bs4SidebarComponent:function(){return Xa},Bs4SlideshowComponent:function(){return Bl},Bs4TabsComponent:function(){return Hl},Bs4TaggedImageComponent:function(){return zl},Bs4ToastItemComponent:function(){return Fl},Bs4ToggleButtonComponent:function(){return Zl}});var y={};s.r(y);var E={};s.r(E),s.d(E,{allowedAttribute:function(){return hr},children:function(){return On},closest:function(){return Pn},emulateTransitionEnd:function(){return vn},find:function(){return Dn},findOne:function(){return Ln},findShadowRoot:function(){return wn},getData:function(){return ro},getDataAttribute:function(){return br},getDataAttributes:function(){return fr},getElementFromSelector:function(){return dn},getSelector:function(){return cn},getSelectorFromElement:function(){return hn},getTransitionDurationFromElement:function(){return un},getjQuery:function(){return Sn},isElement:function(){return mn},isVisible:function(){return bn},makeArray:function(){return fn},matches:function(){return _n},noop:function(){return yn},off:function(){return Tn},offset:function(){return wr},on:function(){return Cn},one:function(){return An},parents:function(){return xn},position:function(){return yr},prev:function(){return In},reflow:function(){return En},removeData:function(){return ao},removeDataAttribute:function(){return gr},sanitizeHtml:function(){return dr},setData:function(){return oo},setDataAttribute:function(){return vr},toggleClass:function(){return Er},trigger:function(){return kn},triggerTransitionEnd:function(){return pn},typeCheckConfig:function(){return gn}});var S={};s.r(S),s.d(S,{I18nShareComponent:function(){return Yl},I18nSwitcherComponent:function(){return Yi}});var C={};s.r(C),s.d(C,{tFormatter:function(){return Xl}});var A={};s.r(A),s.d(A,{DEFAULT_BP_LG:function(){return yc},DEFAULT_BP_MD:function(){return wc},DEFAULT_BP_SM:function(){return bc},DEFAULT_BP_XL:function(){return Ec},DEFAULT_BP_XS:function(){return fc},DEFAULT_BP_XXL:function(){return Sc},DEFAULT_MODULE_OPTIONS:function(){return Cc},TOGGLE_ATTRIBUTE:function(){return Tc},TOGGLE_BUTTON:function(){return Ac},TOGGLE_CLASS:function(){return kc}});var T={};s.r(T),s.d(T,{Bs5Service:function(){return _c},Carousel:function(){return Jl},Collapse:function(){return tc},Dropdown:function(){return lc},Modal:function(){return mc},ModalNotification:function(){return hc},Popover:function(){return gc},Toast:function(){return xc},ToastNotification:function(){return Dc},Tooltip:function(){return vc}});var k={};s.r(k),s.d(k,{collapseOnUrlBinder:function(){return Pc},dropdownBinder:function(){return Nc},expandOnUrlBinder:function(){return Bc},popoverBinder:function(){return Rc},scrollToOnEventBinder:function(){return zc},scrollspyClassBinder:function(){return jc},showToastOnEventBinder:function(){return Hc},toggleAttributeBinder:function(){return Wc},toggleClassBinder:function(){return Yc},toggleCollapseOnEventBinder:function(){return Ic},tooltipBinder:function(){return $c}});var _={};s.r(_),s.d(_,{Bs5AccordionComponent:function(){return Xc},Bs5ButtonComponent:function(){return Kc},Bs5CarouselComponent:function(){return Qc},Bs5ColorPickerComponent:function(){return ih},Bs5ContentsComponent:function(){return nh},Bs5DropdownComponent:function(){return ec},Bs5FormComponent:function(){return fh},Bs5IconComponent:function(){return oh},Bs5ModalItemComponent:function(){return yh},Bs5NavbarComponent:function(){return mh},Bs5NotificationContainerComponent:function(){return bh},Bs5ScrollspyComponent:function(){return rh},Bs5ShareComponent:function(){return ah},Bs5SidebarComponent:function(){return lh},Bs5SlideshowComponent:function(){return uh},Bs5TabsComponent:function(){return gh},Bs5TaggedImageComponent:function(){return Ch},Bs5ToastItemComponent:function(){return wh},Bs5ToggleButtonComponent:function(){return ph}});var D={};s.r(D);var L={};s.r(L);var O={};s.r(O);var x={};s.r(x);var P=s(740);let I;!function(t){t[t.HAVE_NOTHING=0]="HAVE_NOTHING",t[t.HAVE_METADATA=1]="HAVE_METADATA",t[t.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",t[t.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",t[t.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(I||(I={}));s(973);const N=t=>{const e={}.toString.call(t).match(/\s([a-z]+)/i);return e?e[1].toLowerCase():null},B=t=>!(!t||"string"!=typeof t)&&("{"===(t=t.trim()).charAt(0)||"["===t.charAt(0)),Z=t=>{if(!t||!B(t))return!1;try{const e=JSON.parse(t);return!(!Array.isArray(e)&&"object"!=typeof e)}catch(t){return!1}},M=t=>{let e=null;if(!B(t))return e;if(Z(t))e=JSON.parse(t)||null;else try{e=JSON.parse(t.replace(/'/g,'"'))||null}catch(t){console.warn(t)}return e},R=t=>void 0===t,H=t=>!R(t),j=t=>H(t)&&"object"==typeof t&&null!==t,U=t=>null!=t&&t.toString?t.toString():void 0,F=(Array.isArray,t=>!isNaN(parseFloat(t))&&!isNaN(t-0)),V=t=>"boolean"==typeof t,q=t=>"string"==typeof t,$=t=>{if("number"==typeof t)return t;const e=t.replace(/[^-\d.]/g,"");return F(e)?Number(e):0},z=t=>{const e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""},W=t=>t.replace(/-([a-z0-9])/g,(t=>t[1].toUpperCase())),Y=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=s=>{for(const i in s)s.hasOwnProperty(i)&&(t.deep&&"[object Object]"===Object.prototype.toString.call(s[i])?e[i]=Y(t,e[i],s[i]):t.keepValues?void 0===e[i]&&(e[i]=s[i]):t.onlyDefined?void 0!==s[i]&&(e[i]=s[i]):t.mergeArrays&&Array.isArray(e[i])&&Array.isArray(s[i])?e[i]=[...e[i],...s[i]]:e[i]=s[i])};for(let t=0;t<(arguments.length<=2?0:arguments.length-2);t++)s(t+2<2||arguments.length<=t+2?void 0:arguments[t+2]);return e},G=(t,e)=>Array.isArray(e)?t?e.map((t=>G(!0,t))):e.slice():j(e)?Y({deep:t},{},e):e,X=t=>t.constructor;class K{constructor(t){this.elements=t}regists(t){if(!j(t))throw new Error("Elements to register must be an object of elements");for(const e in t)if(t[e]&&"__esModule"!==e){const s=t[e];this.regist(s,e)}return this.elements}}function Q(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function J(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Q(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class tt{static updateOptions(t){if(!t.adapters)throw new Error("adapters are required!");if(t.adapters&&(tt.adapters=J(J({},tt.adapters),t.adapters),tt.interfaces=Object.keys(tt.adapters)),tt.rootInterface=t.rootInterface||tt.interfaces[0],!tt.rootInterface)throw new Error("rootInterface is required!")}static tokenize(t,e){const s=[];let i,n,o={i:e,path:""};for(i=0;i<t.length;i++)n=t.charAt(i),~tt.interfaces.indexOf(n)?(s.push(o),o={i:n,path:""}):o.path+=n;return s.push(o),s}static get(t,e){return tt.adapters[t.i].get(e,t.path)}static set(t,e,s,i){t?tt.adapters[e.i].observe(s,e.path,i):tt.adapters[e.i].unobserve(s,e.path,i)}constructor(t,e,s){this.keypath=e,this.callback=s,this.objectPath=[];const i=this.parse();this.key=i.key,this.tokens=i.tokens,this.obj=this.getRootObject(t),this.target=this.realize(),j(this.target)&&tt.set(!0,this.key,this.target,this.callback)}parse(){let t,e;if(!tt.interfaces||!tt.interfaces.length)throw new Error(`[Observer] Must define at least one adapter interface. interfaces: "${JSON.stringify(tt.interfaces)}" adapters: "${JSON.stringify(tt.adapters)}"`);if(~tt.interfaces.indexOf(this.keypath[0])?(e=this.keypath[0],t=this.keypath.substr(1)):(e=tt.rootInterface,t=this.keypath),this.tokens=tt.tokenize(t,e),!this.tokens.length)throw new Error("[Observer] No tokens");return this.key=this.tokens.pop(),{key:this.key,tokens:this.tokens}}realize(){let t,e,s=this.obj,i=-1;for(let n=0;n<this.tokens.length;n++)e=this.tokens[n],j(s)?(void 0!==this.objectPath[n]?(t=this.objectPath[n],s!==t&&(tt.set(!1,e,t,this),tt.set(!0,e,s,this),this.objectPath[n]=s)):(tt.set(!0,e,s,this),this.objectPath[n]=s),s=tt.get(e,s)):(-1===i&&(i=n),t=this.objectPath[n],t&&tt.set(!1,e,t,this));return-1!==i&&this.objectPath.splice(i),s}sync(){let t,e;const s=this.realize();s!==this.target?(j(this.target)&&tt.set(!1,this.key,this.target,this.callback),j(s)&&tt.set(!0,this.key,s,this.callback),t=this.value(),this.target=s,e=this.value(),(e!==t||Array.isArray(e))&&this.callback.sync()):Array.isArray(s)&&this.callback.sync()}value(){if(j(this.target))return tt.get(this.key,this.target)}setValue(t){j(this.target)&&tt.adapters[this.key.i].set(this.target,this.key.path,t)}unobserve(){let t,e;for(let s=0;s<this.tokens.length;s++)e=this.tokens[s],t=this.objectPath[s],t&&tt.set(!1,e,t,this);j(this.target)&&tt.set(!1,this.key,this.target,this.callback)}getRootObject(t){let e,s;if(!t.$parent)return t;for(e=this.tokens.length?this.tokens[0].path:this.key.path,s=t;s.$parent&&void 0===s[e];)s=s.$parent;return s}}(0,P.Z)(tt,"interfaces",[]);class et extends K{constructor(t){super(t),(0,P.Z)(this,"type","adapter")}regist(t,e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e||t.name:t.name||e;if(!s)throw new Error("Adapter name not found!");this.elements[s]=t;const i={adapters:this.elements};return tt.updateOptions(i),this.elements}}class st extends K{constructor(t){super(t),(0,P.Z)(this,"type","binder")}regist(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||"function"!=typeof t.routine)return console.warn(new Error("Can not regist binder!"),t),this.elements;const i=s?e||t.name:t.name||e;return i?(this.elements[i]=t,this.elements):(console.warn(new Error("Binder name not found!"),t),this.elements)}}class it{static getNamespaces(){return Object.keys(this.instances)}static getInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";const e=it.instances[t];return e||new this(t)}static getAllInstances(){return it.instances}static clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";const e=it.instances[t];return e.events={},e.eventsOnce={},e}static deleteInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";this.clearInstance(t),delete this.instances[t]}static clearAllInstances(){const t=this.getNamespaces();for(const e of t)this.clearInstance(e)}static deleteAllInstances(){this.clearAllInstances(),this.instances={}}get namespace(){return this._namespace}constructor(t){if((0,P.Z)(this,"events",{}),(0,P.Z)(this,"eventsOnce",{}),(0,P.Z)(this,"_namespace","anonymous"),t)return it.instances[t]||(this._namespace=t,it.instances[t]=this),it.instances[t]}once(t,e,s){this.eventsOnce[t]=this.eventsOnce[t]||[],void 0!==s?this.eventsOnce[t].push({cb:e.bind(s),orgCb:e,thisContext:s}):this.eventsOnce[t].push(e)}on(t,e,s){this.events[t]=this.events[t]||[],void 0!==s?this.events[t].push({cb:e.bind(s),orgCb:e,thisContext:s}):this.events[t].push(e)}off(t,e,s){if(void 0===t)return this.events={},void(this.eventsOnce={});if(void 0!==e)if(void 0!==s){if(t in this.events)for(const[i,n]of this.events[t].entries()){const o=n;o.orgCb===e&&o.thisContext===s&&this.events[t].splice(i,1)}if(t in this.eventsOnce)for(const[i,n]of this.eventsOnce[t].entries()){const o=n;o.orgCb===e&&o.thisContext===s&&this.eventsOnce[t].splice(i,1)}}else{if(t in this.events)for(const[s,i]of this.events[t].entries()){i===e&&this.events[t].splice(s,1)}if(t in this.eventsOnce)for(const[s,i]of this.eventsOnce[t].entries()){i===e&&this.eventsOnce[t].splice(s,1)}}else this.events[t]=[],this.eventsOnce[t]=[]}trigger(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];if(t in this.events)for(const e of this.events[t])null!=e&&e.cb?e.cb(...s):e(...s);if(t in this.eventsOnce)for(const[e,i]of this.eventsOnce[t].entries())null!=i&&i.cb?(i.cb(...s),this.eventsOnce[t].splice(e,1)):(i(...s),this.eventsOnce[t].splice(e,1))}}(0,P.Z)(it,"instances",{});class nt{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of CoreService not defined, please call setSingleton first!")}static setSingleton(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.instance)throw new Error("Singleton of CoreService already defined!");return this._options=t,this.instance=new this,this.instance}}(0,P.Z)(nt,"_options",{});class ot{constructor(){(0,P.Z)(this,"events",it.getInstance("lifecycle")),(0,P.Z)(this,"debug",!1),(0,P.Z)(this,"routerEvents",it.getInstance()),(0,P.Z)(this,"timeout",null),(0,P.Z)(this,"components",{}),this.addEventListeners(),this.reset(),ot.instance=this}static getInstance(){return ot.instance||(ot.instance=new ot),ot.instance}getEmpty(){return{components:[]}}addEventListeners(){this.events.on("Component:connected",(t=>{this.resetTimeout(),this.components[t.tagName]=this.components[t.tagName]||this.getEmpty(),this.components[t.tagName].components.push(t.component)})),this.events.on("Component:disconnected",(()=>{this.resetTimeout(),this.checkStates()})),this.events.on("Component:afterBind",(()=>{this.resetTimeout(),this.checkStates()})),this.events.on("Component:error",((t,e)=>{this.onError(t,e)})),this.routerEvents.on("newPageReady",((t,e,s,i,n,o,r)=>{this.debug&&console.debug("newPageReady",t,e,s,"firstPageLoad",r),r||this.reset()}))}getState(t){let e=0,s=0;for(const i of this.components[t].components)i.connected&&(e++,i.bound&&s++);return{connected:e,bound:s}}getStates(){const t={};for(const e in this.components){const s=this.getState(e);t[e]={state:s,components:this.components[e].components}}return t}checkStates(){let t=!0;const e=this.getStates();for(const s in e){const i=e[s].state;if(i.connected!==i.bound){t=!1;break}}return t&&this.onAllBound(),{states:e,allBound:t}}onAllBound(){this.clearTimeout(),this.events.trigger("ComponentLifecycle:allBound",this.components),this.debug&&console.debug("[ComponentLifecycle] All components bound!")}onError(t,e){this.clearTimeout(),console.error(`The component "${e.tagName}" has caused an error:`,t),this.events.trigger("ComponentLifecycle:error",t,e)}onTimeout(){this.clearTimeout();const t=this.getStates();if(Object.keys(t).length<=0)return void console.warn("No component found");let e="[ComponentLifecycle] Timeout! {count} component(s) takes too long!\nUnfinished components:\n",s=0;for(const i in t){const n=t[i].state;n.connected!==n.bound&&(s++,e+=`${i}: ${JSON.stringify(t[i].state,null,2)} + \n`)}e=e.replace("{count}",s.toString()),this.events.trigger("ComponentLifecycle:error",new Error(e),{})}clearTimeout(){this.timeout&&window.clearTimeout(this.timeout)}resetTimeout(){var t;return this.debug&&console.debug("[ComponentLifecycle] reset timeout.."),this.clearTimeout(),this.timeout=window.setTimeout(this.onTimeout.bind(this),(null===(t=nt.options.lifecycle)||void 0===t?void 0:t.timeout)||5e3),this.timeout}reset(){this.debug&&console.debug("[ComponentLifecycle] reset!"),this.components={},this.resetTimeout()}}class rt extends K{constructor(t){super(t),(0,P.Z)(this,"type","components")}regist(t,e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e||t.tagName:t.tagName||e;return s?(this.elements[s]=t,this.elements):(console.warn(new Error("Component name not found!"),t),this.elements)}}class at extends K{constructor(t){super(t),(0,P.Z)(this,"type","formatter")}regist(t,e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e||t.name:t.name||e;if(!s)throw new Error("Formatter name not found!");return this.elements[s]=t,this.elements}}class lt{static setRequestHeaderEachRequest(t,e){this._requestHeadersEachRequest.push({name:t,value:e})}static async getJSON(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.fetch(t,"GET",e,"json",s,i)}static async post(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(t,"POST",e,s,i,n)}static async delete(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(t,"DELETE",e,s,i,n)}static async put(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(t,"PUT",e,s,i,n)}static async get(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(t,"GET",e,s,i,n)}static parseDataType(t){const e={};let s="application/x-www-form-urlencoded",i="*/*";switch(t){case"script":s="application/javascript";break;case"json":s="application/json",i="application/json, text/javascript";break;case"xml":s="application/xml",i="application/xml, text/xml";break;case"text":s="text/plain",i="text/plain";break;case"html":s="text/html",i="text/html";break;case"form":s="application/x-www-form-urlencoded"}return s&&(e["Content-Type"]=s,e.Accept=i),e}static async fetch(t){let e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!fetch)throw new Error("Your browser does not support the fetch API, use xhr instead or install a polyfill.");for(const t of this._requestHeadersEachRequest)o[t.name]=t.value;n&&(o=Y({deep:!1},o,this.parseDataType(n))),r.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");const a=r.cache?r.cache:"default";if("GET"===s&&i){if(new URLSearchParams(i).toString()){const e=-1!==t.indexOf("?")?"&":"?";t=t+e+new URLSearchParams(i).toString()}}else i&&(e="form"===n?new URLSearchParams(i):JSON.stringify(i));const l=await fetch(t,{credentials:"same-origin",cache:a,method:s,body:e,headers:o,mode:r.mode||"cors"});let c=await l.text();if("string"==typeof c&&Z(c)&&(c=JSON.parse(c)),"string"==typeof c)switch(c){case"null":c=null;break;case"true":c=!0;break;case"false":c=!1;break;case"undefined":c=void 0}return{status:l.status,headers:l.headers,ok:l.ok,redirected:l.redirected,statusText:l.statusText,type:l.type,url:l.url,arrayBuffer:l.arrayBuffer,blob:l.blob,bodyUsed:l.bodyUsed,clone:l.clone,formData:l.formData,text:l.text,body:c}}}(0,P.Z)(lt,"_requestHeadersEachRequest",[]);class ct{constructor(){(0,P.Z)(this,"name","."),(0,P.Z)(this,"counter",0),(0,P.Z)(this,"weakmap",{})}weakReference(t){if(!t.hasOwnProperty("__rv")){const e=this.counter++;Object.defineProperty(t,"__rv",{value:e})}return this.weakmap[t.__rv]||(this.weakmap[t.__rv]={callbacks:{}}),this.weakmap[t.__rv]}cleanupWeakReference(t,e){Object.keys(t.callbacks).length||t.pointers&&Object.keys(t.pointers).length||delete this.weakmap[e]}stubFunction(t,e){const s=t[e],i=this.weakReference(t),n=this.weakmap;t[e]=function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];const a=s.apply(t,o);return Object.keys(i.pointers).forEach((t=>{const e=i.pointers[t];n[t]&&Array.isArray(n[t].callbacks[e])&&n[t].callbacks[e].forEach((t=>{t.sync()}))})),a}}observeMutations(t,e,s){if(Array.isArray(t)){const i=this.weakReference(t);i.pointers||(i.pointers={},ct.ARRAY_METHODS.forEach((e=>{this.stubFunction(t,e)}))),i.pointers[e]||(i.pointers[e]=[]),-1===i.pointers[e].indexOf(s)&&i.pointers[e].push(s)}}unobserveMutations(t,e,s){if(Array.isArray(t)&&null!=t.__rv){const i=this.weakmap[t.__rv];if(i){const n=i.pointers[e];if(n){const o=n.indexOf(s);o>-1&&n.splice(o,1),n.length||delete i.pointers[e],this.cleanupWeakReference(i,t.__rv)}}}}observe(t,e,s){let i;const n=this.weakReference(t).callbacks;if(!n[e]){n[e]=[];const s=Object.getOwnPropertyDescriptor(t,e);s&&(s.get||s.set||!s.configurable)||(i=t[e],Object.defineProperty(t,e,{enumerable:!0,get:()=>i,set:s=>{if(s!==i){this.unobserveMutations(i,t.__rv,e),i=s;const n=this.weakmap[t.__rv];if(n){const i=n.callbacks[e];i&&i.forEach((t=>{t.sync()})),this.observeMutations(s,t.__rv,e)}}}}))}-1===n[e].indexOf(s)&&n[e].push(s),this.observeMutations(t[e],t.__rv,e)}unobserve(t,e,s){const i=this.weakmap[t.__rv];if(i){const n=i.callbacks[e];if(n){const o=n.indexOf(s);o>-1&&(n.splice(o,1),n.length||(delete i.callbacks[e],this.unobserveMutations(t[e],t.__rv,e))),this.cleanupWeakReference(i,t.__rv)}}}get(t,e){return t[e]}set(t,e,s){t[e]=s}}(0,P.Z)(ct,"ARRAY_METHODS",["push","pop","shift","unshift","sort","reverse","splice"]);const ht=new ct,dt={name:"add-class",function:!0,priority:1e3,bind(t){this.customData={staticClasses:t.className.split(" ")}},unbind(){delete this.customData},routine(t,e){e?-1===this.customData.staticClasses.indexOf(e)&&(t.className=this.customData.staticClasses.join(" ")+" "+e):t.className=this.customData.staticClasses.join(" "),t.className=t.className.trim()}},ut={name:"animate-*",function:!0,priority:1e3,bind(t){const e=this.args[0];t.classList.add(e)},unbind(){},routine(t,e){const s=this.args[0];e?(t.classList.add(s+"-start"),t.classList.remove(s+"-done")):(t.classList.remove(s+"-start"),t.classList.add(s+"-done"))}},pt={name:"assign",routine(t,e){if("object"==typeof e)return Y({deep:!1},this.view.models,e);console.warn("Value must be an object or propertyName is required")}},mt={name:"assign-*",routine(t,e){const s=W(this.args[0].trim());this.view.models[s]=e}},vt={name:"block",block:!0,routine(){}},gt=t=>{let e=t;if("true"===t)e=!0;else if("false"===t)e=!1;else if("null"===t)e=null;else if("undefined"===t)e=void 0;else if(""===t)e=void 0;else if(isNaN(Number(t))){const t=M(e);e=t||e}else e=Number(t),e>=Number.MAX_SAFE_INTEGER&&(e=t);return e},ft=t=>{const e=G(!1,t.dataset);for(const t in e)e[t]&&(e[t]=gt(e[t]));return e},bt=t=>{if(!t.hasChildNodes())return!1;const e=t.childNodes;var s;if(1===e.length&&3===e[0].nodeType&&(!e[0].nodeValue||""===(null===(s=e[0].nodeValue)||void 0===s?void 0:s.trim())))return!1;return!0},wt=t=>{const e=[];if("checkbox"===t.type)return t.checked;if("select-multiple"===t.type){const s=t.options;for(const t in s)if(s[t]){const i=s[t];i.selected&&e.push(i.value)}return e}return t.hasAttribute&&t.hasAttribute("contenteditable")?t.innerHTML:t.value},yt=async t=>new Promise((e=>{let s;const i=()=>{void 0!==s&&clearTimeout(s),s=setTimeout((()=>{e()}),100)};t.removeEventListener("scroll",i),t.addEventListener("scroll",i),i()})),Et=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vertical",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"smooth";s||(s=window);const o=yt(s);let r=0,a=0;if(s.document)if("vertical"===i){const i=s.scrollY||s.pageYOffset;r=Math.round(t.getBoundingClientRect().top+i-e)}else{const i=s.scrollX||s.pageXOffset;a=Math.round(t.getBoundingClientRect().left+i-e)}else if("vertical"===i){const i=$(window.getComputedStyle(s).marginTop);r=Math.round(t.offsetTop-e-i)}else{const i=$(window.getComputedStyle(s).marginLeft);a=Math.round(t.offsetLeft-e-i)}return s.scroll({behavior:n,left:a,top:r}),o},St=async function(t,e){let s,i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"smooth";if(!t)return;const r=yt(t);if("vertical"===n||"both"===n)switch(e){case"start":s=0;break;case"end":if(t.document){const e=t,i=e.document;s=e.scrollMaxY||Math.max(i.body.scrollHeight,i.body.offsetHeight,i.documentElement.clientHeight,i.documentElement.scrollHeight,i.documentElement.offsetHeight)}else s=t.scrollHeight;break;default:s=e}if("horizontal"===n||"both"===n)switch(e){case"start":i=0;break;case"end":if(t.document){const e=t,s=e.document;i=e.scrollMaxX||Math.max(s.body.scrollWidth,s.body.offsetWidth,s.documentElement.clientWidth,s.documentElement.scrollWidth,s.documentElement.offsetWidth)}else i=t.scrollWidth;break;default:i=e}return t.scroll({behavior:o,top:s,left:i}),r};window.scrollToPosition=St;const Ct=t=>t.target||t.currentTarget||t.relatedTarget||t.delegateTarget||t.fromElement,At=()=>{const t=Math.max(document.documentElement?document.documentElement.clientWidth:0,window.innerWidth||0);return{h:Math.max(document.documentElement?document.documentElement.clientHeight:0,window.innerHeight||0),w:t}},Tt=function(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t)return!1;const i=t.getBoundingClientRect();if(!e){e=At().h-i.height}return i.top+i.height>=s&&i.bottom-i.height<=e},kt=t=>{do{t+=~~(1e3*Math.random())}while(document.getElementById(t));return t},_t=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=-1!==t.localName.indexOf("-");if(i&&e&&customElements){const e=customElements.get(t.localName);return!!e&&(!s||e===t.constructor)}return i},Dt=async t=>(await customElements.whenDefined(t.localName),t),Lt=t=>{if(!t)return-1;let e=0;do{e++,t=t.previousElementSibling}while(t);return e},Ot={name:"checked",publishes:!0,priority:2e3,bind(t){this.customData={onChange:this.publish.bind(this)},t.addEventListener("change",this.customData.onChange)},unbind(t){t.removeEventListener(this.customData.event,this.customData.onChange)},routine(t,e){const s=this.getValue(t);"radio"===t.type?t.checked=U(s)===U(e):s!==e&&(t.checked=!!e)},getValue:wt},xt={name:"class-*",routine(t,e){if(null===this.args)throw new Error("args is null");const s=t.className.split(" ").filter((t=>""!==t)),i=this.args[0].trim(),n=s.indexOf(i);-1===n?e&&(t.className+=` ${i}`):e||(t.className=s.filter(((t,e)=>e!==n)).join(" "))}},Pt=()=>{const t={},e=new Promise(((e,s)=>{t.resolve=e,t.reject=s}));return t.promise=e,t},It=t=>{let e,s,i=null,n=new Promise(((t,i)=>{e=t,s=i}));return function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return i&&cancelAnimationFrame(i),i=window.requestAnimationFrame((()=>{try{e(t(...r))}catch(t){s(t)}i=null,n=new Promise(((t,i)=>{e=t,s=i}))})),n}},Nt=function(t){let e,s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=null,o=new Promise(((t,i)=>{e=t,s=i}));return function(){if(null===n){n=window.setTimeout((()=>{n=null,o=new Promise(((t,i)=>{e=t,s=i}))}),i);try{e(t(...arguments))}catch(t){s(t)}}return o}};let Bt=1;const Zt={};let Mt=!1;const Rt="setImmediate$"+Math.random()+"$";function Ht(t){window.postMessage(Rt+t,"*")}function jt(t){delete Zt[t]}function Ut(t){if(Mt)setTimeout(Ut,0,t);else{const e=Zt[t];if(e){Mt=!0;try{!function(t){(0,t.callback)(...t.args)}(e)}finally{jt(t),Mt=!1}}}}window.addEventListener("message",(function(t){t.source===window&&"string"==typeof t.data&&0===t.data.indexOf(Rt)&&Ut(+t.data.slice(Rt.length))}),!1);window.setImmediate,window.clearImmediate;const Ft=async t=>{if(navigator.clipboard)try{await navigator.clipboard.writeText(t),console.log("Copying to clipboard was successful: "+t)}catch(t){console.error("Could not copy text: ",t)}else(t=>{const e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{const e=document.execCommand("copy")?"successful":"unsuccessful";console.log(`Fallback: Copying text command was ${e}: ${t}`)}catch(t){console.error("Fallback: Oops, unable to copy",t)}document.body.removeChild(e)})(t)},Vt=()=>{const t=navigator.userAgent,e=window.navigator.platform,s={windows7:/Windows NT 6.1/,windows8:/Windows NT 6.2/,windows81:/Windows NT 6.3/,windows10:/Windows NT 10.0/,windows:/windows/i,windowsPhone:/trident/i,android:/android/i,ios:/(ipad|iphone|ipod)/i,linux:/(linux)/i,unix:/(openbsd|freebsd|netbsd)/i,osxCatalina:/macintosh.+10(_|\.)15/i,osxBigSur:/macintosh.+((10(_|\.)16)|(11(_|\.)))/i,osx:/macintosh/i,mac:/mac/i},i={linux:/Linux/i,unix:/(FreeBSD|OpenBSD|X11|SunOS)/i,webOS:/webOS/i,playstation3:/playstation 3/i,playstation4:/playstation 4/i,PlaystationPortable:/psp/i,newNintendo3Ds:/new nintendo 3ds/i,nintendoDsi:/nintendo dsi/i,nintendo3Ds:/nintendo 3ds/i,nintendoWii:/nintendo wii/i,nintendoWiiU:/nintendo wiiu/i,palmos:/palmos/i,symbian:/(nokia_series_40|s60|symbian)/i};for(const e of Object.keys(s)){if(s[e].test(t))return"mac"===e&&"ontouchend"in document?"ios":e}for(const t of Object.keys(i)){if(i[t].test(e))return t}return"Unknown"},qt=()=>{const t=Vt();let e=!1,s=!1,i=!1;switch(t){case"windows":case"windows10":case"windows7":case"windows8":case"windows81":case"osxBigSur":case"osxCatalina":case"osx":case"mac":case"linux":case"unix":s=!0;break;case"ios":case"android":case"windowsPhone":case"symbian":e=!0}return-1===t.indexOf("playstation")&&-1===t.indexOf("nintendo")||(i=!0),{isMobile:e,isDesktop:s,isGameConsole:i}},$t=t=>{if(!t)return window.location;const e=document.createElement("a");return e.href=t,e},zt=t=>{const e=$t(t),s=$t().hostname;return e.hostname===s?{url:e.pathname+e.search+e.hash,location:e}:{url:Wt(t),location:e}},Wt=t=>{const e=$t(t);return e.protocol+"//"+e.host+e.pathname+e.search+e.hash},Yt=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){const s=$t(),i=$t(t);return(!e||s.search===i.search)&&(s.hostname===i.hostname&&s.pathname===i.pathname)}return!1},Gt=t=>t.replace(/#.*/,""),Xt=(t,e)=>{const s=$t(e),i=void 0!==t?t:s.port,n=s.protocol;return""!==i?Number(i):"http:"===n?80:"https:"===n?443:void 0},Kt=t=>{if((e=t)&&(new RegExp("^(?:[a-z]+:)?//","i").test(e)||e.startsWith("mailto:")||e.startsWith("tel:")||e.startsWith("fax:"))){const e=$t(),s=e.protocol+"//"+e.hostname;let i=!0;return t.startsWith(s)&&(i=!1),i}var e;return!1},Qt={name:"co-*",publishes:!0,_routine(t,e){const s=this.args[0].trim();t.setBinderAttribute?void 0!==e&&t.setBinderAttribute(s,e):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",t)},async routine(t,e){_t(t,!0,!0)?Qt._routine.call(this,t,e):_t(t,!0)?(await Dt(t),Qt._routine.call(this,t,e)):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",t)},_bind(t){const e=this.args[0].trim();"function"==typeof t.observeAttribute?this.customData={componentAttributeObserver:t.observeAttribute(e,{sync:()=>{this.publish()}})}:console.warn("[componentAttributeBinder] You can only use this binder on Riba components",t)},async bind(t){_t(t,!0,!0)?Qt._bind.call(this,t):_t(t,!0)?(await Dt(t),Qt._bind.call(this,t)):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",t)},unbind(){var t,e;null===(t=this.customData)||void 0===t||null===(e=t.componentAttributeObserver)||void 0===e||e.unobserve()},getValue(t){const e=this.args[0].trim();return t.getBinderAttribute(e)}},Jt={name:"style-*",routine(t,e){const s=this.args[0];null==e||""===e?t.style.removeProperty(s.toString()):t.style.setProperty(s.toString(),e)}},te={name:"style",routine(t,e){if(e)if("string"==typeof e)t.setAttribute("style",e);else for(const s of Object.keys(e))t.style.setProperty(s.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`)),e[s]||null);else for(const e of Object.keys(t.style))t.style.removeProperty(e)}},ee={name:"tag-*",priority:-1e3,bind(t){this.customData={originalTag:t.tagName.toLowerCase()}},routine(t,e){if(null===this.args)throw new Error("args is null");const s=this.el.tagName.toLowerCase();let i;if(i=e?this.args[0].trim().toLowerCase():this.customData.originalTag.toLowerCase(),s!==i){const e=document.createElement(i);for(;t.childNodes.length>0;)t.firstChild&&e.appendChild(t.firstChild);const s=Array.prototype.slice.call(t.attributes);for(const t of s)console.debug("attribute",t),e.setAttribute(t.name,t.value);t.parentNode?t.parentNode.replaceChild(e,t):console.warn("No parent"),this.el=e}}},se={name:"enabled",routine(t,e){t.disabled=!e}},ie={name:"flex-sort-childs",priority:9e4,routine(t,e){const s=Array.from(t.children);s.sort(((t,s)=>t.dataset.sortBy&&s.dataset.sortBy?t.dataset.sortBy<s.dataset.sortBy?e?1:-1:t.dataset.sortBy>s.dataset.sortBy?e?-1:1:0:0));for(let t=0;t<s.length;t++){s[t].style.order=t.toString()}}},ne={name:"disabled",routine(t,e){t.disabled=!!e}},oe={name:"maxlength",bind(){this.customData={}},routine(t,e){"number"==typeof e?(t.setAttribute("maxlength",e.toString()),t.maxLength=e):t.removeAttribute("maxlength")}},re={name:"not-draggable",bind(){this.customData={}},routine(t){t.addEventListener("dragstart",(t=>(t.preventDefault(),!1)))}},ae={name:"on-*",function:!0,priority:1e3,bind(){this.customData={handler:null}},unbind(t){if(this.customData.handler){if(null===this.args)throw new Error("args is null");const e=this.args[0];t.removeEventListener(e,this.customData.handler)}},routine(t,e){if(null===this.args)throw new Error("args is null");const s=this.args[0],i={passive:"true"===this.el.dataset.passive};this.customData.handler&&t.removeEventListener(s,this.customData.handler,i),this.customData.handler=this.eventHandler(e,t).bind(this.customData),t.addEventListener(s,this.customData.handler,i)}},le={name:"parent",routine(){},_bind(t){t.setBinderAttribute?t.setBinderAttribute("$parent",this.view.models):console.warn("[parentBinder] You can only use this binder on Riba components",t.localName,customElements.get(t.localName))},async bind(t){_t(t,!0,!0)?le._bind.call(this,t):_t(t,!0)?(console.debug(`[parentBinder] CustomElement ${t.localName} has been defined, but not yet upgraded. Waiting for upgrade.`,t),await Dt(t),le._bind.call(this,t)):console.warn("[parentBinder] You can only use this binder on Riba components",t.localName)}},ce={name:"readonly",bind(){this.customData={}},routine(t,e){e=!!e,t.readOnly=e,e?t.setAttribute("readonly",""):t.removeAttribute("readonly")}},he={name:"remove-class",bind(t){this.customData={staticClassesString:t.className}},routine(t,e){const s=new RegExp(`\\b${e}\\b`,"g");t.className=this.customData.staticClassesString.replace(s,"").trim()}},de=/^'.*'$|^".*"$/,ue=/((?:'[^']*')*(?:(?:[^|']*(?:'[^']*')+[^|']*)+|[^|]+))|^$/g;function pe(t){let e=0,s=t;if(void 0===t)return{type:e,value:void 0};if(de.test(t)){s=t.slice(1,-1);const e=M(s);s=e||s}else if("true"===t)s=!0;else if("false"===t)s=!1;else if("null"===t)s=null;else if("undefined"===t)s=void 0;else if(""===t)s=void 0;else if(isNaN(Number(t)))if(B(s)){const t=M(s);s=t||s}else e=1;else s=Number(t);return{type:e,value:s}}function me(t,e){let s=null;const i=t.length;let n=0,o=0;const r=e[0],a=e[1];for(;o<i;){if(n=t.indexOf(r,o),n<0){s&&s.push({type:0,value:t.slice(o)});break}{if(s=s||[],n>0&&o<n&&s.push({type:0,value:t.slice(o,n)}),o=n+r.length,n=t.indexOf(a,o),n<0){const e=t.slice(o-r.length),i=s[s.length-1];i&&0===i.type?i.value+=e:s.push({type:0,value:e});break}const e=t.slice(o,n).trim();s.push({type:1,value:e}),o=n+a.length}}return s}function ve(t,e,s){let i=!1;if((e=e).nodeType===Node.TEXT_NODE){let n=null;if(e.data&&(n=me(e.data,s)),n&&n.length){for(let s=0;s<n.length;s++){const i=n[s],o=document.createTextNode(i.value);e.parentNode&&o&&e&&e.parentNode.insertBefore(o,e),1===i.type&&t.buildBinding(o,null,i.value,Ce.mustacheTextBinder,null)}e.parentNode&&e.parentNode.removeChild(e)}i=!0}else e.nodeType===Node.ELEMENT_NODE&&(i=t.traverse(e));if(!i&&e.childNodes&&e.childNodes.length>0)for(let i=0;i<e.childNodes.length;i++){const n=e.childNodes[i];n&&ve(t,n,s)}}const ge={name:"json",read(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=JSON.stringify(t,null,e);return s&&i?i.replace(/'/g,"&#39;"):i}},fe={name:"*",bind(){},unbind(){delete this.customData},routine(t,e){if(!this.type)throw new Error("Can't set attribute of "+this.type);const s=t.getAttribute(this.type);let i;switch(typeof e){case"string":case"number":case"boolean":i=e;break;case"object":null===e?e=null:i=ge.read(e,0);break;default:i=e}null!=i?String(s).toString()!==String(i).toString()&&(t.setAttribute(this.type,i),t.dispatchEvent(new CustomEvent("binder-changed",{detail:{name:this.type,newValue:i,oldValue:s}}))):(t.removeAttribute(this.type),t.dispatchEvent(new CustomEvent("binder-changed",{detail:{name:this.type,newValue:i,oldValue:s}})))}};class be{constructor(t,e,s,i){this.binder=new st(t),this.component=new rt(e),this.formatter=new at(s),this.adapter=new et(i)}regist(t){if(!t)throw console.error(t),new Error("The Riba module is falsy!");t.binders&&this.binder.regists(t.binders),t.components&&this.component.regists(t.components),t.formatters&&this.formatter.regists(t.formatters),t.adapters&&this.adapter.regists(t.adapters)}}function we(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function ye(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?we(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):we(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class Ee{static handler(t,e,s,i){if(!this||!this.call){const t=new Error(`[rv-${s.type}="${s.keypath}"] Event handler "${s.keypath}" not found!"`);throw console.error(t,s,i,s.view.models),t}this.call(t,e,s.view.models,i)}set prefix(t){if(Array.isArray(t)){this._prefix=[],this._fullPrefix=[];for(const e of t)this._prefix.push(e),this._fullPrefix.push(e+"-")}}get prefix(){return this._prefix}get fullPrefix(){return this._fullPrefix}constructor(){if((0,P.Z)(this,"lifecycle",ot.getInstance()),(0,P.Z)(this,"binders",{}),(0,P.Z)(this,"components",{}),(0,P.Z)(this,"formatters",{}),(0,P.Z)(this,"adapters",{}),(0,P.Z)(this,"parseTemplate",me),(0,P.Z)(this,"parseType",pe),(0,P.Z)(this,"templateDelimiters",["{","}"]),(0,P.Z)(this,"rootInterface","."),(0,P.Z)(this,"preloadData",!0),(0,P.Z)(this,"removeBinderAttributes",!0),(0,P.Z)(this,"blockNodeNames",["SCRIPT","STYLE","TEMPLATE","CODE"]),(0,P.Z)(this,"blockUnknownCustomElements",!0),(0,P.Z)(this,"_prefix",["rv"]),(0,P.Z)(this,"_fullPrefix",["rv-"]),this.module=new be(this.binders,this.components,this.formatters,this.adapters),Ee.instance)return Ee.instance;Ee.instance=this}configure(t){if(t)for(const[e,s]of Object.entries(t))switch(e){case"binders":this.binders=ye(ye({},this.binders),s);break;case"formatters":this.formatters=ye(ye({},this.formatters),s);break;case"components":this.components=ye(ye({},this.components),s);break;case"adapters":this.adapters=ye(ye({},this.adapters),s);break;case"prefix":this.prefix=s;break;case"parseTemplate":this.parseTemplate=s;break;case"parseType":this.parseType=s;break;case"templateDelimiters":this.templateDelimiters=s;break;case"rootInterface":this.rootInterface=s;break;case"preloadData":this.preloadData=s;break;case"blockNodeNames":this.blockNodeNames=s;break;case"blockUnknownCustomElements":this.blockUnknownCustomElements=Boolean(s);break;default:console.warn("Option not supported",e,s)}}getViewOptions(t){const e={adapters:{},binders:{},components:{},formatters:{},attributeBinders:{},rootInterface:{}};if(t&&(e.binders=ye(ye({},e.binders),t.binders),e.formatters=ye(ye({},e.formatters),t.formatters),e.components=ye(ye({},e.components),t.components),e.adapters=ye(ye({},e.adapters),t.adapters)),null!=t&&t.prefix&&Array.isArray(null==t?void 0:t.prefix)){e.prefix=[],e.fullPrefix=[];for(const s of t.prefix)e.prefix.push(s),e.fullPrefix.push(s+"-")}else e.prefix=this.prefix,e.fullPrefix=this.fullPrefix;return e.templateDelimiters=(null==t?void 0:t.templateDelimiters)||this.templateDelimiters,e.rootInterface=(null==t?void 0:t.rootInterface)||this.rootInterface,e.removeBinderAttributes="boolean"==typeof(null==t?void 0:t.removeBinderAttributes)?t.removeBinderAttributes:this.removeBinderAttributes,e.blockNodeNames=(null==t?void 0:t.blockNodeNames)||this.blockNodeNames,e.preloadData="boolean"==typeof(null==t?void 0:t.preloadData)?t.preloadData:this.preloadData,e.handler=(null==t?void 0:t.handler)||Ee.handler,e.binders=ye(ye({},this.binders),e.binders),e.formatters=ye(ye({},this.formatters),e.formatters),e.components=ye(ye({},this.components),e.components),e.adapters=ye(ye({},this.adapters),e.adapters),e.binders&&(e.attributeBinders=Object.keys(e.binders).filter((t=>t.indexOf("*")>=1))),e}bind(t,e,s){const i=this.getViewOptions(s);e=e||Object.create(null),tt.updateOptions(i);const n=new Ce(t,e,i);return n.bind(),n}}(0,P.Z)(Ee,"fallbackBinder",fe),window.Riba=Ee;class Se{constructor(t,e,s,i,n,o,r){(0,P.Z)(this,"formatterObservers",{}),this.view=t,this.el=e,this.type=s,this.keypath=i,this.binder=n,this.formatters=o,this.model=void 0,this.customData={},this.args=r&&s?this.getStarArguments(r,s):new Array}observe(t,e,s){return new tt(t,e,s)}parseTarget(){if(this.keypath){const t=pe(this.keypath);if(0===t.type)this.value=t.value;else{if(1!==t.type)throw new Error(`[${this.binder.name}] Unknown type in token`);this.observer=this.observe(this.view.models,this.keypath,this),this.model=this.observer.target}}else this.value=void 0}getIterationAlias(t){return"%"+t+"%"}parseFormatterArguments(t,e){return t.map(pe).map(((t,s)=>{let{type:i,value:n}=t;if(0===i){return n}if(1===i){const t=n;this.formatterObservers[e]||(this.formatterObservers[e]={});let i=this.formatterObservers[e][s];return i||(i=this.observe(this.view.models,t,this),this.formatterObservers[e][s]=i),i.value()}throw new Error(`[${this.binder.name}] Unknown argument type`)}))}formattedValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null===this.formatters)throw new Error(`[${this.binder.name} formatters is null`);let s=!1;const i=e?this.formatters.slice(e):this.formatters;return i.reduce(((e,n,o)=>{if(s)return e;const r=n.match(Se.FORMATTER_ARGS);if(null===r)return console.warn(new Error(`[${this.binder.name}] No args matched with regex "FORMATTER_ARGS"!\nvalue: ${JSON.stringify(t)}\nresult: ${JSON.stringify(e)}\ndeclaration: ${JSON.stringify(n)}\nindex: ${o}\n`)),e;const a=r.shift();if(!a)throw new Error(`[${this.binder.name}] No formatter id found in args!`);if(!this.view.options.formatters)throw new Error(`[${this.binder.name}] No formatters are defined!`);const l=this.view.options.formatters[a];if(!l)throw new Error(`[${this.binder.name}] No formatters with id "${a}" found!`);const c=this.parseFormatterArguments(r,o);return l&&"function"==typeof l.read&&(e=l.read.apply(this.model,[e,...c])),o<i.length-1&&e&&"function"==typeof e.then&&"function"==typeof e.catch?(s=!0,e.then((t=>this.formattedValue(t,o+1)))):e}),t)}eventHandler(t,e){const s=this,i=s.view.options.handler;return n=>{if(!i)throw new Error("No handler defined in binding.view.options.handler");i.call(t,this,n,s,e)}}set(t){if(null!==this.binder){try{t=this.formattedValue(t)}catch(e){return console.error(e),t}this.binder&&"function"==typeof this.binder.routine&&(t&&"function"==typeof t.then&&"function"==typeof t.catch?t.then((t=>{this.binder.routine.call(this,this.el,t)})).catch((t=>{console.error(t)})):this.binder.routine.call(this,this.el,t))}else console.warn(new Error("Binder is null"),this)}sync(){this.observer?(this.model=this.observer.target,this.set(this.observer.value())):this.set(this.value)}publish(){if(this.observer){if(null===this.formatters)throw new Error("formatters is null");const t=this.formatters.reduceRight(((t,e,s)=>{const i=e.split(Se.FORMATTER_SPLIT),n=i.shift();if(!n)throw new Error("id not defined");if(!this.view.options.formatters)return;const o=this.view.options.formatters[n],r=this.parseFormatterArguments(i,s);return o&&"function"==typeof o.publish&&(t=o.publish(t,...r)),t}),this.getValue(this.el));this.observer.setValue(t)}}bind(){if(this.parseTarget(),this.binder&&this.binder.bind){if("function"!=typeof this.binder.bind)throw new Error("the method bind is not a function");this.binder.bind.call(this,this.el)}this.view.options.preloadData&&this.sync()}unbind(){this.binder?(this.binder.unbind&&this.binder.unbind.call(this,this.el),this.observer&&this.observer.unobserve(),Object.keys(this.formatterObservers).forEach((t=>{const e=this.formatterObservers[t];Object.keys(e).forEach((t=>{e[t].unobserve()}))})),this.formatterObservers={}):console.warn(new Error("Binder is not defined"),this)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.observer&&(this.model=this.observer.target),null===this.binder)throw new Error("binder is null");"function"==typeof this.binder.update&&this.binder.update.call(this,t)}getValue(t){if(null===this.binder)throw new Error("binder is null");return"function"==typeof this.binder.getValue?this.binder.getValue.call(this,t):wt(t)}getStarArguments(t,e){const s=new RegExp(`^${t.replace(/\*/g,"(.+)")}$`),i=e.match(s);return i&&i.slice(1)||[]}}(0,P.Z)(Se,"FORMATTER_ARGS",/[^\s']+|'([^']|'[^\s])*'|"([^"]|"[^\s])*"/g),(0,P.Z)(Se,"FORMATTER_SPLIT",/\s+/);class Ce{static create(t,e,s){var i;const n=t.el.cloneNode(!0),o=new Ce(n,e,t.view.options);return o.bind(),null!=t&&null!==(i=t.marker)&&void 0!==i&&i.parentNode?t.marker.parentNode.insertBefore(n,s):console.warn("[View]: No parent node for binding!"),o}constructor(t,e,s){(0,P.Z)(this,"bindings",[]),(0,P.Z)(this,"webComponents",[]),Array.isArray(t)?this.els=t:this.els=[t],this.models=e,this.options=s,this.build()}registComponents(){for(const t in this.options.components)if(this.options.components[t]&&!customElements.get(t)){const e=this.options.components[t];this.registComponent(e,t)}}bind(){this.bindings.forEach((t=>{t.bind()}))}unbind(){Array.isArray(this.bindings)&&this.bindings.forEach((t=>{t.unbind(),t.el,this.options.removeBinderAttributes})),Array.isArray(this.webComponents)&&this.webComponents.forEach((t=>{"function"==typeof t.unbind&&t.unbind()}))}sync(){this.bindings.forEach((t=>{t.sync&&t.sync()}))}publish(){this.bindings.forEach((t=>{t.binder&&t.binder.publishes&&t.publish&&t.publish()}))}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach((e=>{this.models[e]=t[e]}));for(const e of this.bindings)e.update(t)}build(){if(this.bindings=[],!this.options.templateDelimiters)throw new Error("templateDelimiters required");const t=this.els;for(let e=0;e<t.length;e++){const s=t[e];s&&ve(this,s,this.options.templateDelimiters)}this.bindings.sort(Ce.bindingComparator)}startsWithPrefix(t){const e=this.options.fullPrefix;if(!e)throw new Error("prefix is required");for(const s of e)if(t.startsWith(s))return s}traverse(t){let e=-1!==this.options.blockNodeNames.indexOf(t.nodeName);const s=t.attributes,i=[],n=this.options.attributeBinders;if(s&&this.options.binders){for(let e=0,o=s.length;e<o;e++){let o=null,r=null,a=null;const l=s[e],c=this.startsWithPrefix(l.name);if(c){if(o=l.name.slice(c.length),this.options.binders[o]&&(r=this.options.binders[o]),null===r)for(let t=0;t<n.length;t++){a=n[t];if(new RegExp(`^${a.replace(/\*/g,".+")}$`).test(o)){r=this.options.binders[a];break}}if(null===r&&(this.options.binders["*"]?(r=this.options.binders["*"],a="*"):r=Ee.fallbackBinder),r.block)return this.buildBinding(t,o,l.value,r,a),t.removeAttribute&&this.options.removeBinderAttributes&&t.removeAttribute(l.name),!0;i.push({attr:l,binder:r,nodeName:o,identifier:a})}}for(let e=0;e<i.length;e++){const s=i[e];this.buildBinding(t,s.nodeName,s.attr.value,s.binder,s.identifier),t.removeAttribute&&this.options.removeBinderAttributes&&t.removeAttribute(s.attr.name)}}if(!e&&!t._bound&&this.options.components){const s=t.nodeName.toLowerCase(),i=this.options.components[s];i?(this.registComponent(i,s),e=!0):this.options.blockUnknownCustomElements&&_t(t)&&!s.endsWith("-page")&&(e=!0)}return e}buildBinding(t,e,s,i,n){const o=function(t){const e=t.match(ue);if(null===e)throw new Error("[View] No matches");const s=e.map((t=>t.trim()));return{keypath:s.shift()||void 0,pipes:s}}(s),r=o.keypath,a=o.pipes;this.bindings.push(new Se(this,t,e,r,i,a,n))}registComponent(t,e){if(!customElements)throw console.error("customElements not supported by your browser!"),new Error("customElements not supported by your browser!");const s=e||t.tagName;customElements.get(s)||customElements.define(t.tagName,t)}}(0,P.Z)(Ce,"mustacheTextBinder",{name:"mustache-text",routine:(t,e)=>{t.data=null!=e?e:""}}),(0,P.Z)(Ce,"bindingComparator",((t,e)=>{var s,i;const n=(null===(s=t.binder)||void 0===s?void 0:s.priority)||0;return((null===(i=e.binder)||void 0===i?void 0:i.priority)||0)-n}));const Ae={name:"if",block:!0,priority:4e3,bind(t){var e,s,i;(this.customData={},this.marker)?this.customData.nested&&this.customData.nested.bind():(this.marker=null===(e=window)||void 0===e||null===(s=e.document)||void 0===s?void 0:s.createComment(" riba: "+this.type+" "+this.keypath+" "),this.customData.attached=!1,null!==(i=t.parentNode)&&void 0!==i&&i.insertBefore&&(t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)))},unbind(){this.customData.nested&&this.customData.nested.unbind()},routine(t,e){(e=!!e)!==this.customData.attached&&(e?(this.customData.nested||(this.customData.nested=new Ce(t,this.view.models,this.view.options),this.customData.nested.bind()),this.marker&&this.marker.parentNode&&this.marker.parentNode.insertBefore(t,this.marker.nextSibling),this.customData.attached=!0):(t.parentNode&&t.parentNode.removeChild(t),this.customData.attached=!1))},update(t){this.customData.nested&&this.customData.nested.update(t)}},Te={name:"each-*",block:!0,priority:4e3,bind(t){var e,s,i;this.marker?this.customData.iterated.forEach((t=>{t.bind()})):(this.marker=null===(e=window)||void 0===e||null===(s=e.document)||void 0===s?void 0:s.createComment(` riba: ${this.type} `),this.customData={iterated:[]},null!==(i=t.parentNode)&&void 0!==i&&i.insertBefore&&this.marker&&(t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)))},unbind(){this.customData.iterated&&this.customData.iterated.forEach((t=>{t.unbind()}))},routine(t,e){if(null===this.args)throw new Error("args is null");let s=!1;const i=W(this.args[0].toString());if(e=e||[],Array.isArray(e)||"object"!=typeof e||null===e||(console.debug("original collection",e),e=Object.entries(e).map((t=>{let[e,s]=t;return{key:e,value:s}})),s=!0,console.debug("converted collection",e)),!Array.isArray(e))throw new Error(`each-${this.args[0]} needs an array or object to iterate over, but it is ${typeof e}`);const n=t.getAttribute("index-property")||this.getIterationAlias(i);e.forEach(((t,e)=>{const o={$parent:this.view.models};s?(o[n]=t.key,o[i]=t.value):(o[n]=e,o[i]=t);let r=this.customData.iterated[e];if(r)if(r.models[i]!==t){let s,l;for(let n=e+1;n<this.customData.iterated.length;n++)if(l=this.customData.iterated[n],l.models[i]===t){s=n;break}if(void 0!==s){var a;if(this.customData.iterated.splice(s,1),!this.marker||null===(a=this.marker.parentNode)||void 0===a||!a.insertBefore)throw new Error("Marker has no parent node");l.els[0]&&r.els[0]&&this.marker.parentNode.insertBefore(l.els[0],r.els[0]),l.models[n]=e}else l=Ce.create(this,o,r.els[0]);this.customData.iterated.splice(e,0,l)}else r.models[n]=e;else{let t;if(this.customData.iterated.length?t=this.customData.iterated[this.customData.iterated.length-1].els[0]:this.marker&&(t=this.marker),!t)return;r=Ce.create(this,o,t.nextSibling),this.customData.iterated.push(r)}})),this.customData.iterated.length>e.length&&((t,e)=>{for(let s=0;s<t;s++)e()})(this.customData.iterated.length-e.length,(()=>{const t=this.customData.iterated.pop();if(t.unbind(),!this.marker||!this.marker.parentNode)throw new Error("Marker has no parent node");this.marker.parentNode.removeChild(t.els[0])})),"OPTION"===t.nodeName&&this.view.bindings&&this.view.bindings.forEach((t=>{this.marker&&t.el===this.marker.parentNode&&"value"===t.type&&t.sync&&t.sync()}))},update(t){const e={};Object.keys(t).forEach((s=>{if(null===this.args)throw new Error("args is null");s!==this.args[0]&&(e[s]=t[s])})),this.customData.iterated.forEach((t=>{t.update(e)}))}},ke={name:"html",routine(t,e){t.innerHTML=void 0!==e?e:""}},_e={name:"hide",routine(t,e){t.style.display=e?"none":"",e?t.setAttribute("hidden","true"):t.removeAttribute("hidden")}},De={name:"show",routine(t,e){t.style.display=e?"":"none",e?t.removeAttribute("hidden"):t.setAttribute("hidden","true")}},Le={name:"srcset-*",routine(t,e){const s=this.args[0];let i=t.getAttribute("srcset");if("string"!=typeof i&&(i=""),"string"==typeof e&&e.length>0){i+=`${i.length>0?", ":""}${e} ${s}`}else{let t=i.split(",");t=t.map((t=>t.trim())),t=t.filter((t=>!(-1!==t.indexOf(s)))),i=t.join(", ")||""}t.setAttribute("srcset",i)}},Oe={name:"style-background-image",routine(t,e){const s="background-image";null==e||""===e?t.style.removeProperty(s):t.style.setProperty(s,`url(${e})`)}},xe={name:"text",routine(t,e){t.textContent=null!=e?e:""}},Pe={name:"toggle-on-*",bind(t){this.customData={handler:null,propertyKey:null,toggle:()=>{this.customData.propertyKey&&(this.view.models[this.customData.propertyKey]=!this.view.models[this.customData.propertyKey])}};const e=this.args[0],s="true"===this.el.dataset.passive;t.addEventListener(e,this.customData.toggle,{passive:s})},unbind(t){if(this.customData.handler){if(null===this.args)throw new Error("args is null");const e=this.args[0];t.removeEventListener(e,this.customData.toggle)}},routine(t,e){if(null===this.args)throw new Error("args is null");this.customData.propertyKey=e}},Ie={name:"template",bind(t){this.customData={nested:new Ce(t,this.view.models,this.view.options)}},routine(t,e){var s,i;null===(s=this.customData.nested)||void 0===s||s.unbind(),t.innerHTML=e||"",this.customData.nested=new Ce(t,this.view.models,this.view.options),null===(i=this.customData.nested)||void 0===i||i.bind()},unbind(){var t;null===(t=this.customData.nested)||void 0===t||t.unbind()},update(t){var e;null===(e=this.customData.nested)||void 0===e||e.update(t)}},Ne={name:"unless",block:!0,priority:4e3,bind:Ae.bind,unbind:Ae.unbind,routine(t,e){return Ae.routine.call(this,t,!e)},update:Ae.update},Be=t=>{const e={};return e.type=t.type,e.tagName=t.tagName,e.contenteditable=!!t.getAttribute("contenteditable"),e.isRadio="INPUT"===e.tagName&&"radio"===e.type,e},Ze={name:"value",publishes:!0,priority:3e3,onChange(){this.publish()},bind(t){if(this.customData||(this.customData=Be(t)),!this.customData.isRadio){this.customData.event=t.getAttribute("event-name")||"change input paste blur focus";const e=this;this.customData.onChange||(this.customData.onChange=()=>{e.publish()});const s=this.customData.event.split(" ");for(const e of s)t.addEventListener(e.trim(),this.customData.onChange,!1)}},unbind(t){const e=this.customData.event.split(" ");for(const s in e)t.removeEventListener(s.trim(),this.customData.onChange)},routine(t,e){let s=this.getValue(t);if(Array.isArray(e)||(e=null!=e?U(e):""),Array.isArray(s)||(s=null!=s?U(s):""),s!==e)if(this.customData||(this.customData=Be(t)),this.customData.isRadio)t.setAttribute("value",e);else if("select-multiple"===t.type){if(Array.isArray(e))for(let s=0;s<t.options.length;s++){const i=t.options[s];i.selected=e.indexOf(i.value)>-1}}else t.getAttribute("contenteditable")?t.innerHTML=e:t.value=e},getValue:wt},Me=()=>{let t="#";for(let e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t};class Re extends HTMLElement{constructor(){super(),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"templateLoaded",!1),(0,P.Z)(this,"observedAttributesToCheck",{}),(0,P.Z)(this,"observedAttributes",[]),this._debug&&(this._color=Me())}remove(){this&&this.parentElement&&this.parentElement.removeChild(this)}_log(t){const e=this.constructor.name||this.tagName;this._color||(this._color=Me());for(var s=arguments.length,i=new Array(s>1?s-1:0),n=1;n<s;n++)i[n-1]=arguments[n];!function(t){const e=[];t.color?(t.namespace?e.push(`%c[${t.namespace}] ${t.mode.toUpperCase()}: `):e.push(`%c${t.mode.toUpperCase()}: `),e.push(`color: ${t.color}`)):t.namespace?e.push(`[${t.namespace}] ${t.mode.toUpperCase()}: `):e.push(`${t.mode.toUpperCase()}: `);for(var s=arguments.length,i=new Array(s>1?s-1:0),n=1;n<s;n++)i[n-1]=arguments[n];e.push(...i),console[t.mode](...e)}({namespace:e,color:this._color,mode:t},...i)}info(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this._log("info",...e)}debug(){if(this._debug){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this._log("debug",...e)}}error(){console.error(...arguments)}requiredAttributes(){return[]}async init(t){this.loadAttributes(t),this.getPassedObservedAttributes(t)}ready(){return this.allPassedObservedAttributesAreInitialized()&&this.checkRequiredAttributes()}attributeIsPassed(t){return this.hasAttribute(t)}getPassedObservedAttributes(t){const e=this.observedAttributesToCheck;for(const s of t)e[s]?e[s].passed||(e[s].passed=this.attributeIsPassed(s)):e[s]={passed:!1,initialized:!1}}allPassedObservedAttributesAreInitialized(){return Object.keys(this.observedAttributesToCheck).every((t=>{var e,s;return!(null!==(e=this.observedAttributesToCheck[t])&&void 0!==e&&e.passed)||(null===(s=this.observedAttributesToCheck[t])||void 0===s?void 0:s.initialized)}))}checkRequiredAttributes(){return this.requiredAttributes().every((t=>(t=W(t),this.scope.hasOwnProperty(t)&&void 0!==this.scope[t])))}parseAttribute(t){let e=t;if("true"===t)e=!0;else if("false"===t)e=!1;else if("null"===t)e=null;else if("undefined"===t)e=void 0;else if(""===t)e=void 0;else if(isNaN(Number(t))){const t=M(e);e=t||e}else e=Number(t),e>=Number.MAX_SAFE_INTEGER&&(e=t);return e}eventHandler(t){return function(e,s,i,n){if(!this||!this.call){const t=new Error(`[rv-${i.type}="${i.keypath}"] Event handler "${i.keypath}" not found!"`);throw console.error(i,n),t}this.call(t,s,i.view.models,n)}}connectedCallback(){}disconnectedCallback(){}async attributeChangedCallback(t,e,s,i){this.observedAttributesToCheck&&this.observedAttributesToCheck[t]&&(this.observedAttributesToCheck[t].initialized=!0),s=this.parseAttribute(s);const n=W(t);this.scope&&this.scope[n]&&(e=this.scope[n]),this.scope[n]=s,this.parsedAttributeChangedCallback(n,e,s,i)}parsedAttributeChangedCallback(t,e,s,i){this.debug("parsedAttributeChangedCallback called",t,e,s,i)}adoptedCallback(t,e){this.debug("adoptedCallback called",t,e)}async loadTemplate(){return!0===this.templateLoaded?null:this.checkRequiredAttributes()?(this.templateLoaded=!0,Promise.resolve(this.template()).then((t=>(t instanceof HTMLElement?(this.innerHTML="",this.appendChild(t)):null!==t&&(this.innerHTML=t),t))).catch((t=>(console.error(t),this.templateLoaded=!1,null)))):(this.debug("Not all required attributes are set to load the template"),null)}async beforeTemplate(){}async afterTemplate(t){this.debug("afterTemplate",t)}async onReady(){}observe(t,e){return new tt(this.scope,t,e)}observeAttribute(t,e){const s=W(t);return this.observe(s,e)}setBinderAttribute(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=W(t),n=this.scope[i];this.attributeChangedCallback(t,n,e,s)}getBinderAttribute(t){const e=W(t);return this.scope[e]}loadAttributes(t){const e=this.attributes;for(const s in e){const i=e[s],n=i.nodeName;if(-1!==t.indexOf(n)){const t=i.nodeValue;this.attributeChangedCallback(n,void 0,t,null)}}}}class He extends Re{get binds(){return this._binds}get bound(){return this._bound}get connected(){return this._connected}get disconnected(){return this._disconnected}constructor(){super(),(0,P.Z)(this,"view",null),(0,P.Z)(this,"_binds",!1),(0,P.Z)(this,"_bound",!1),(0,P.Z)(this,"_connected",!1),(0,P.Z)(this,"_disconnected",!1),(0,P.Z)(this,"lifecycleEvents",it.getInstance("lifecycle")),(0,P.Z)(this,"autobind",!0),this.lifecycleEvents.trigger("Component:constructor",this.getLifecycleEventData()),this.lifecycleEvents.on("ComponentLifecycle:allBound",this.afterAllBind,this)}async init(t){try{return await super.init(t),this.lifecycleEvents.trigger("Component:init",this.getLifecycleEventData()),this.bindIfReady()}catch(t){this.throw(t)}}throw(t){t.message&&console.error(`[${this.tagName}] ${t.message}`),this.lifecycleEvents.trigger("Component:error",t,this.getLifecycleEventData()),this.error(t)}async bindIfReady(){if(this.ready()){await this.beforeTemplate();const t=await this.loadTemplate();return await this.afterTemplate(t),this.autobind&&await this.bind(),void await this.onReady()}this.debug("Not all required or passed attributes are set to load and bind the template",this.observedAttributesToCheck,this.scope)}async _beforeBind(){this._binds=!0,this.debug("Start to bind Riba"),this.lifecycleEvents.trigger("Component:beforeBind",this.getLifecycleEventData())}async beforeBind(){}async _afterBind(){this._binds=!1,this._bound=!0,this.lifecycleEvents.trigger("Component:afterBind",this.getLifecycleEventData())}async afterBind(){}async afterAllBind(){}getLifecycleEventData(){return{tagName:this.tagName.toLowerCase(),component:this}}disconnectedCallback(){try{this._disconnected=!0,this._connected=!1,super.disconnectedCallback(),this.lifecycleEvents.trigger("Component:disconnected",this.getLifecycleEventData()),this.lifecycleEvents.off("ComponentLifecycle:allBound",this.afterAllBind,this)}catch(t){this.throw(t)}}connectedCallback(){try{this._disconnected=!1,this._connected=!0,super.connectedCallback(),this.lifecycleEvents.trigger("Component:connected",this.getLifecycleEventData())}catch(t){this.throw(t)}}async attributeChangedCallback(t,e,s,i){try{super.attributeChangedCallback(t,e,s,i),await this.bindIfReady()}catch(t){this.throw(t)}}callFormatterHandler(t){return{name:"call",read:function(e){for(var s=arguments.length,i=new Array(s>1?s-1:0),n=1;n<s;n++)i[n-1]=arguments[n];if(!e)throw new Error(`[${t.tagName}] Can not use "call" formatter: fn is undefined!`);return e.apply(t,i)}}}argsFormatterHandler(t){return{name:"args",read:function(e){for(var s=arguments.length,i=new Array(s>1?s-1:0),n=1;n<s;n++)i[n-1]=arguments[n];return(s,n,o,r)=>{if(!e)throw new Error(`[${t.tagName}] Can not use "args" formatter: fn is undefined!`);return i.push(s),i.push(n),i.push(o),i.push(r),e.apply(t,i)}}}}async bind(){if(this.binds||this.bound)return this.view;if(this.checkRequiredAttributes()){try{await this._beforeBind(),await this.beforeBind(),this.riba=new Ee,this.view=this.getView(),this.view&&(this.scope=this.view.models,this.view.bind()),await this._afterBind(),await this.afterBind()}catch(t){this._binds=!1,this._bound=!1,this.throw(t)}return this.view}this.debug("Not all required attributes are set for bind")}getView(){try{var t;const e=null===(t=this.riba)||void 0===t?void 0:t.getViewOptions({handler:this.eventHandler(this),formatters:{call:this.callFormatterHandler(this),args:this.argsFormatterHandler(this)}});if(e){return new Ce(Array.prototype.slice.call(this.childNodes),this.scope,e)}return null}catch(t){this.throw(t)}}async unbind(){try{this.view&&(this._binds=!1,this._bound=!1,this.view.unbind(),this.view=null)}catch(t){this.throw(t)}}async build(){try{this.view&&this.view.build()}catch(t){this.throw(t)}}}class je extends He{static get observedAttributes(){return["video-src","autoplay-on-min-buffer","autoplay-media-query"]}get muted(){return this.video&&this.video.muted}set muted(t){this.video.muted=t,this.scope.muted=this.video.muted,t?this.video.setAttribute("muted",""):this.video.removeAttribute("muted"),this.onUpdate()}get volume(){var t;return(null===(t=this.video)||void 0===t?void 0:t.volume)||0}set volume(t){this.video.volume=t,this.onUpdate()}get loop(){var t;return null===(t=this.video)||void 0===t?void 0:t.loop}set loop(t){this.video.loop=t,t?this.video.setAttribute("loop",""):this.video.removeAttribute("loop"),this.onUpdate()}get controls(){var t;return null===(t=this.video)||void 0===t?void 0:t.controls}set controls(t){this.video.controls=t,this.scope.controls=this.video.controls,t?(this.video.setAttribute("controls",""),this.video.dispatchEvent(new Event("mouseover")),this.video.dispatchEvent(new Event("mouseenter")),this.video.dispatchEvent(new Event("mousemove"))):this.video.removeAttribute("controls"),this.onUpdate()}get currentTime(){var t;return(null===(t=this.video)||void 0===t?void 0:t.currentTime)||0}set currentTime(t){this.video.currentTime=t,this.onUpdate()}get autoplay(){var t;return(null===(t=this.video)||void 0===t?void 0:t.autoplay)||!1}set autoplay(t){this.video.autoplay=t,this.onUpdate()}get height(){var t;return(null===(t=this.video)||void 0===t?void 0:t.height)||0}set height(t){this.video.height=t,this.onUpdate()}get width(){var t;return(null===(t=this.video)||void 0===t?void 0:t.width)||0}set width(t){this.video.width=t,this.onUpdate()}get poster(){var t;return null===(t=this.video)||void 0===t?void 0:t.poster}set poster(t){this.video.poster=t,this.onUpdate()}get preload(){var t;return null===(t=this.video)||void 0===t?void 0:t.preload}set preload(t){this.video.preload=t,this.onUpdate()}get disablePictureInPicture(){var t,e;return(null===(t=this.video)||void 0===t?void 0:t.disablePictureInPicture)||(null===(e=this.video)||void 0===e?void 0:e.hasAttribute("disablePictureInPicture"))||!1}set disablePictureInPicture(t){var e;void 0!==(null===(e=this.video)||void 0===e?void 0:e.disablePictureInPicture)&&(this.video.disablePictureInPicture=t),t?this.video.setAttribute("disablePictureInPicture",""):this.video.removeAttribute("disablePictureInPicture"),this.onUpdate()}get paused(){var t;return(null===(t=this.video)||void 0===t?void 0:t.paused)??!0}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"alreadyStartedPlaying",!1),(0,P.Z)(this,"wasPaused",!1),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"scope",{muted:this.muted,volume:this.volume,loop:this.loop,controls:this.controls,currentTime:this.currentTime,videoSrc:void 0,autoplayOnMinBuffer:0,autoplayMediaQuery:"",disablePictureInPicture:this.disablePictureInPicture,paused:this.paused,loading:!1,duration:0,readyState:I.HAVE_NOTHING,buffer:0,toggleMute:this.toggleMute,toggleControls:this.toggleControls,play:this.play,pause:this.pause,togglePlay:this.togglePlay,togglePause:this.togglePause,reset:this.reset}),(0,P.Z)(this,"onUpdate",this._onUpdate.bind(this)),(0,P.Z)(this,"forceAutoplay",this._forceAutoplay.bind(this)),(0,P.Z)(this,"onMediaQueryListEvent",this._onMediaQueryListEvent.bind(this)),(0,P.Z)(this,"onVideoProgress",this._onVideoProgress.bind(this)),(0,P.Z)(this,"onLoadStart",this._onLoadStart.bind(this)),(0,P.Z)(this,"onCanPlay",this._onCanPlay.bind(this)),(0,P.Z)(this,"onCanPlayThrough",this._onCanPlayThrough.bind(this)),(0,P.Z)(this,"onWaiting",this._onWaiting.bind(this)),(0,P.Z)(this,"onDurationChange",this._onDurationChange.bind(this)),(0,P.Z)(this,"onTimeUpdate",this._onTimeUpdate.bind(this)),(0,P.Z)(this,"onPlay",this._onPlay.bind(this)),(0,P.Z)(this,"onPause",this._onPause.bind(this));const t=this.querySelector("video");this.video=t}toggleMute(){this.debug("toggleMute"),this.muted=!this.muted,this.onUpdate()}toggleControls(){this.debug("toggleControls"),this.controls=!this.controls,this.onUpdate()}play(){this.debug("play"),this.video.play()}pause(){this.debug("pause"),this.video.pause(),this.onUpdate()}togglePlay(){return this.paused?this.play():this.pause()}togglePause(){return this.debug("togglePause"),this.togglePlay()}reset(){this.debug("reset"),this.video.currentTime=0,this.onUpdate()}connectedCallback(){super.connectedCallback(),this.init(je.observedAttributes)}initVideoElement(){const t=this.querySelector("video");if(!t)throw new Error("The video child element is required!");this.video=t,this.addEventListeners(),this.onUpdate()}resetVideo(){this.video.innerHTML="";const t=this.video.cloneNode(!0),e=this.querySelector(".video-wrapper");this.removeEventListeners(),this.video.remove(),e?e.appendChild(t):this.appendChild(t),this.video=t,this.video.hasAttribute("muted")?this.muted=!0:this.muted=!1,this.video.hasAttribute("controls")?this.controls=!0:this.controls=!1,this.video.hasAttribute("autoplay")?this.autoplay=!0:this.autoplay=!1,this.video.hasAttribute("height")&&(this.height=$(this.video.getAttribute("height")||0)),this.video.hasAttribute("width")&&(this.width=$(this.video.getAttribute("width")||0)),this.video.hasAttribute("loop")?this.loop=!0:this.loop=!1,this.video.hasAttribute("muted")?this.muted=!0:this.muted=!1,this.video.hasAttribute("poster")&&(this.poster=this.video.getAttribute("poster")||""),this.video.hasAttribute("preload")&&(this.preload=this.video.getAttribute("preload")||""),this.video.hasAttribute("disablePictureInPicture")?this.disablePictureInPicture=!0:this.disablePictureInPicture=!1,this.scope.readyState=I.HAVE_NOTHING,this.alreadyStartedPlaying=!1,this.scope.loading=!1,this.initVideoElement()}setVideoSource(){if(this.scope.videoSrc){this.resetVideo();let t=this.video.querySelector("source");t||(t=document.createElement("source"),this.video.appendChild(t)),t.setAttribute("src",this.scope.videoSrc)}}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),this.debug("parsedAttributeChangedCallback",t),"videoSrc"===t&&this.setVideoSource()}addEventListeners(){if(this.scope.autoplayMediaQuery){const t=window.matchMedia(this.scope.autoplayMediaQuery);t.addEventListener("change",this.onMediaQueryListEvent),t.matches&&this.startAutoplay()}this.video.addEventListener("progress",this.onVideoProgress),this.video.addEventListener("loadstart",this.onLoadStart),this.video.addEventListener("canplay",this.onCanPlay),this.video.addEventListener("canplaythrough",this.onCanPlayThrough),this.video.addEventListener("waiting",this.onWaiting),this.video.addEventListener("durationchange",this.onDurationChange),this.video.addEventListener("timeupdate",this.onTimeUpdate),this.video.addEventListener("play",this.onPlay),this.video.addEventListener("pause",this.onPause)}removeEventListeners(){if(this.scope.autoplayMediaQuery){window.matchMedia(this.scope.autoplayMediaQuery).removeEventListener("change",this.onMediaQueryListEvent)}this.video.removeEventListener("progress",this.onVideoProgress),this.video.removeEventListener("loadstart",this.onLoadStart),this.video.removeEventListener("canplay",this.onCanPlay),this.video.removeEventListener("canplaythrough",this.onCanPlayThrough),this.video.removeEventListener("waiting",this.onWaiting),this.video.removeEventListener("durationchange",this.onDurationChange),this.video.removeEventListener("timeupdate",this.onTimeUpdate),this.video.removeEventListener("play",this.onPlay),this.video.removeEventListener("pause",this.onPause)}_onUpdate(){this.scope.muted!==this.video.muted&&(this.scope.muted=this.video.muted),this.scope.volume!==this.video.volume&&(this.scope.volume=this.video.volume),this.scope.loop!==this.video.loop&&(this.scope.loop=this.video.loop),this.scope.controls!==this.video.controls&&(this.scope.controls=this.video.controls),this.scope.currentTime!==this.video.currentTime&&(this.scope.currentTime=this.video.currentTime),this.scope.paused!==this.video.paused&&(this.scope.paused=this.video.paused),this.scope.duration!==this.video.duration&&(this.scope.duration=this.video.duration),this.scope.readyState!==this.video.readyState&&(this.scope.readyState=this.video.readyState)}async beforeBind(){this.initVideoElement()}startAutoplay(){this.scope.autoplayOnMinBuffer?this.forceLoad():this.forceAutoplay()}forceLoad(){this.video.setAttribute("preload","auto"),this.video.load()}_forceAutoplay(){this.alreadyStartedPlaying||(this.alreadyStartedPlaying=!0,this.video.muted=!0,this.forceLoad(),this.play())}_onMediaQueryListEvent(t){t.matches?this.alreadyStartedPlaying?this.wasPaused||this.play():this.startAutoplay():(this.wasPaused=this.video.paused,this.pause())}_onVideoProgress(){if(this.debug("_onVideoProgress"),this.alreadyStartedPlaying)return;if(isNaN(this.video.duration))return void console.warn("Video duration is NaN");let t=0;for(let e=0;e<this.video.buffered.length;e++)t+=this.video.buffered.end(e)-this.video.buffered.start(e);this.scope.buffer=t/this.video.duration,this.scope.autoplayOnMinBuffer&&this.scope.buffer>this.scope.autoplayOnMinBuffer&&this.forceAutoplay()}_onLoadStart(){this.debug("_onLoadStart"),this.scope.loading=!0,this.onUpdate()}_onCanPlay(){this.debug("_onCanPlay"),this.onUpdate()}_onCanPlayThrough(){this.scope.loading=!1,this.scope.autoplayOnMinBuffer&&this.forceAutoplay(),this.onUpdate()}_onWaiting(){this.debug("_onPlay"),this.scope.loading=!0,this.onUpdate()}_onDurationChange(){this.onUpdate()}_onTimeUpdate(){this.onUpdate()}_onPlay(){this.debug("_onPlay"),this.scope.loading=!1,this.alreadyStartedPlaying=!0,this.scope.paused=!1,this.onUpdate()}_onPause(){this.scope.paused=!0,this.onUpdate()}async init(t){return super.init(t).then((t=>t))}disconnectedCallback(){super.disconnectedCallback()}template(){return null}}function Ue(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Fe(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ue(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}(0,P.Z)(je,"tagName","rv-video");class Ve extends He{constructor(){super(...arguments),(0,P.Z)(this,"templateAttributes",[]),(0,P.Z)(this,"templateReady",!1)}connectedCallback(){this.addItemsByTemplate(),super.connectedCallback(),this.removeTemplates(),this.bindIfReady()}ready(){return super.ready()&&this.templateReady}transformTemplateAttribute(t,e,s){switch(s){case"number":return Number(e);case"boolean":return"true"===e;case"string":if("string"==typeof e)return e;if("function"==typeof e.toString)return e.toString();case"object":return M(e)}return pe(e).value}transformTemplateAttributes(t,e){return t.index=t.index||e,t}getTemplateAttributes(t,e){const s={};for(const e of this.templateAttributes){"string"!=typeof t.getAttribute(e.name)&&e.required?console.error(new Error(`template "${e.name}" attribute is required!`)):s[W(e.name)]=this.transformTemplateAttribute(e.name,t.getAttribute(e.name))}return this.transformTemplateAttributes(s,e)}addItemByTemplate(t,e){const s=this.getTemplateAttributes(t,e),i=t.innerHTML;this.scope.items||(this.scope.items=[]),this.scope.items.push(Fe(Fe({},s),{},{content:i}))}addItemsByTemplate(){const t=this.querySelectorAll("template, .template");for(let e=0;e<t.length;e++){const s=t[e];this.addItemByTemplate(s,e)}this.templateReady=!0}removeTemplates(){const t=this.querySelectorAll("template, .template");for(let e=0;e<t.length;e++){const s=t[e];this.removeChild(s)}}hasOnlyTemplateChilds(){return!Array.from(this.children).some((t=>{var e;return"TEMPLATE"!==t.nodeName&&!(null!==(e=t.classList)&&void 0!==e&&e.contains("template"))&&"#text"!==t.nodeName}))}}const qe={name:"contains",read(t,e,s){if(q(t))return t.indexOf(e)>-1;if(Array.isArray(t)){if(F(e)||console.warn("[containsFormatter] The second parameter must be of type number for arrays but is "+typeof e),e=Number(e),H(e))return H(s)?t[e]===s:-1!==t.indexOf(e)}else if(j(t)&&H(e))return H(s)?t[e]===s:(q(e)||console.warn("[containsFormatter] The second parameter must be of type string for objects"+typeof e),-1!==Object.keys(t).indexOf(String(e)));return!1}},$e={name:"size",read:t=>t&&t.length?t.length:0},ze={name:"empty",read:t=>$e.read(t)<=0},We={name:"get",read:(t,e)=>j(t)||Array.isArray(t)?t[e]:q(t)&&F(e)?t.charAt(e):null},Ye={name:"first",read:t=>We.read(t,0)},Ge={name:"isLast",read:(t,e)=>t.length===e+1},Xe={name:"last",read:t=>We.read(t,t.length-1)},Ke={name:"random",read(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Array.isArray(t))return t[Math.floor(Math.random()*t.length)];if(F(t)){const s=t;return Math.floor(Math.random()*(s-e+1)+e)}return null}},Qe={name:"range",read:(t,e,s)=>(e=Number(F(e)?e:0),(s=Number(F(s)?s:t.length-1))>t.length-1&&(s=t.length-1),e>s?[]:t.slice(Number(e||0),1+s))},Je={name:"set",read:(t,e,s)=>(s||(s=e),j(t)||Array.isArray(t)?t[e]=s:t=s,t)},ts={name:"overlaps",read(t,e){for(const s of t)for(const t of e){if(s.equals&&s.equals(t))return!0;if(s===t)return!0}return!1}},es={name:"join",read:(t,e)=>t.join(e)},ss={name:"and",read:(t,e)=>t&&e},is={name:"between",read(t){return t>=(arguments.length<=1?void 0:arguments[1])&&t<=(arguments.length<=2?void 0:arguments[2])}},ns={name:"egt",read:(t,e)=>t>=e},os={name:"eq",read:(t,e)=>t===e},rs={name:"gt",read:(t,e)=>t>e},as={name:"ne",read:(t,e)=>t!==e},ls={name:"lt",read:(t,e)=>t<e},cs={name:"elt",read:(t,e)=>t<=e},hs={name:"or",read:(t,e)=>t||e},ds={name:"not",read:t=>!t},us={name:"plus",read:(t,e)=>Number(t)+Number(e)},ps={name:"minus",read:(t,e)=>Number(t)-Number(e)},ms={name:"times",read:(t,e)=>Number(t)*Number(e)},vs={name:"dividedBy",read:(t,e)=>Number(t)/Number(e)},gs={name:"modulo",read:(t,e)=>Number(t)%Number(e)},fs=(t,e)=>0===e?t:fs(e,t%e),bs={name:"gcd",read:fs},ws={name:"even",read:t=>t%2==0},ys={name:"uneven",read:t=>t%2!=0},Es={name:"digits",read:t=>F(t)?t:$(t)},Ss={name:"args",read(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];return(e,i,n,o)=>(s.push(e),s.push(i),s.push(n),s.push(o),t.apply(this,s))}},Cs={name:"debug",read(t){return console[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug"](t),t}},As={name:"default",read:(t,e)=>H(t)?q(t)?t.length>0?t:e:null===t?e:t:e},Ts={name:"is-desktop",read:()=>qt().isDesktop},ks={name:"is-mobile",read:()=>qt().isMobile},_s={name:"call",read(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];return t.apply(this,s)}},Ds={name:"call-name",read:function(t,e){for(var s=arguments.length,i=new Array(s>2?s-2:0),n=2;n<s;n++)i[n-2]=arguments[n];return t[e](...i)}},Ls={name:"map",read(t,e,s){const i=Array.prototype.slice.call(arguments);return i.splice(1,2),e[s].apply(e,i)}},Os={name:"os",read:()=>Vt()},xs={name:"prefer",read:(t,e)=>e||t},Ps={name:"ternary",read:(t,e,s)=>t?e:s},Is={name:"append",read:(t,e)=>t+e},Ns={name:"capitalize",read:t=>(t=>"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1))(t)},Bs={name:"cut",read(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t?"string"!=typeof t?(console.warn("[cutFormatter] Value must be of type string"),t):t.length>e?t.substring(e,-1===e?void 0:-1)+s:t:""}},Zs={name:"downcase",read:t=>t.toLowerCase()},Ms={name:"ends-with",read:(t,e)=>"string"!=typeof t?(console.warn("[endsWithFormatter] Value must be of type string"),t):t.endsWith(e)},Rs={name:"filled",read:t=>q(t)&&!ze.read(t.replace(/\s/g,""))},Hs={name:"handleize",read:t=>t?(t=>(t=(t=>t.replace(/ä/g,"ae").replace(/ö/g,"oe").replace(/ü/g,"ue").replace(/ß/g,"ss").replace(/Ä/g,"Ae").replace(/Ö/g,"Oe").replace(/Ü/g,"Üe"))(t=(t=>t.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,""))(t=(t=>t.replace(/\s\s+/g," "))(t=(t=t.trim()).toLowerCase())))).replace(/ /g,"-"))(t):(console.warn("[handleizeFormatter] str is not set"),"")},js={name:"match",read:(t,e,s)=>!(!t||!e)&&t.match(new RegExp(e,s))},Us={name:"padStart",read(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return t.padStart(e,s)}},Fs={name:"padEnd",read(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return t.padEnd(e,s)}},Vs={name:"to-integer",read(t){const e=parseInt(1*t,10);return isNaN(e)?0:e}},qs={name:"to-float",read(t){const e=parseFloat(1*t);return isNaN(e)?0:e}},$s={name:"to-decimal",read(t){if(!Vs.read)throw new Error("toIntegerFormatter must have a read function");if(!qs.read)throw new Error("toFloatFormatter must have a read function");const e=Vs.read(1*t),s=qs.read(t);return e==s?e:s}},zs={name:"is-integer",read:t=>t===+t&&t===(0|t)},Ws={name:"numberFormat",read(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"'";if(!$s.read)throw new Error("toDecimalFormatter must have a read function");if(!zs.read)throw new Error("isIntegerFormatter must have a read function");t=F(t)?t:$s.read(t),zs.read(e)||(e=2);let n=(+(Math.round(+(Math.abs(t)+"e"+e))+"e"+-e)).toFixed(e);t<0&&(n="-"+n);const o=n.split(".");return 2==o.length?o[0].replace(/\B(?=(\d{3})+(?!\d))/g,i)+s+o[1]:o[0].replace(/\B(?=(\d{3})+(?!\d))/g,i)}},Ys={name:"pluralize",read:(t,e,s)=>(null===s&&(s=e+"s"),Array.isArray(t)&&(t=t.length),1===t?e:s)},Gs={name:"prepend",read:(t,e)=>e+t},Xs={name:"upcase",read:t=>t.toUpperCase()},Ks={name:"replace",read:(t,e,s)=>t.replace(new RegExp(e,"g"),s)},Qs={name:"replaceFirst",read:(t,e,s)=>t.replace(e,s)},Js={name:"slice",read:(t,e,s)=>t.slice(e,s)},ti={name:"starts-with",read:(t,e)=>"string"!=typeof t?(console.warn("[startsWithFormatter] Value must be of type string"),t):t.startsWith(e)},ei={name:"strip",read:t=>t.trim()},si={name:"strip-html",read:t=>z(t)},ii={name:"boolean",read:t=>"true"===t||"false"!==t&&!!t},ni={name:"is-array",read:Array.isArray},oi={name:"is-boolean",read:V},ri={name:"is-defined",read:H},ai={name:"is-number",read:F},li={name:"is-object",read:j},ci={name:"is-string",read:t=>q(t)},hi={name:"is-undefined",read:R},di={name:"parse",read:t=>q(t)?M(t):j(t)||Array.isArray(t)?(console.warn("[parseFormatter] You do not need to parse the value because since it already been parsed"),t):null},ui={name:"to-string",read(t,e){if(Array.isArray(t))for(const e in t)t[e]&&(t[e]=U(t[e]));else if(j(t))for(const e in t)t[e]=U(t[e]);else t=U(t);return e?t||e:t}},pi={name:"to-number",read(t,e){const s=(i=t)?parseFloat(i):void 0;var i;return e?s||e:s}},mi={formatters:a,binders:o,services:i,components:r,adapters:n,init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nt.setSingleton(t),this}};class vi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"replace";(0,P.Z)(this,"deferred",Pt()),this.action=t}async init(t,e){this.oldContainer=t,this.deferred=Pt();const s=Pt();return this.newContainerLoading=s.promise,this.start(),this.newContainer=await e,s.resolve(this.newContainer),this.deferred.promise}async done(){if(!this.oldContainer)throw new Error("Can't remove old container");if("replace"===this.action&&this.oldContainer.remove(),!this.newContainer)throw new Error("Can't show new container");return this.newContainer.style.visibility="visible",this.deferred.resolve()}}class gi extends vi{async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");await this.newContainerLoading,this.finish()}async finish(){return document.body.scrollTop=0,this.done()}}class fi extends vi{constructor(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];super("replace"),(0,P.Z)(this,"durationMs",200),this.scrollToTop=t}async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");this.oldContainer&&(this.oldContainer.style.transition=`opacity ${this.durationMs}ms`,this.oldContainer.style.opacity="0"),this.scrollToTop&&await St(window,"start","vertical","smooth");const t=await this.newContainerLoading;t.style.opacity="0",t.style.transition=`opacity ${this.durationMs}ms`,setTimeout((()=>{this.finish(t)}),this.durationMs)}async finish(t){return t.style.opacity="1",this.done()}}class bi extends vi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"replace",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super(t),this.action=t,this.scrollToTop=e}async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");this.oldContainer&&(this.oldContainer.style.display="none"),this.scrollToTop&&await St(window,"start","vertical","smooth"),await this.newContainerLoading,await this.finish(),this.oldContainer&&(this.oldContainer.style.display="")}async finish(){return this.done()}}class wi{constructor(){(0,P.Z)(this,"dispatcher",it.getInstance())}extend(t){return Y({deep:!1},this,t)}init(){this.dispatcher.on("initStateChange",((t,e,s)=>{s&&s.namespace===this.namespace&&this.onLeave()})),this.dispatcher.on("newPageReady",((t,e,s,i)=>{this.container=i,e.namespace===this.namespace&&this.onEnter()})),this.dispatcher.on("transitionCompleted",((t,e,s)=>{e.namespace===this.namespace&&this.onEnterCompleted(),s&&s.namespace===this.namespace&&this.onLeaveCompleted()}))}}class yi{static getPrefetchLinkElements(t){return t.querySelectorAll('link[href][rel="dns-prefetch"], link[href][rel="preconnect"], link[href][rel="prefetch"], link[href][rel="subresource"], link[href][rel="preload"], link[href][rel="router-preload"]')}static parseTitle(t){let e="";const s=t.querySelector("title");return s&&s.innerText&&(e=s.innerText),e}static parseResponse(t,e,s){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n="",o=[];const r=document.createElement("template");r.innerHTML=t,e&&(n=this.parseTitle(r.content)),i&&(o=this.getPrefetchLinkElements(r.content));return{container:this.getContainer(r,s),title:n,prefetchLinks:o}}static parseInitial(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i="",n=[];const o=this.getContainer(document,e);return t&&(i=this.parseTitle(document)),s&&(n=this.getPrefetchLinkElements(document)),{container:o,title:i,prefetchLinks:n}}static getContainer(t,e){if(!t)throw new Error("Barba.js: [getContainer] No element to get container from, maybe the DOM is not ready!");const s=this.parseContainer(t,e);if(!s)throw new Error("[DOM] No container found");return s}static getNamespace(t){return t&&t.dataset&&t.dataset.namespace?t.dataset.namespace:null}static putContainer(t,e){(t=t).style.visibility="hidden",e.appendChild(t)}static parseContainer(t,e){if(!t){const e=new Error("New page not loaded!");throw console.error(e,t),e}let s;if(s=t.content?t.content.querySelector(e):t.querySelector(e),!s){const s=new Error(`No container with selector "${e}" found!`);throw console.error(s,t),s}return s}}const Ei="router-error";class Si{static getInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";const e=Si.instances[t];return e||console.warn(`No Pjax instance with id ${t} found!`),e}constructor(t){if(this.viewId=t,this.viewId=t,Si.instances[this.viewId])return Si.instances[this.viewId];Si.instances[this.viewId]=this,this.onLinkEnterIntern=this.onLinkEnterIntern.bind(this)}init(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!window.history.pushState)return!1;t&&(this.deInit(),document.body.addEventListener("mouseover",this.onLinkEnterIntern,{passive:!0}),document.body.addEventListener("touchstart",this.onLinkEnterIntern,{passive:!0}))}deInit(){document.body.removeEventListener("mouseover",this.onLinkEnterIntern),document.body.removeEventListener("touchstart",this.onLinkEnterIntern)}initBinder(t,e){if(!window.history.pushState)return!1;this.deInitBinder(t,e),t.addEventListener("mouseover",this.onLinkEnter.bind(this,e,t),{passive:!0}),t.addEventListener("touchstart",this.onLinkEnter.bind(this,e,t),{passive:!0})}deInitBinder(t,e){t.removeEventListener("mouseover",this.onLinkEnter.bind(this,e,t)),t.removeEventListener("touchstart",this.onLinkEnter.bind(this,e,t))}onLinkEnter(t,e,s){if(e.classList&&(e.classList.contains("no-barba-prefetch")||e.classList.contains(Ei)))return;t=zt(t).url;const i=Li.preventCheck(t,e,s);if(t&&i){const s=Li.getInstance(this.viewId);s?s.loadResponseCached(t,!1,!1).catch((s=>{e.classList.add(Ei),console.error(t),console.error(s)})):(console.warn(`[Prefetch.onLinkEnter] No pjax instance for viewId "${this.viewId}" found!`),e.classList.add(Ei))}}url(t){t=zt(t).url;const e=Li.preventCheck(t);if(t&&e){const e=Li.getInstance(this.viewId);e?e.loadResponseCached(t,!1,!1).catch((t=>{console.error(t)})):console.warn(`[Prefetch.url] No pjax instance for viewId "${this.viewId}" found!`)}}onLinkEnterIntern(t){let e=Ct(t);if(!e)throw new Error("HTML Element not set");for(;e&&!Li.getHref(e);)e=e.parentNode;if(!e)return;if("A"!==e.nodeName)return;const s=Li.getHref(e);if(!e.classList.contains("route")&&!e.hasAttribute("rv-route")){if(s)return this.onLinkEnter(s,e,t);console.warn("Url is not defined, you can't cache the link without the url. Please make sure your element has the href attribute or pass the url directly to this function.",e)}}}(0,P.Z)(Si,"instances",{});var Ci=s(303),Ai=s.n(Ci);class Ti{constructor(){this.data={}}set(t,e){return this.data[t]=e,this.data[t]}get(t){return this.data[t]}reset(){this.data={}}}var ki=s(128);const _i={get:ki.U2,set:ki.t8,keys:ki.XP,del:ki.IV,clear:()=>(0,ki.ZH)()};Ai()({customStorage:window.ssr?void 0:_i});class Di{constructor(){return(0,P.Z)(this,"history",[]),Di.instance||(Di.instance=this),Di.instance}currentStatus(){return this.history[this.history.length-1]}prevStatus(){const t=this.history;return t.length<2?null:t[t.length-2]}add(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.history.push({namespace:e,url:t})}}class Li{static getInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";const e=Li.instances[t];return e||console.warn(`[Pjax.getInstance] No pjax instance for viewId "${t}" found!`),e}static preventCheckUrl(t){const e=document.createElement("a");return e.setAttribute("href",t),!!e&&(!!t&&(Gt(t)!==Gt(location.href)&&(window.location.protocol===e.protocol&&window.location.hostname===e.hostname&&Xt()===Xt(e.port))))}static preventCheck(t,e,s){if(!window.history.pushState)return!1;if(!this.preventCheckUrl(t))return!1;if(s&&(s&&s.which&&s.which>1||s.metaKey||s.ctrlKey||s.shiftKey||s.altKey))return!1;if(e){if(e.target&&"_blank"===e.target)return!1;if(e.getAttribute&&"string"==typeof e.getAttribute("download"))return!1;if(e.classList.contains("no-barba"))return!1}return!0}static getHref(t){if(t){if(t.getAttribute&&"string"==typeof t.getAttribute("xlink:href"))return t.getAttribute("xlink:href")||void 0;if("string"==typeof t.href||t.hasAttribute&&t.hasAttribute("href")){const e=t.href||t.getAttribute("href");if(!e)throw console.error("href attribute not found for element: ",t),new Error("href attribute not found!");return e}}}constructor(t){let{id:e,action:s="replace",wrapper:i,containerSelector:n="[data-namespace]",listenAllLinks:o=!1,listenPopstate:r=!0,parseTitle:a=!0,changeBrowserUrl:l=!0,prefetchLinks:c=!0,scrollToTop:h=!0,scrollToAnchorOffset:d=Oi.options.scrollToAnchorOffset}=t;(0,P.Z)(this,"history",new Di),(0,P.Z)(this,"cacheEnabled",!0),(0,P.Z)(this,"transitionProgress",!1),(0,P.Z)(this,"viewId","main"),e&&(this.viewId=e);let u=this;return this.scrollToAnchorOffset=d||0,this.dispatcher=new it(this.viewId),this.listenAllLinks=o,this.listenPopstate=r,this.parseTitle=a,this.changeBrowserUrl=l,this.containerSelector=n,this.prefetchLinks=c,Li.instances[this.viewId]&&(u=Li.instances[this.viewId]),u.transition=u.transition||new bi(s,h),u.wrapper=u.wrapper||i,u.containerSelector=u.containerSelector||n,u.listenAllLinks=V(u.listenAllLinks)?u.listenAllLinks:o,u.listenPopstate=V(u.listenPopstate)?u.listenPopstate:r,u.parseTitle=V(u.parseTitle)?u.parseTitle:a,u.changeBrowserUrl=V(u.changeBrowserUrl)?u.changeBrowserUrl:l,u.prefetchLinks=V(u.prefetchLinks)?u.prefetchLinks:c,u.wrapper&&u.wrapper.setAttribute("aria-live","polite"),Li.instances[this.viewId]=u,Li.instances[this.viewId]}setActiveWrapper(t){this.wrapper=t}start(){if(this.wrapper)try{this.init(this.wrapper,this.listenAllLinks,this.listenPopstate)}catch(t){console.error(t)}else console.error("Can't init pjax without wrapper")}getCurrentUrl(){return Gt(Wt())}goTo(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){const e=window.open(t,"_blank");return!!e&&e.focus()}if(!t.startsWith("http"))return this.changeBrowserUrl&&window.history.pushState(null,"",t),this.onStateChange(void 0,t);this.forceGoTo(t)}getTransition(){return this.transition||new bi}prefetchLink(t){t=zt(t).url;if(Li.preventCheckUrl(t))return this.loadResponseCached(t,!0,!1)}prefetchLinkElement(t,e){const s=t.getAttribute("rel"),i=Li.getHref(t);if("router-preload"===s&&i&&this.cacheEnabled&&!t.classList.contains(Ei))try{this.prefetchLink(i)}catch(e){t.classList.add(Ei),console.error(e)}e.appendChild(t)}removePrefetchLinks(t){t.querySelectorAll('link[href][rel="dns-prefetch"], link[href][rel="preconnect"], link[href][rel="prefetch"], link[href][rel="subresource"], link[href][rel="preload"], link[href][rel="router-preload"]').forEach((t=>{t&&t.parentNode&&t.parentNode.removeChild(t)}))}replacePrefetchLinkElements(t){const e=document.head||document.getElementsByTagName("head")[0];this.removePrefetchLinks(e),t.forEach((t=>{this.prefetchLinkElement(t,e)}))}async loadCached(t){try{const{responsePromise:e}=await this.loadResponseCached(t,!1,!0);if(!this.wrapper)throw new Error("[Pjax] you need a wrapper!");const s=await e;return yi.putContainer(s.container,this.wrapper),!0===this.parseTitle&&s.title&&(document.title=s.title),!0===this.prefetchLinks&&s.prefetchLinks&&this.replacePrefetchLinkElements(s.prefetchLinks),s.container}catch(e){throw console.error(e),this.forceGoTo(t),e}}async loadResponseCached(t){let e,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{if(this.cacheEnabled&&(e=Li.cache.get(t),e))return{fromCache:!0,responsePromise:e};e=this.loadResponse(t,s),this.cacheEnabled&&e&&Li.cache.set(t,e)}catch(e){throw console.error(e),i&&this.forceGoTo(t),e}return{fromCache:!1,responsePromise:e}}async loadResponse(t){const e=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{cache:"force-cache"}:{},s=await lt.get(t,void 0,"html",{},e);if(!s||!s.body)throw new Error("No body!");return yi.parseResponse(s.body,this.parseTitle,this.containerSelector,this.prefetchLinks)}bindEvents(t,e){t&&document.addEventListener("click",this.onLinkClickIntern.bind(this)),e&&window.addEventListener("popstate",this.onStateChange.bind(this))}forceGoTo(t){console.warn("forceGoTo",t),t&&t.href&&(window.location=t),"string"==typeof t&&(window.location.href=t)}onLinkClickIntern(t){let e=Ct(t);for(;e&&!Li.getHref(e);)e=e.parentNode;if(!e||"A"!==e.nodeName)return;const s=Li.getHref(e);if(!e.classList.contains("route")&&!e.hasAttribute("rv-route")){if(!s)throw new Error("Url is not defined, you can't cache the link without the url. Please make sure your element has the href attribute or pass the url directly to this function.");return!e.classList.contains("route")&&!e.hasAttribute("rv-route")&&this.onLinkClick(t,e,s)}}onLinkClick(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{url:n,location:o}=zt(s),{location:r}=zt();if(o.hash&&r.pathname===o.pathname){let e=o.hash.slice(1);e=decodeURI(e);const s=document.getElementById(e);if(s)return t.stopPropagation(),t.preventDefault(),this.changeBrowserUrl&&window.history.pushState(null,"",n),Et(s,this.scrollToAnchorOffset)}if(!n)throw new Error("url is falsy");Li.preventCheck(n,e,t)&&(t.stopPropagation(),t.preventDefault(),this.dispatcher.trigger("linkClicked",e,t),this.goTo(n,i))}async onStateChange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentUrl();e=zt(e).url;const s=zt(this.history.currentStatus().url).url;if(this.changeBrowserUrl&&s===e)return!1;this.history.add(e),this.dispatcher.trigger("initStateChange",this.viewId,this.history.currentStatus(),this.history.prevStatus());const i=yi.getContainer(document,this.containerSelector),n=this.loadCached(e),o=this.getTransition();this.transitionProgress=!0;const r=o.init(i,n);this.onNewContainerLoaded(await n),await r,this.onTransitionEnd()}onNewContainerLoaded(t){this.history.currentStatus().namespace=yi.getNamespace(t);const e=ft(t);this.dispatcher.trigger("newPageReady",this.viewId,this.history.currentStatus(),this.history.prevStatus(),t,t.innerHTML,e,!1)}onTransitionEnd(){this.transitionProgress=!1,this.dispatcher.trigger("transitionCompleted",this.viewId,this.history.currentStatus(),this.history.prevStatus())}init(t,e,s){const i=yi.parseInitial(this.parseTitle,this.containerSelector,this.prefetchLinks),n=window.location.pathname;if(this.cacheEnabled){const t=zt(window.location.href).url;Li.cache.get(n)||this.loadResponseCached(t,!1,!1)}this.replacePrefetchLinkElements(i.prefetchLinks),this.wrapper=t,this.history.add(this.getCurrentUrl(),yi.getNamespace(i.container)),this.dispatcher.trigger("initStateChange",this.viewId,this.history.currentStatus());const o=ft(i.container);this.dispatcher.trigger("newPageReady",this.viewId,this.history.currentStatus(),{},i.container,i.container.innerHTML,o,!0),this.dispatcher.trigger("transitionCompleted",this.viewId,this.history.currentStatus()),this.bindEvents(e,s)}}(0,P.Z)(Li,"cache",new Ti),(0,P.Z)(Li,"instances",{});class Oi{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of RouterService not defined, please call setSingleton first!")}static setSingleton(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.instance?(console.warn("Singleton of RouterService already defined!"),this.instance):(t.defaultTransition=t.defaultTransition??new bi,t.scrollToAnchorOffset=t.scrollToAnchorOffset??0,this._options=t,this.instance=new this,this.instance)}}const xi={name:"view",block:!0,options:{},nested:null,bind(t){const e=this.binder||this;e.nested=e.nested||null,e.wrapper=e.wrapper||t,console.warn("The viewBinder is depricated, use the router-view component instead!")},routine(t,e){var s;const i=this.binder||this;i.options=e||{},i.options.viewId=i.options.viewId||t.getAttribute("id")||"main",i.options.action=i.options.action||"replace","main"===i.options.viewId?(i.options.containerSelector=i.options.containerSelector||"[data-namespace]",i.options.scrollToTop=!V(i.options.scrollToTop)||i.options.scrollToTop,i.options.listenAllLinks=!V(i.options.listenAllLinks)||i.options.listenAllLinks,i.options.listenPopstate=!V(i.options.listenPopstate)||i.options.listenPopstate,i.options.scrollToAnchorHash=!V(i.options.scrollToAnchorHash)||i.options.scrollToAnchorHash,i.options.datasetToModel=!V(i.options.datasetToModel)||i.options.datasetToModel,i.options.parseTitle=!V(i.options.parseTitle)||i.options.parseTitle,i.options.changeBrowserUrl=!V(i.options.changeBrowserUrl)||i.options.changeBrowserUrl,i.options.prefetchLinks=!V(i.options.prefetchLinks)||i.options.prefetchLinks):(i.options.containerSelector=i.options.containerSelector||`#${i.options.viewId} > *:first-child`,i.options.scrollToTop=!!V(i.options.scrollToTop)&&i.options.scrollToTop,i.options.listenAllLinks=!!V(i.options.listenAllLinks)&&i.options.listenAllLinks,i.options.listenPopstate=!!V(i.options.listenPopstate)&&i.options.listenPopstate,i.options.scrollToAnchorHash=!!V(i.options.scrollToAnchorHash)&&i.options.scrollToAnchorHash,i.options.datasetToModel=!!V(i.options.datasetToModel)&&i.options.datasetToModel,i.options.parseTitle=!!V(i.options.parseTitle)&&i.options.parseTitle,i.options.changeBrowserUrl=!!V(i.options.changeBrowserUrl)&&i.options.changeBrowserUrl,i.options.prefetchLinks=!!V(i.options.prefetchLinks)&&i.options.prefetchLinks),i.options.prefetchLinks=!V(i.options.prefetchLinks)||i.options.prefetchLinks,i.options.transition=i.options.transition||new bi(i.options.action,i.options.scrollToTop),i.dispatcher=new it(i.options.viewId),null===(s=i.wrapper)||void 0===s||s.setAttribute("id",i.options.viewId),i.dispatcher.on("newPageReady",i.onPageReady,this),i.dispatcher.on("transitionCompleted",i.onTransitionCompleted,this);const n={id:i.options.viewId,wrapper:i.wrapper,containerSelector:i.options.containerSelector,listenAllLinks:!!i.options.listenAllLinks,listenPopstate:!!i.options.listenPopstate,transition:i.options.transition,parseTitle:!!i.options.parseTitle,changeBrowserUrl:!!i.options.changeBrowserUrl,prefetchLinks:!!i.options.prefetchLinks},o=new Li(n);i.prefetch=new Si(i.options.viewId),i.prefetch.init(n.prefetchLinks),o.start()},unbind(){const t=this.binder||this;t.dispatcher&&(t.dispatcher.off("newPageReady",t.onPageReady,this),t.dispatcher.off("transitionCompleted",t.onTransitionCompleted,this)),null!==t.nested&&(t.nested.unbind(),t.nested=null)},onPageReady(t,e,s,i,n,o){const r=this.binder||this;t===r.options.viewId?(r.nested&&r.options.action,j(this.view.models)||(this.view.models={}),!0===r.options.datasetToModel&&j(o)&&(this.view.models.dataset=o),r.nested=new Ce(i,this.view.models,this.view.options),r.nested.bind()):console.warn("not the right view",r.options.viewId,t,o)},onTransitionCompleted(t){const e=this.binder||this;if(t===e.options.viewId){if(e.options.scrollToAnchorHash&&window.location.hash){const t=document.getElementById(window.location.hash.substr(1));if(t)return new Promise((e=>{e(Et(t,0,window))}))}return Promise.resolve()}}},Pi=Hs.read,Ii={name:"view-static",block:!0,bind(){this.customData||(this.customData={nested:null})},async routine(t,e){const s=t;(e=e||{}).listenAllLinks=!1,e.listenPopstate=!1,e.parseTitle=!1,e.transition=e.transition||new bi,e.viewId=e.viewId||t.getAttribute("id")||Pi(e.url),e.containerSelector=e.containerSelector||"[data-namespace]",e.changeBrowserUrl=!1;const i=new Li(e),{responsePromise:n}=await i.loadResponseCached(e.url,!1,!1),o=await n;s.replaceWith(o.container),o.container.style.visibility="visible",j(this.view.models)||(this.view.models={}),this.customData.nested&&this.customData.nested.unbind(),this.customData.nested=new Ce(o.container,this.view.models,this.view.options),this.customData.nested.bind()},unbind(){this.customData.nested&&this.customData.nested.unbind(),delete this.customData}},Ni={name:"route",bind(t){t.classList.add("route"),this.customData={dispatcher:void 0,options:{removeAfterActivation:!1,newTab:!1,newTabOnExtern:!0},onClick(t){const e=Li.getInstance(this.customData.options.viewId);if(Yt(this.customData.options.url,!0))console.debug("already on this site, do nothing"),t.stopPropagation(),t.preventDefault();else if(Kt(this.customData.options.url)){if(!e)return;t.stopPropagation(),t.preventDefault(),this.customData.options.url.startsWith("http");const s=this.customData.options.newTab||this.customData.options.newTabOnExtern;e.goTo(this.customData.options.url,s)}else if(this.customData.options.url){if(!e)return;e.onLinkClick(t,this.el,this.customData.options.url,this.customData.options.newTab)}this.customData.options.removeAfterActivation&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},this.customData.onClick=this.customData.onClick.bind(this),t.addEventListener("click",this.customData.onClick)},routine(t,e){q(e)?this.customData.options.url=e:j(e)&&(this.customData.options=e),this.customData.options.viewId=this.customData.options.viewId||"main",this.customData.prefetch=new Si(this.customData.options.viewId),this.customData.dispatcher=new it(this.customData.options.viewId),this.customData.options.newTab=!1;const s="A"===t.tagName;if(!this.customData.options.url&&s){const e=t.getAttribute("href");e&&(this.customData.options.url=e)}"_blank"===t.getAttribute("target")&&(this.customData.options.newTab=!0),this.customData.options.url=zt(this.customData.options.url).url,!s||t.href&&t.getAttribute("href")||!this.customData.options.url||(t.setAttribute("href",this.customData.options.url),t.href=this.customData.options.url),this.customData.options.newTab||this.customData.prefetch.initBinder(t,this.customData.options.url)},unbind(t){this.customData.prefetch.deInitBinder(t,this.customData.options.url),t.removeEventListener("click",this.customData.onClick)}},Bi={name:"route-class-*",bind(){this.customData={dispatcher:new it("main")}},routine(t,e){const s=this.args[0].toString()||"active",i="A"===t.tagName;if(!e&&i){const s=t.getAttribute("href");s&&(e=s)}this.customData.onUrlChange&&this.customData.dispatcher.off("newPageReady",this.customData.onUrlChange),this.customData.onUrlChange=()=>{if(e){if(Yt(e))return t.classList.add(s),"radio"===t.getAttribute("type")&&(t.checked=!0),!0;t.classList.remove(s),"radio"===t.getAttribute("type")&&(t.checked=!1)}return!1},this.customData.dispatcher.on("newPageReady",this.customData.onUrlChange),this.customData.onUrlChange()},unbind(){this.customData.onUrlChange&&this.customData.dispatcher.off("newPageReady",this.customData.onUrlChange)}},Zi={name:"route-preload",bind(){},routine(t,e){const s="A"===t.tagName;if(!e&&s){const s=t.getAttribute("href");s&&(e=s)}var i;e&&(null===(i=Li.getInstance())||void 0===i||i.prefetchLink(e))},unbind(){}},Mi={name:"parent-route-class-*",bind(){this.customData={dispatcher:new it("main")}},routine(t,e){const s=this.args[0].toString()||"active",i="A"===t.tagName;if(!e&&i){const s=t.getAttribute("href");s&&(e=s)}const n=e=>{if(e){if((t=>{if(t){const e=$t(),s=e.pathname,i=e.hostname,n=$t(t),o=n.pathname;return i===n.hostname&&s.startsWith(o)}return!1})(e))return t.classList.add(s),"radio"===t.getAttribute("type")&&(t.checked=!0),!0;t.classList.remove(s),"radio"===t.getAttribute("type")&&(t.checked=!1)}return!1};this.customData.dispatcher.on("newPageReady",(()=>n(e))),n(e)},unbind(){}},Ri=()=>{window.history.back()},Hi={name:"route-back-on-*",priority:3e3,bind(){this.customData={}},unbind(t){t.removeEventListener(this.args[0],Ri)},routine(t){if(null===this.args)throw new Error("args is null");this.customData.eventName&&t.removeEventListener(this.customData.eventName,Ri),this.customData.eventName=this.args[0],t.addEventListener(this.args[0],Ri)}};class ji extends He{static get observedAttributes(){return["src","id","async","defer"]}constructor(){super(),(0,P.Z)(this,"autobind",!1),(0,P.Z)(this,"scope",{src:"",id:"",async:!0,defer:!0})}connectedCallback(){super.connectedCallback(),super.init(ji.observedAttributes)}async onReady(){await super.onReady(),this.scope.id||(this.scope.id=kt("script-")),async function(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];await new Promise(((n,o)=>{let r=document.getElementById(e);if(r){if(console.warn("script already loaded, do nothing."),r.hasAttribute("loaded"))return n(r)}else r=document.createElement("script"),r.type="text/javascript",r.id=e,r.src=t,s&&(r.async=!0),i&&(r.defer=!0),(document.head||document.getElementsByTagName("head")[0]).appendChild(r);r.readyState&&(r.onreadystatechange=function(){var t;"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,null===(t=r)||void 0===t||t.setAttribute("loaded","true"),n(r))}),r.addEventListener("load",(()=>{var t;null===(t=r)||void 0===t||t.setAttribute("loaded","true"),n(r)})),r.addEventListener("error",(function(){var t;const e=new Error("Error on load script "+(null===(t=r)||void 0===t?void 0:t.src));console.error(e),console.error(...arguments),o(e)}))}))}(this.scope.src,this.scope.id,this.scope.async)}requiredAttributes(){return["src"]}template(){return null}}(0,P.Z)(ji,"tagName","router-load-script");class Ui extends He{static get observedAttributes(){return["id","action","container-selector","scroll-to-top","listen-all-links","listen-popstate","scroll-to-anchor-hash","scroll-to-anchor-offset","dataset-to-model","parse-title","change-browser-url","prefetch-links"]}constructor(){super(),(0,P.Z)(this,"events",it.getInstance("main")),(0,P.Z)(this,"nested",null),(0,P.Z)(this,"wrapper",null),(0,P.Z)(this,"pjax",null),(0,P.Z)(this,"prefetch",null),(0,P.Z)(this,"scope",{id:"main",action:"replace",scrollToTop:!0,listenAllLinks:!0,listenPopstate:!0,scrollToAnchorHash:!0,scrollToAnchorOffset:Oi.options.scrollToAnchorOffset,datasetToModel:!0,parseTitle:!0,changeBrowserUrl:!0,prefetchLinks:!0,transition:Oi.options.defaultTransition,dataset:{}})}connectedCallback(){super.connectedCallback(),this.init(Ui.observedAttributes)}addEventListeners(){this.events.on("newPageReady",this.onPageReady,this),this.events.on("initStateChange",this.onTransitionInit,this),this.events.on("transitionCompleted",this.onTransitionCompleted,this)}removeEventListeners(){this.events.off("newPageReady",this.onPageReady,this),this.events.off("initStateChange",this.onTransitionInit,this),this.events.off("transitionCompleted",this.onTransitionCompleted,this)}getContainerSelector(){return"main"===this.scope.id?`${Ui.tagName} > *:first-child`:`${Ui.tagName}#${this.scope.id} > *:first-child`}initAndStartPjax(){if(!this.scope.id)return void console.error("Id attribute is required!");const t={id:this.scope.id,action:this.scope.action,wrapper:this,containerSelector:this.getContainerSelector(),listenAllLinks:!!this.scope.listenAllLinks,listenPopstate:!!this.scope.listenPopstate,transition:this.scope.transition,parseTitle:!!this.scope.parseTitle,changeBrowserUrl:!!this.scope.changeBrowserUrl,prefetchLinks:!!this.scope.prefetchLinks,scrollToTop:!!this.scope.scrollToTop};this.pjax=new Li(t),this.pjax.setActiveWrapper(this),this.prefetch=new Si(this.scope.id),this.prefetch.init(t.prefetchLinks),this.pjax.start()}onPageReady(t,e,s,i,n,o,r){this.scope.datasetToModel&&(this.scope.dataset=o),r||(t===this.scope.id?(this.debug("New page ready!",this.innerHTML),this.view=this.getView(),this.view?this.view.bind():console.warn("View ist not ready!")):console.warn("not the right view",this.scope.id,t,o))}async onTransitionInit(t){t===this.scope.id&&this.setTransitionClass("init")}async onTransitionCompleted(t){if(t===this.scope.id){if(this.setTransitionClass("complete"),this.scope.scrollToAnchorHash){let t=null;if(window.location.hash.substr(1)&&(t=document.getElementById(window.location.hash.substr(1)),t))return await Et(t,this.scope.scrollToAnchorOffset,window)}return this.scope.scrollToTop?await St(window,"start","vertical","smooth"):void 0}}setTransitionClass(t){this.classList.remove("transition-init"),this.classList.remove("transition-complete"),this.classList.add(`transition-${t}`)}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){switch(super.parsedAttributeChangedCallback(t,e,s,i),t){case"id":this.events=it.getInstance(this.scope.id)}}async beforeBind(){await super.beforeBind(),this.addEventListeners(),this.initAndStartPjax()}template(){return null}}(0,P.Z)(Ui,"tagName","router-view");const Fi={binders:c,components:h,services:l,formatters:{},init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Oi.setSingleton(t),this}};class Vi{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of I18nService not defined, please call setSingleton first!")}static setSingleton(t){if(this.instance)throw new Error("Singleton of I18nService already defined!");return this._options=t,this.instance=new this,this.instance}}const qi={name:"i18n-*",block:!1,priority:0,bind(t){const e=Vi.options;this.customData=(()=>{const e={};return e.type=t.type,e.tagName=t.tagName,e.contenteditable=!!t.getAttribute("contenteditable"),e.isRadio="INPUT"===e.tagName&&"radio"===e.type,e})(),this.customData.i18n=e.localesService,this.customData.vars={},this.customData.translateMePathString=null,this.customData.properties=[],this.customData.attributeName=this.args[0].toString(),this.customData.applyTranslation=e=>{if(!e){if(!this.customData.i18n.showMissingTranslation)return;e=`translation missing: "${this.customData.properties.join(".")}"`}"html"===this.customData.attributeName?t.innerHTML=e:"text"===this.customData.attributeName?t.innerText=e:"value"===this.customData.attributeName?this.customData.contenteditable?t.innerHTML=e:t.value=e:t.setAttribute(this.customData.attributeName,e)},this.customData.parseVars=t=>{const e=this.customData.i18n.parseTemplateVars(t);this.customData.vars=Y({deep:!0},this.customData.vars,e),this.customData.vars=Y({deep:!1},this.customData.vars,t.dataset),this.customData.langVars=this.customData.i18n.parseLocalVars(t)},this.customData.translate=t=>{if(this.customData.i18n.ready){if(t||(t=this.customData.i18n.getLangcode()))return this.customData.langVars&&this.customData.langVars[t]?this.customData.applyTranslation(this.customData.langVars[t]):this.customData.properties&&0!==this.customData.properties.length||!this.customData.langVars||!this.customData.langVars.default?this.customData.i18n.get([t,...this.customData.properties],this.customData.vars).then((t=>t&&"string"==typeof t?this.customData.applyTranslation(t):this.customData.langVars&&this.customData.langVars.default?this.customData.applyTranslation(this.customData.langVars.default):this.customData.applyTranslation(null))).catch((t=>{console.error(t)})):this.customData.applyTranslation(this.customData.langVars.default);console.error("Langcode is required",t)}},this.customData.onAttributeChanged=t=>{if(t.detail.name.startsWith("data-")){const e={};e[t.detail.name.slice(5)]=t.detail.newValue,this.customData.vars=Y({deep:!0},this.customData.vars,e),this.customData.translate()}},this.customData.onLanguageChanged=(t,e)=>{e||this.customData.translate(t)},this.customData.initOnReady=(e,s)=>{s&&this.customData.translate(e),this.customData.i18n.event.on("changed",this.customData.onLanguageChanged),t.addEventListener("binder-changed",this.customData.onAttributeChanged)}},routine(t,e){const s=Vi.options;if(null===this.customData.translateMePathString)if(this.customData.translateMePathString=e,e&&(this.customData.properties=this.customData.translateMePathString.split(".")),this.customData.parseVars(t),this.customData.i18n.ready){const t=this.customData.i18n.getLangcode(),e=this.customData.i18n.getInitialLangcode();this.customData.initOnReady(t,t!==e||!s.localesService.doNotTranslateDefaultLanguage)}else this.customData.i18n.event.on("ready",this.customData.initOnReady);else this.customData.translateMePathString!==e&&(this.customData.translateMePathString=e,this.customData.properties=this.customData.translateMePathString.split("."),this.customData.parseVars(t),this.customData.translate())},unbind(){this.el.removeEventListener("binder-changed",this.customData.onAttributeChanged),this.customData.i18n.event.off("changed",this.customData.onLanguageChanged)}};class $i{get ready(){return this._ready}constructor(t,e){(0,P.Z)(this,"event",new it("i18n")),(0,P.Z)(this,"showMissingTranslation",!1),(0,P.Z)(this,"_ready",!1),this.doNotTranslateDefaultLanguage=t,this.doNotTranslateDefaultLanguage=t,this.showMissingTranslation=e}async get(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.ready&&!s)throw new Error("not ready");return this.getAll().then((e=>{if(t&&t.length){let s=G(!0,e);for(const e of t){if(!e)return null;if(!s[e])return null;s=s[e]}return s}return e})).then((e=>(null===e&&t&&console.warn(`WARNING translation missing: "${t.join(".")}"`,e,t),e))).then((t=>(e&&(t=this.setTranslateStringPluralization(t,e),t=this.setTranslateStringVars(t,e)),t))).catch((t=>(console.error(t),this._ready=!1,t)))}async getByCurrentLang(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;const s=this.getLangcode();if(!s)throw new Error("Langcode not found in html tag");return this.get([s,...t],e)}getBrowserLangcode(){return(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase()}getHTMLLangcode(){return document.documentElement?document.documentElement.lang:"en"}getLangcode(){return this.currentLangcode}getInitialLangcode(){return this.initialLangcode}setLangcode(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.currentLangcode!==t&&(this.currentLangcode=t,document.documentElement&&(document.documentElement.lang=t),this.event.trigger("changed",t,e))}async getAvailableLangcodes(){const t=this.getLangcode(),e=await this.get(void 0,void 0,!0),s=[];for(const i of Object.keys(e))s.push({code:i,active:i===t});return s}parseTemplateVars(t){const e=t.querySelectorAll("template"),s={};return e.forEach((t=>{const e=t.getAttribute("name");null!==e&&(s[e]=t.innerHTML.trim())})),s}parseLocalVars(t){const e=t.querySelectorAll("template"),s={};return e.forEach((t=>{const e=t.getAttribute("lang");null!==e&&(s[e]=t.innerHTML.trim())})),s}setTranslateStringVars(t,e){if(!t||0===Object.keys(e).length||"function"!=typeof t.match)return t;const s=t.match(/{{\s*?[A-Za-z0-9_-]+\s*?}}/gm);if(s)for(const i of s)if(i){const s=i.replace(/{{\s*|\s*}}/gm,"");"string"!=typeof e[s]&&"number"!=typeof e[s]||(t=t.replace(i,e[s]))}return t}async init(){if(this.initialLangcode=this.getHTMLLangcode(),this.currentLangcode=this.initialLangcode,!this.initialLangcode)throw new Error(`The lang attribute on the html element is required to detect the default theme language: ${this.initialLangcode}`);const t=this.getBrowserLangcode();return this.getAvailableLangcodes().then((e=>{let s=!1;for(const i of e)i.code===t&&(s=!0);return(!this.doNotTranslateDefaultLanguage||s&&t!==this.currentLangcode)&&this.setLangcode(t,!0),e})).then((()=>{this._ready=!0;const t=this.currentLangcode!==this.initialLangcode||!this.doNotTranslateDefaultLanguage;this.event.trigger("ready",this.currentLangcode,t)})).catch((t=>(console.error(t),this._ready=!1,t)))}setTranslateStringPluralization(t,e){if(e.count&&"object"==typeof t&&null!==t){const s=Number(e.count);if(0===s){if(t.zero)return t.zero}else if(1===s){if(t.one)return t.one}else if(2===s&&t.two)return t.two}return"object"==typeof t&&null!==t&&t.other?t.other:t}}class zi extends $i{static getInstance(t){return zi.instances[t]}constructor(t){if(super(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]),(0,P.Z)(this,"locales",{}),this.url=t,this.url=t,!this.url)throw new Error("Url is required!");if(zi.instances[this.url])return zi.instances[this.url];this.init(),zi.instances[this.url]=this}async getAll(t){if(t||(t=this.url),!t)throw new Error("Url is required!");if(window.Shopify.shop&&(t+=`?shop=${window.Shopify.shop}`),this.locales[t])return this.locales[t];const e=await lt.getJSON(t);return this.locales[t]=e.body,this.locales[t]}}(0,P.Z)(zi,"instances",{});class Wi extends $i{static getInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return Wi.instances[t]}constructor(t,e){if(super(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3]),this.locales=t,this.id=e,e||(e="main"),this.locales=t,Wi.instances[e])return Wi.instances[e];this.init(),Wi.instances[e]=this}async getAll(){return this.locales}}(0,P.Z)(Wi,"instances",{});class Yi extends He{constructor(){super(...arguments),(0,P.Z)(this,"_debug",!0),(0,P.Z)(this,"scope",{langcodes:[],switch:this.switch,toggle:this.toggle,ready:!1})}static get observedAttributes(){return[]}connectedCallback(){super.connectedCallback(),this.init(Yi.observedAttributes)}setLangcode(t){var e;null===(e=this.localesService)||void 0===e||e.setLangcode(t)}requiredAttributes(){return[]}disconnectedCallback(){super.disconnectedCallback()}async beforeBind(){if(await super.beforeBind(),this.localesService=Vi.options.localesService,!this.localesService)throw new Error("LocalesService not defined!");if(this.localesService.ready){const t=this.localesService.getLangcode();if(t)return await this.initLocales(t)}else{var t;null===(t=this.localesService)||void 0===t||t.event.on("ready",(async t=>{await this.initLocales(t)}))}}template(){return null}switch(t,e){e&&(e.preventDefault(),e.stopPropagation()),t.active||this.setLangcode(t.code)}toggle(t){t&&(t.preventDefault(),t.stopPropagation());for(const t in this.scope.langcodes)if(Object.prototype.hasOwnProperty.call(this.scope.langcodes,t)&&!0!==this.scope.langcodes[t].active)return void this.setLangcode(this.scope.langcodes[t].code)}async initLocales(t){var e,s;const i=await(null===(e=this.localesService)||void 0===e?void 0:e.getAvailableLangcodes());if(!i)throw new Error("No lancodes found!");return this.scope.langcodes=i,this.scope.langcodes.forEach((e=>{e.active=e.code===t})),null===(s=this.localesService)||void 0===s||s.event.on("changed",(t=>{this.scope.langcodes.forEach((e=>{e.active=e.code===t}))})),this.scope.ready=!0,this.scope.langcodes}}(0,P.Z)(Yi,"tagName","i18n-switcher");var Gi='<div rv-add-class="\'drop\' | append dropdownDirection"> <div class="dropdown-toggle dropdown-toggle-share" rv-id="dropdownId" rv-template="labelTemplate"></div> <div class="dropdown-menu" rv-aria-labelledby="dropdownId"> <a rv-each-item="shareItems" rv-show="item.available" rv-download="item.type | eq \'download\'" rv-type="item.type" target="_blank" rv-on-click="shareOnService" class="dropdown-item" rv-href="item.url" rv-html="item.label"></a> </div> </div> ';class Xi{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of Bs4Service not defined, please call setSingleton first!")}static setSingleton(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.instance)throw new Error("Singleton of Bs4Service already defined!");return this._options=t,this.instance=new this,this.instance}}const Ki=3,Qi={nsPrefix:"bs4-toggle-button:",eventNames:{toggle:"toggle",toggled:"toggled",init:"init",state:"state"}},Ji={elEventNames:{removed:"removed",added:"added"}},tn={elEventNames:{removed:"removed",added:"added"}},en=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],sn=/^aria-[\w-]*$/i,nn=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,on=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,rn={"*":["class","dir","id","lang","role",sn],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},an=1e3,ln="transitionend",cn=t=>{let e=t.getAttribute("data-target");if(!e||"#"===e){const s=t.getAttribute("href");e=s&&"#"!==s?s.trim():null}return e},hn=t=>{const e=cn(t);return e&&document.querySelector(e)?e:null},dn=t=>{const e=cn(t);return e?document.querySelector(e):null},un=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:s}=window.getComputedStyle(t);const i=parseFloat(e),n=parseFloat(s);return i||n?(e=e.split(",")[0],s=s.split(",")[0],(parseFloat(e)+parseFloat(s))*an):0},pn=t=>{const e=document.createEvent("HTMLEvents");e.initEvent(ln,!0,!0),t.dispatchEvent(e)},mn=t=>(t[0]||t).nodeType,vn=(t,e)=>{let s=!1;const i=e+5;t.addEventListener(ln,(function e(){s=!0,t.removeEventListener(ln,e)})),setTimeout((()=>{s||pn(t)}),i)},gn=(t,e,s)=>{for(const i in s)if(Object.prototype.hasOwnProperty.call(s,i)){const n=s[i],o=e[i],r=o&&mn(o)?"element":N(o);if(!r||!new RegExp(n).test(r))throw new Error(`${t.toUpperCase()}: Option "${i}" provided type "${r}" but expected type "${n}".`)}},fn=t=>t?[].slice.call(t):[],bn=t=>{if(!t)return!1;if(t.style&&t.parentNode&&t.parentNode.style){const e=getComputedStyle(t),s=getComputedStyle(t.parentNode);return"none"!==e.display&&"none"!==s.display&&"hidden"!==e.visibility}return!1},wn=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?wn(t.parentNode):null},yn=()=>function(){},En=t=>t.offsetHeight,Sn=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-no-jquery")?t:null},Cn=(t,e,s)=>t.addEventListener(e,s,{}),An=(t,e,s)=>t.addEventListener(e,s,{once:!0}),Tn=(t,e,s)=>t.removeEventListener(e,s),kn=function(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new CustomEvent(e,{detail:s,bubbles:!0,cancelable:!0});return t.dispatchEvent(i),i},_n=(t,e)=>Element.prototype.matches.call(t,e),Dn=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelectorAll.call(e,t)},Ln=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(e,t)},On=(t,e)=>fn(t.children).filter((t=>_n(t,e))),xn=(t,e)=>{const s=[];let i=t.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE&&i.nodeType!==Ki;)_n(i,e)&&s.push(i),i=i.parentNode;return s},Pn=(t,e)=>Element.prototype.closest.call(t,e),In=(t,e)=>{const s=[];let i=t.previousSibling;for(;i&&i.nodeType===Node.ELEMENT_NODE&&i.nodeType!==Ki;)_n(i,e)&&s.push(i),i=i.previousSibling;return s};function Nn(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Bn(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Nn(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Nn(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Zn={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Mn={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Rn="next",Hn="prev",jn="left",Un="right",Fn={SLIDE:"slide.bs.carousel",SLID:"slid.bs.carousel",KEYDOWN:"keydown.bs.carousel",MOUSEENTER:"mouseenter.bs.carousel",MOUSELEAVE:"mouseleave.bs.carousel",TOUCHSTART:"touchstart.bs.carousel",TOUCHMOVE:"touchmove.bs.carousel",TOUCHEND:"touchend.bs.carousel",POINTERDOWN:"pointerdown.bs.carousel",POINTERUP:"pointerup.bs.carousel",DRAG_START:"dragstart.bs.carousel",LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},Vn="active",qn="slide",$n="carousel-item-right",zn="carousel-item-left",Wn="carousel-item-next",Yn="carousel-item-prev",Gn="pointer-event",Xn=".active",Kn=".active.carousel-item",Qn=".carousel-item",Jn=".carousel-item img",to=".carousel-item-next, .carousel-item-prev",eo=".carousel-indicators",so={TOUCH:"touch",PEN:"pen"};var io=class{constructor(t,e){(0,P.Z)(this,"items",null),(0,P.Z)(this,"interval",null),(0,P.Z)(this,"activeElement",null),(0,P.Z)(this,"isPaused",!1),(0,P.Z)(this,"isSliding",!1),(0,P.Z)(this,"touchTimeout",null),(0,P.Z)(this,"touchStartX",0),(0,P.Z)(this,"touchDeltaX",0),this.config=this.getConfig(e),this.element=t,this.indicatorsElement=Ln(eo,this.element)||null,this.touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this.pointerEvent=!(!window.PointerEvent&&!window.MSPointerEvent),console.debug("CarouselService",this),this.addEventListeners()}static get Default(){return Zn}next(){this.isSliding||this.slide(Rn)}nextWhenVisible(){!document.hidden&&bn(this.element)&&this.next()}prev(){this.isSliding||this.slide(Hn)}pause(t){t||(this.isPaused=!0),Ln(to,this.element)&&(pn(this.element),this.cycle(!0)),clearInterval(this.interval||void 0),this.interval=null}cycle(t){t||(this.isPaused=!1),this.interval&&(clearInterval(this.interval),this.interval=null),this.config&&this.config.interval&&!this.isPaused&&(this.interval=window.setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this.config.interval))}to(t){if(null===this.items)throw new Error("No items found!");if(this.activeElement=Ln(Kn,this.element)||null,null===this.activeElement)throw new Error("Active element not found!");const e=this.getItemIndex(this.activeElement);if(t>this.items.length-1||t<0)return;if(this.isSliding)return void An(this.element,Fn.SLID,(()=>this.to(t)));if(e===t)return this.pause(),void this.cycle();const s=t>e?Rn:Hn;this.slide(s,this.items[t])}dispose(){this.removeEventListeners(),clearTimeout(this.touchTimeout||void 0),clearInterval(this.interval||void 0)}getConfig(t){return t=Bn(Bn({},Zn),t),gn("carousel",t,Mn),t}handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=40)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}addEventListeners(){this.keydown=this.keydown.bind(this),this.pause=this.pause.bind(this),this.cycle=this.cycle.bind(this),this.config.keyboard&&Cn(this.element,Fn.KEYDOWN,this.keydown),"hover"===this.config.pause&&(Cn(this.element,Fn.MOUSEENTER,this.pause),Cn(this.element,Fn.MOUSELEAVE,this.cycle)),this.config.touch&&this.touchSupported&&this.addTouchEventListeners()}addTouchEventListeners(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),fn(Dn(Jn,this.element)).forEach((t=>{Cn(t,Fn.DRAG_START,this.preventDrag)})),this.pointerEvent?(Cn(this.element,Fn.POINTERDOWN,this.onTouchStart),Cn(this.element,Fn.POINTERUP,this.onTouchEnd),this.element.classList.add(Gn)):(Cn(this.element,Fn.TOUCHSTART,this.onTouchStart),Cn(this.element,Fn.TOUCHMOVE,this.onTouchMove),Cn(this.element,Fn.TOUCHEND,this.onTouchEnd))}removeEventListeners(){this.config.keyboard&&Tn(this.element,Fn.KEYDOWN,this.keydown),"hover"===this.config.pause&&(Tn(this.element,Fn.MOUSEENTER,this.pause),Tn(this.element,Fn.MOUSELEAVE,this.cycle)),this.removeTouchEventListeners()}removeTouchEventListeners(){fn(Dn(Jn,this.element)).forEach((t=>{Tn(t,Fn.DRAG_START,this.preventDrag)})),this.pointerEvent?(Tn(this.element,Fn.POINTERDOWN,this.onTouchStart),Tn(this.element,Fn.POINTERUP,this.onTouchEnd),this.element.classList.add(Gn)):(Tn(this.element,Fn.TOUCHSTART,this.onTouchStart),Tn(this.element,Fn.TOUCHMOVE,this.onTouchMove),Tn(this.element,Fn.TOUCHEND,this.onTouchEnd))}onTouchStart(t){const e=t;this.pointerEvent&&so[e.pointerType.toUpperCase()]?this.touchStartX=e.clientX:this.pointerEvent||(this.touchStartX=e.touches[0].clientX)}onTouchMove(t){const e=t;e.touches&&e.touches.length>1?this.touchDeltaX=0:this.touchDeltaX=e.touches[0].clientX-this.touchStartX}onTouchEnd(t){const e=t;this.pointerEvent&&so[e.pointerType.toUpperCase()]&&(this.touchDeltaX=e.clientX-this.touchStartX),this.handleSwipe(),"hover"===this.config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=Number(setTimeout((t=>this.cycle(t)),500+(this.config.interval||0))))}preventDrag(t){t.preventDefault()}keydown(t){var e;const s=t;if(null===(e=s.target)||void 0===e||!e.tagName||!/input|textarea/i.test(s.target.tagName))switch(s.which){case 37:s.preventDefault(),this.prev();break;case 39:s.preventDefault(),this.next()}}getItemIndex(t){return t?(this.items=t&&t.parentNode?fn(Dn(Qn,t.parentNode)):[],this.items.indexOf(t)):-1}getItemByDirection(t,e){if(null===this.items)throw new Error("No items found!");const s=t===Rn,i=t===Hn,n=this.getItemIndex(e),o=this.items.length-1;if((i&&0===n||s&&n===o)&&!this.config.wrap)return e;const r=(n+(t===Hn?-1:1))%this.items.length;return-1===r?this.items[this.items.length-1]:this.items[r]}triggerSlideEvent(t,e){const s=this.getItemIndex(t),i=this.getItemIndex(Ln(Kn,this.element)||null);return kn(this.element,Fn.SLIDE,{relatedTarget:t,direction:e,from:i,to:s})}setActiveIndicatorElement(t){if(this.indicatorsElement){const e=Dn(Xn,this.indicatorsElement);for(let t=0;t<e.length;t++)e[t].classList.remove(Vn);const s=this.indicatorsElement.children[this.getItemIndex(t)];s&&s.classList.add(Vn)}}slide(t,e){const s=Ln(Kn,this.element),i=this.getItemIndex(s),n=e||s&&this.getItemByDirection(t,s);if(!n)throw new Error("Next element not found!");const o=this.getItemIndex(n),r=Boolean(this.interval);let a,l,c;if(t===Rn?(a=zn,l=Wn,c=jn):(a=$n,l=Yn,c=Un),n&&n.classList.contains(Vn))return void(this.isSliding=!1);if(!this.triggerSlideEvent(n,c).defaultPrevented&&s&&n){if(this.isSliding=!0,r&&this.pause(),this.setActiveIndicatorElement(n),this.element.classList.contains(qn)){n.classList.add(l),En(n),s.classList.add(a),n.classList.add(a);const t=parseInt(n.getAttribute("data-interval")||"0",10);t?(this.config.defaultInterval=this.config.defaultInterval||this.config.interval,this.config.interval=t):this.config.interval=this.config.defaultInterval||this.config.interval;const e=un(s);An(s,ln,(()=>{n.classList.remove(a),n.classList.remove(l),n.classList.add(Vn),s.classList.remove(Vn),s.classList.remove(l),s.classList.remove(a),this.isSliding=!1,setTimeout((()=>{kn(this.element,Fn.SLID,{relatedTarget:n,direction:c,from:i,to:o})}),0)})),vn(s,e)}else s.classList.remove(Vn),n.classList.add(Vn),this.isSliding=!1,kn(this.element,Fn.SLID,{relatedTarget:n,direction:c,from:i,to:o});r&&this.cycle()}}};const no=(()=>{const t={};let e=1;return{set(s,i,n){void 0===s.dataset.key&&(s.dataset.key=i,s.dataset.id=e.toString(),e++),s.dataset.id&&(t[s.dataset.id]=n)},get(e,s){if(!e||void 0===e.dataset.key)return null;const i=e.dataset.key,n=e.dataset.id;return i===s&&void 0!==n?t[n]:null},delete(e,s){if(void 0===e.dataset.key)return;const i=e.dataset.key,n=e.dataset.id;i===s&&void 0!==n&&(delete t[n],delete e.dataset.key)}}})(),oo=(t,e,s)=>{no.set(t,e,s)},ro=(t,e)=>no.get(t,e),ao=(t,e)=>{no.delete(t,e)};function lo(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function co(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?lo(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):lo(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const ho="bs.collapse",uo={toggle:!0,parent:""},po={toggle:"boolean",parent:"(string|element)"},mo="show.bs.collapse",vo="shown.bs.collapse",go="hide.bs.collapse",fo="hidden.bs.collapse",bo="show",wo="collapse",yo="collapsing",Eo="collapsed",So="width";class Co{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,P.Z)(this,"_element",null),(0,P.Z)(this,"_triggerArray",null),(0,P.Z)(this,"_selector",null),(0,P.Z)(this,"_parent",null),this._isTransitioning=!1,this._element=t,this._config=this._getConfig(s),this._triggerArray=Array.from(e),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle(),oo(t,ho,this)}static get VERSION(){return"4.3.1"}static get Default(){return uo}isExpanded(){var t;return!(null===(t=this._element)||void 0===t||!t.classList.contains(bo))}isCollapsed(){return!this.isExpanded()}toggle(){this.isExpanded()?this.hide():this.show()}show(){var t;if(!this._element)return void console.warn("this._element not set!");if(this._isTransitioning||this._element.classList.contains(bo))return;let e,s=null;this._parent&&(s=Array.from(Dn(".show, .collapsing",this._parent)).filter((t=>"string"==typeof this._config.parent?t.getAttribute("data-parent")===this._config.parent:t.classList.contains(wo))),0===s.length&&(s=null));const i=this._selector?Ln(this._selector):null;if(s){const t=s.filter((t=>i!==t));if(e=t[0]?ro(t[0],ho):null,e&&e._isTransitioning)return}if(kn(this._element,mo).defaultPrevented)return;s&&s.forEach((t=>{i!==t&&Co.collapseInterface(t,"hide"),e||oo(t,ho,null)}));const n=this._getDimension();this._element.classList.remove(wo),this._element.classList.add(yo),this._element.style[n]="0",null!==(t=this._triggerArray)&&void 0!==t&&t.length&&this._triggerArray.forEach((t=>{t.classList.remove(Eo),t.setAttribute("aria-expanded","true")})),this.setTransitioning(!0);const o=`scroll${n[0].toUpperCase()+n.slice(1)}`,r=un(this._element);An(this._element,ln,(()=>{this._element?(this._element.classList.remove(yo),this._element.classList.add(wo,bo),this._element.style[n]="",this.setTransitioning(!1),kn(this._element,vo)):console.warn("this._element not set!")})),vn(this._element,r),this._element.style[n]=`${this._element[o]}px`,!this._config.parent&&this._triggerArray&&this._addAriaAndCollapsedClass(this._element,this._triggerArray,!0)}hide(){var t;if(!this._element)return void console.warn("this._element not set!");if(this._isTransitioning||!this._element.classList.contains(bo))return;if(kn(this._element,go).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,En(this._element),this._element.classList.add(yo),this._element.classList.remove(wo,bo);const s=null===(t=this._triggerArray)||void 0===t?void 0:t.length;if(s&&this._triggerArray&&s>0)for(let t=0;t<s;t++){const e=this._triggerArray[t],s=dn(e);s&&!s.classList.contains(bo)&&(e.classList.add(Eo),e.setAttribute("aria-expanded","false"))}this.setTransitioning(!0);this._element.style[e]="";const i=un(this._element);An(this._element,ln,(()=>{this.setTransitioning(!1),this._element?(this._element.classList.remove(yo),this._element.classList.add(wo),kn(this._element,fo)):console.warn("this._element not set!")})),vn(this._element,i),!this._config.parent&&this._triggerArray&&this._addAriaAndCollapsedClass(this._element,this._triggerArray,!1)}setTransitioning(t){this._isTransitioning=t}dispose(){this._element&&ao(this._element,ho),this._config=null,this._parent=null,this._element=null,this._isTransitioning=!1}_getConfig(t){return(t=co(co({},uo),t)).toggle=Boolean(t.toggle),gn("collapse",t,po),t}_getDimension(){return!!this._element&&this._element.classList.contains(So)?So:"height"}_getParent(){let{parent:t}=this._config;mn(t)?void 0===t.jquery&&void 0===t[0]||(t=t[0]):t=Ln(t);return Dn(`[data-parent="${t}"]`,t).forEach((t=>{const e=dn(t);e?this._addAriaAndCollapsedClass(e,[t]):console.warn()})),t}_addAriaAndCollapsedClass(t,e,s){t&&("boolean"!=typeof s&&(s=t.classList.contains(bo)),e.length&&e.forEach((t=>{s?t.classList.remove(Eo):t.classList.add(Eo),t.setAttribute("aria-expanded",(!!s).toString())})))}static collapseInterface(t,e){let s=ro(t,ho);const i=co(co(co({},uo),t.dataset),"object"==typeof e&&e?e:{});if(!s&&i.toggle&&/show|hide/.test(e)&&(i.toggle=!1),s||(s=new Co(t,[],i)),"string"==typeof e){if(void 0===s[e])throw new TypeError(`No method named "${e}"`);s[e]()}}static getInstance(t){return ro(t,ho)}}var Ao=s(91);function To(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function ko(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?To(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):To(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}new RegExp("38|40|27");const _o={HIDE:"hide.bs.dropdown",HIDDEN:"hidden.bs.dropdown",SHOW:"show.bs.dropdown",SHOWN:"shown.bs.dropdown",CLICK:"click.bs.dropdown",CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},Do="disabled",Lo="show",Oo="dropup",xo="dropright",Po="dropleft",Io="dropdown-menu-right",No="position-static",Bo=".dropdown-toggle",Zo=".dropdown-menu",Mo="top-start",Ro="top-end",Ho="bottom-start",jo="bottom-end",Uo="right-start",Fo="left-start",Vo={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},qo={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"};class $o{static get VERSION(){return"4.1.3"}static get Default(){return Vo}static get DefaultType(){return qo}static closeAll(){document.querySelectorAll(Bo).forEach((t=>{if(t.parentElement){const e=t.parentElement.querySelector(Zo+"."+Lo)||void 0;if(e)return this.close(t,e,t)}this.close(t,t)}))}static close(t,e,s){const i={relatedTarget:t};e&&e.classList.contains(Lo)&&e.classList.remove(Lo),s&&s.classList.contains(Lo)&&(s.classList.remove(Lo),s.dispatchEvent(new CustomEvent(_o.HIDDEN,{detail:i})));const n=t.parentElement;n&&n.classList.contains(Lo)&&(n.classList.remove(Lo),n.dispatchEvent(new CustomEvent(_o.HIDDEN,{detail:i})))}static _clearMenus(){return this.closeAll()}constructor(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this.outsideClickListener=this.outsideClickListener.bind(this),this.closeOnClickOutside()}close(){return $o.close(this._element,this._menu)}show(){const t={relatedTarget:this._element},e=this._element.parentElement;this._menu.classList.contains(Lo)||this._menu.classList.add(Lo),e&&!e.classList.contains(Lo)&&(e.classList.add(Lo),e.dispatchEvent(new CustomEvent(_o.SHOWN,{detail:t})))}toggle(){if(this._element.disabled||this._element.classList.contains(Do))return;const t=this._element.parentElement,e=this._menu.classList.contains(Lo);if($o._clearMenus(),e)return void this.close();const s={relatedTarget:this._element},i=new CustomEvent(_o.SHOW,{detail:s});if(!t||(t.dispatchEvent(i),!i.defaultPrevented)){if(!this._inNavbar){if(void 0===Ao.Z)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:mn(this._config.reference)&&(e=this._config.reference,void 0!==this._config.reference.jquery&&(e=this._config.reference[0])),t&&"scrollParent"!==this._config.boundary&&t.classList.add(No),this._popper=new Ao.Z(e,this._menu,this._getPopperConfig())}this._element.focus(),this._element.setAttribute("aria-expanded","true"),this._menu.classList.contains(Lo)?this._menu.classList.remove(Lo):this._menu.classList.add(Lo),this._menu.dispatchEvent(new CustomEvent(_o.SHOWN,{detail:s}))}}dispose(){this._element.removeAttribute("data-bs.dropdown"),null!==this._popper&&(this._popper.destroy(),this._popper=null),document.removeEventListener("click",this.outsideClickListener)}update(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}outsideClickListener(t){const e=t.target||t.srcElement||t.currentTarget,s=this._element.parentElement;e&&!s.contains(e)&&(this.close(),document.removeEventListener("click",this.outsideClickListener))}closeOnClickOutside(){this._element.parentElement&&document.addEventListener("click",this.outsideClickListener)}_getConfig(t){return t=ko(ko(ko({},$o.Default),this._element.dataset),t),gn("dropdown",t,$o.DefaultType),t}_getMenuElement(){if(!this._menu){const t=this._element.parentElement;if(t){const e=t.querySelector(Zo);if(!e)throw new Error("Menu not found!");this._menu=e}}return this._menu}_getPlacement(){const t=this._element.parentElement;let e=Ho;if(!t)throw new Error("Parent of element not found!");return t.classList.contains(Oo)?(e=Mo,this._menu.classList.contains(Io)&&(e=Ro)):t.classList.contains(xo)?e=Uo:t.classList.contains(Po)?e=Fo:this._menu.classList.contains(Io)&&(e=jo),e}_detectNavbar(){return this._element.closest&&null!==this._element.closest(".navbar")}_getPopperConfig(){const t={};"function"==typeof this._config.offset?t.fn=t=>(t.offsets=ko(ko({},t.offsets),this._config.offset(t.offsets)||{}),t):t.offset=this._config.offset;const e={placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),e}}function zo(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Wo(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?zo(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):zo(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Yo="bs.modal",Go="Escape",Xo={backdrop:!0,keyboard:!0,focus:!0,show:!0},Ko={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Qo="hidden.bs.modal",Jo="focusin.bs.modal",tr="resize.bs.modal",er="click.dismiss.bs.modal",sr="keydown.dismiss.bs.modal",ir="modal-open",nr="fade",or="show",rr="modal-static",ar=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",lr=".sticky-top";class cr{constructor(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=Ln(".modal-dialog",t),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0,oo(t,Yo,this)}static get VERSION(){return"5.0.0-alpha1"}static get Default(){return Xo}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;this._element.classList.contains(nr)&&(this._isTransitioning=!0);const e=kn(this._element,"show.bs.modal",{relatedTarget:t});this._isShown||e.defaultPrevented||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),Cn(this._element,er,(t=>this.hide(t))),this._dialog&&Cn(this._dialog,"mousedown.dismiss.bs.modal",(()=>{An(this._element,"mouseup.dismiss.bs.modal",(t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(t))))}hide(t){if(t&&t.preventDefault(),!this._isShown||this._isTransitioning)return;if(kn(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const e=this._element.classList.contains(nr);if(e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._element.classList.remove(or),e){const t=un(this._element);An(this._element,ln,(()=>this._hideModal())),vn(this._element,t)}else this._hideModal()}dispose(){ao(this._element,Yo)}handleUpdate(){this._adjustDialog()}_getConfig(t){return t=Wo(Wo({},Xo),t),gn("modal",t,Ko),t}_showElement(t){const e=this._element.classList.contains(nr),s=this._dialog?Ln(".modal-body",this._dialog):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal","true"),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,s&&(s.scrollTop=0),e&&En(this._element),this._element.classList.add(or),this._config.focus&&this._enforceFocus();const i=()=>{this._config.focus&&this._element.focus(),this._isTransitioning=!1,kn(this._element,"shown.bs.modal",{relatedTarget:t})};if(e){if(!this._dialog)return void console.warn("Dialog element not found!");const t=un(this._dialog);An(this._dialog,ln,i),vn(this._dialog,t)}else i()}_enforceFocus(){const t=t=>{t.target&&document!==t.target&&this._element!==t.target&&!this._element.contains(t.target)&&this._element.focus()};Tn(document,Jo,t),Cn(document,Jo,t)}_setEscapeEvent(){const t=t=>{this._config.keyboard&&t.key===Go?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!==Go||this._triggerBackdropTransition()};this._isShown?Cn(this._element,sr,t):Tn(this._element,sr,t)}_setResizeEvent(){const t=()=>this._adjustDialog();this._isShown?Cn(window,tr,t):Tn(window,tr,t)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((()=>{document.body.classList.remove(ir),this._resetAdjustments(),this._resetScrollbar(),kn(this._element,Qo)}))}_removeBackdrop(){var t,e;null===(t=this._backdrop)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(this._backdrop),this._backdrop=null}_showBackdrop(t){const e=this._element.classList.contains(nr)?nr:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",e&&this._backdrop.classList.add(e),document.body.appendChild(this._backdrop),Cn(this._element,er,(t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&this._triggerBackdropTransition()})),e&&En(this._backdrop),this._backdrop.classList.add(or),!e)return void t();const s=un(this._backdrop);An(this._backdrop,ln,t),vn(this._backdrop,s)}else if(!this._isShown&&this._backdrop){this._backdrop.classList.remove(or);const e=()=>{this._removeBackdrop(),t()};if(this._element.classList.contains(nr)){const t=un(this._backdrop);An(this._backdrop,ln,e),vn(this._backdrop,t)}else e()}else t()}_triggerBackdropTransition(){if("static"===this._config.backdrop){if(!this._dialog)return void console.error("Dialog element not found!");if(kn(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight;t||(this._element.style.overflowY="hidden"),this._element.classList.add(rr);const e=un(this._dialog),s=()=>{this._element.classList.remove(rr),t||(An(this._element,ln,(()=>{this._element.style.overflowY=""})),vn(this._element,e))};Tn(this._element,ln,s),An(this._element,ln,s),vn(this._element,e),this._element.focus()}else this.hide()}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=`${this._scrollbarWidth}px`),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=`${this._scrollbarWidth}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}_checkScrollbar(){const t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()}_setScrollbar(){if(this._isBodyOverflowing){Dn(ar).forEach((t=>{const e=t.style.paddingRight,s=window.getComputedStyle(t)["padding-right"];t.dataset.paddingRight=e,t.style.paddingRight=`${parseFloat(s)+this._scrollbarWidth}px`})),Dn(lr).forEach((t=>{const e=t.style.marginRight,s=window.getComputedStyle(t)["margin-right"];t.dataset.marginRight=e,t.style.marginRight=parseFloat(s)-this._scrollbarWidth+"px"}));const t=document.body.style.paddingRight,e=window.getComputedStyle(document.body)["padding-right"];document.body.dataset.paddingRight=t,document.body.style.paddingRight=`${parseFloat(e)+this._scrollbarWidth}px`}document.body.classList.add(ir)}_resetScrollbar(){Dn(ar).forEach((t=>{const e=t.dataset.paddingRight;void 0!==e&&(delete t.dataset.paddingRight,t.style.paddingRight=e)})),Dn(".sticky-top").forEach((t=>{const e=t.dataset.marginRight;void 0!==e&&(delete t.dataset.marginRight,t.style.marginRight=e)}));const t=document.body.dataset.paddingRight;void 0===t?document.body.style.paddingRight="":(delete document.body.dataset.paddingRight,document.body.style.paddingRight=t)}_getScrollbarWidth(){const t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}static getInstance(t){return ro(t,Yo)}}const hr=(t,e)=>{const s=t.nodeName.toLowerCase();var i,n;if(-1!==e.indexOf(s))return-1===en.indexOf(s)||Boolean((null===(i=t.nodeValue)||void 0===i?void 0:i.match(nn))||(null===(n=t.nodeValue)||void 0===n?void 0:n.match(on)));const o=e.filter((t=>t instanceof RegExp));for(let t=0,e=o.length;t<e;t++)if(s.match(o[t]))return!0;return!1};function dr(t,e,s){if(!t.length)return t;if(s&&"function"==typeof s)return s(t);const i=(new window.DOMParser).parseFromString(t,"text/html"),n=Object.keys(e),o=Array.from(i.body.querySelectorAll("*"));for(let t=0,s=o.length;t<s;t++){const s=o[t],i=s.nodeName.toLowerCase();if(-1===n.indexOf(i)){var r;null==s||null===(r=s.parentNode)||void 0===r||r.removeChild(s);continue}const a=Array.from(s.attributes),l=e["*"]||e[i]||[];a.forEach((t=>{hr(t,l)||s.removeAttribute(t.nodeName)}))}return i.body.innerHTML}function ur(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function pr(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function mr(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const vr=(t,e,s)=>{t.setAttribute(`data-${mr(e)}`,s)},gr=(t,e)=>{t.removeAttribute(`data-${mr(e)}`)},fr=t=>{if(!t)return{};const e=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ur(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ur(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},t.dataset);return Object.keys(e).forEach((t=>{e[t]=pr(e[t])})),e},br=(t,e)=>pr(t.getAttribute(`data-${mr(e)}`)),wr=t=>{const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},yr=t=>({top:t.offsetTop,left:t.offsetLeft}),Er=(t,e)=>{t&&(t.classList.contains(e)?t.classList.remove(e):t.classList.add(e))};function Sr(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Cr(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Sr(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Sr(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Ar="tooltip",Tr="5.0.0-alpha1",kr="bs.tooltip",_r=".bs.tooltip",Dr="bs-tooltip",Lr=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Or=["sanitize","allowList","sanitizeFn"],xr={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean|undefined)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean|undefined)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object)"},Pr={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Ir={animation:!0,container:void 0,delay:0,html:!1,placement:"top",selector:void 0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus",offset:0,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,allowList:rn,popperConfig:null},Nr={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Br="fade",Zr="modal",Mr="show",Rr="show",Hr="out",jr=".tooltip-inner",Ur="hover",Fr="focus",Vr="click",qr="manual";class $r{constructor(t,e){if((0,P.Z)(this,"_isEnabled",!0),(0,P.Z)(this,"_timeout",0),(0,P.Z)(this,"_hoverState",""),(0,P.Z)(this,"_activeTrigger",{}),(0,P.Z)(this,"_popper",null),(0,P.Z)(this,"tip",null),void 0===Ao.Z)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org)");this.element=t,this.config=this._getConfig(e),this._setListeners(),oo(t,$r.DATA_KEY,this)}static get VERSION(){return Tr}static get Default(){return Ir}static get NAME(){return Ar}static get DATA_KEY(){return kr}static get Event(){return Nr}static get EVENT_KEY(){return _r}static get DefaultType(){return xr}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=$r.DATA_KEY,s=Ct(t);let i=ro(s,e);i||(i=new $r(s,this._getDelegateConfig()),oo(s,e,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(this.getTipElement().classList.contains(Mr))return void this._leave(void 0,this);this._enter(void 0,this)}}dispose(){clearTimeout(this._timeout),ao(this.element,$r.DATA_KEY);const t=this.element.closest(".modal");var e;(t&&Tn(t,"hide.bs.modal",this._hideModalHandler),this.tip)&&(null===(e=this.tip.parentNode)||void 0===e||e.removeChild(this.tip));this._popper&&this._popper.destroy()}show(){if("none"===this.element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var t;const e=kn(this.element,X(this).Event.SHOW),s=wn(this.element),i=null===s?this.element.ownerDocument.documentElement.contains(this.element):s.contains(this.element);if(e.defaultPrevented||!i)return;const n=this.getTipElement(),o=kt($r.NAME);n.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&n.classList.add(Br);const r="function"==typeof this.config.placement?this.config.placement.call(this,n,this.element):this.config.placement,a=this._getAttachment(r||void 0);this._addAttachmentClass(a);const l=this._getContainer();oo(n,$r.DATA_KEY,this),this.element.ownerDocument.documentElement.contains(this.tip)||null==l||l.appendChild(n),kn(this.element,X(this).Event.INSERTED),this._popper=new Ao.Z(this.element,n,this._getPopperConfig(a)),n.classList.add(Mr),"ontouchstart"in document.documentElement&&Array.from(document.body.children).forEach((t=>{Cn(t,"mouseover",yn())}));const c=()=>{this.config.animation&&this._fixTransition();const t=this._hoverState;this._hoverState="",kn(this.element,X(this).Event.SHOWN),t===Hr&&this._leave(void 0,this)};if(null!==(t=this.tip)&&void 0!==t&&t.classList.contains(Br)){const t=un(this.tip);An(this.tip,ln,c),vn(this.tip,t)}else c()}}hide(){var t;const e=this.getTipElement(),s=()=>{var t;this._hoverState!==Rr&&e.parentNode&&e.parentNode.removeChild(e),this._cleanTipClass(),this.element.removeAttribute("aria-describedby"),kn(this.element,X(this).Event.HIDDEN),null===(t=this._popper)||void 0===t||t.destroy()};if(!kn(this.element,X(this).Event.HIDE).defaultPrevented){if(e.classList.remove(Mr),"ontouchstart"in document.documentElement&&Array.from(document.body.children).forEach((t=>Tn(t,"mouseover",yn))),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,null!==(t=this.tip)&&void 0!==t&&t.classList.contains(Br)){const t=un(e);An(e,ln,s),vn(e,t)}else s();this._hoverState=""}}update(){null!==this._popper&&this._popper.scheduleUpdate()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");if(t.innerHTML=this.config.template,this.tip=t.children[0],!this.tip)throw new Error("Tooltip not found!");return this.tip}setContent(){const t=this.getTipElement();this.setElementContent(Ln(jr,t),this.getTitle()),t.classList.remove(Br,Mr)}setElementContent(t,e){if(null!==t){if("object"==typeof e&&null!==e&&mn(e))return e.jquery&&(e=e[0]),e=e,void(this.config.html?e.parentNode!==t&&(t.innerHTML="",t.appendChild(e)):t.textContent=e.textContent);e=e,this.config.html&&this.config.sanitize&&(e=dr(e,this.config.allowList,this.config.sanitizeFn||void 0)),t.innerHTML=e}}getTitle(){let t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title(this.element):this.config.title),t}_getPopperConfig(t){return Cr(Cr({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:`.${$r.NAME}-arrow`},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:t=>{t.originalPlacement!==t.placement&&this._handlePopperPlacementChange(t)},onUpdate:t=>this._handlePopperPlacementChange(t)}),this.config.popperConfig)}_addAttachmentClass(t){this.getTipElement().classList.add(`bs-tooltip-${t}`)}_getOffset(){const t={};return this.config.offset&&"function"==typeof this.config.offset?t.fn=t=>(t.offsets=Cr(Cr({},t.offsets),this.config.offset(t.offsets,this.element)||{}),t):t.offset=this.config.offset,t}_getContainer(){return this.config.container?mn(this.config.container)?this.config.container:"string"==typeof this.config.container?Ln(this.config.container):null:document.body}_getAttachment(){return Pr[(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AUTO").toUpperCase()||"BOTTOM"]}_setListeners(){this.config.trigger.split(" ").forEach((t=>{if("click"===t)Cn(this.element,"click",(t=>this.toggle(t)));else if(t!==qr){const e=t===Ur?"mouseover":"focus",s=t===Ur?"mouseout":"blur";Cn(this.element,e,(t=>this._enter(t))),Cn(this.element,s,(t=>this._leave(t)))}}));const t=this.element.closest(".modal");t&&Cn(t,"hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=Cr(Cr({},this.config),{},{trigger:"manual",selector:""}):this._fixTitle()}_hideModalHandler(){this.element&&this.hide()}_fixTitle(){const t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))}_enter(t,e){const s=$r.DATA_KEY;if(t){const i=t.delegateTarget||Ct(t);(e=e||ro(i,s))||(e=new $r(i,this._getDelegateConfig()),oo(i,s,e)),e._activeTrigger["focusin"===t.type?Fr:Ur]=!0}e.getTipElement().classList.contains(Mr)||e._hoverState===Rr?e._hoverState=Rr:(clearTimeout(e._timeout),e._hoverState=Rr,e.config.delay&&e.config.delay.show?e._timeout=setTimeout((()=>{e._hoverState===Rr&&e.show()}),e.config.delay.show):e.show())}_leave(t,e){const s=$r.DATA_KEY;if(t){const i=t.delegateTarget||Ct(t);(e=e||ro(i,s))||(e=new $r(i,this._getDelegateConfig()),oo(i,s,e))}t&&(e._activeTrigger["focusout"===t.type?Fr:Ur]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=Hr,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((()=>{e._hoverState===Hr&&e.hide()}),e.config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=fr(this.element);return Object.keys(e).forEach((t=>{-1!==Or.indexOf(t)&&delete e[t]})),t&&"object"==typeof t.container&&t.container.jquery&&(t.container=t.container[0]),"number"==typeof(t=Cr(Cr(Cr({},$r.Default),e),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),t.title&&"number"==typeof t.title&&(t.title=t.title.toString()),t.content&&"number"==typeof t.content&&(t.content=t.content.toString()),gn(Ar,t,$r.DefaultType),t.sanitize&&(t.template=dr(t.template,t.allowList,t.sanitizeFn||void 0)||""),t}_getDelegateConfig(){const t={};if(this.config)for(const e in this.config)this.config[e]!==$r.Default[e]&&(t[e]=this.config[e]);return t}_cleanTipClass(){var t;const e=this.getTipElement(),s=null===(t=e.getAttribute("class"))||void 0===t?void 0:t.match(Lr);s&&s.length>0&&s.map((t=>t.trim())).forEach((t=>e.classList.remove(t)))}_handlePopperPlacementChange(t){this.tip=t.instance.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement))}_fixTransition(){const t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(t.classList.remove(Br),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)}static getInstance(t){return ro(t,kr)}}(0,P.Z)($r,"CONSTANTS",{NAME:Ar,VERSION:Tr,DATA_KEY:kr,EVENT_KEY:_r,CLASS_PREFIX:Dr,BSCLS_PREFIX_REGEX:Lr,DISALLOWED_ATTRIBUTES:Or,DefaultType:xr,AttachmentMap:Pr,Default:Ir,Event:Nr,CLASS_NAME_FADE:Br,CLASS_NAME_MODAL:Zr,CLASS_NAME_SHOW:Mr,HOVER_STATE_SHOW:Rr,HOVER_STATE_OUT:Hr,SELECTOR_TOOLTIP_INNER:jr,TRIGGER_HOVER:Ur,TRIGGER_FOCUS:Fr,TRIGGER_CLICK:Vr,TRIGGER_MANUAL:qr});function zr(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Wr(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?zr(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):zr(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Yr="popover",Gr="5.0.0-alpha1",Xr="bs.popover",Kr=".bs.popover",Qr="bs-popover",Jr=new RegExp("(^|\\s)bs-popover\\S+","g"),ta=Wr(Wr({},$r.Default),{},{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),ea=Wr(Wr({},$r.DefaultType),{},{content:"(string|element|function)"}),sa={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},ia="fade",na="show",oa=".popover-header",ra=".popover-body";class aa extends $r{static get VERSION(){return Gr}static get Default(){return ta}static get NAME(){return Yr}static get DATA_KEY(){return Xr}static get Event(){return sa}static get EVENT_KEY(){return Kr}static get DefaultType(){return ea}constructor(t,e){super(t,e),t.style.backgroundColor="#ffff00"}isWithContent(){return Boolean(this.getTitle()||this._getContent())}setContent(t){const e=this.getTipElement();this.setElementContent(Ln(oa,e),this.getTitle()),t||(t=this._getContent()),"function"==typeof t&&(t=t(this.element)),t&&this.setElementContent(Ln(ra,e),t),e.classList.remove(ia,na)}_addAttachmentClass(t){this.getTipElement().classList.add(`bs-popover-${t}`)}_getContent(){return this.element.getAttribute("data-content")||this.config.content}_cleanTipClass(){var t;const e=this.getTipElement(),s=null==e||null===(t=e.getAttribute("class"))||void 0===t?void 0:t.match(Jr);s&&s.length>0&&s.map((t=>t.trim())).forEach((t=>e.classList.remove(t)))}_getPopperConfig(t){const e=super._getPopperConfig(t);return e.modifiers.arrow.element=`.${aa.NAME}-arrow`,e}static getInstance(t){return ro(t,Xr)}}(0,P.Z)(aa,"CONSTANTS",{NAME:Yr,VERSION:Gr,DATA_KEY:Xr,EVENT_KEY:Kr,CLASS_PREFIX:Qr,BSCLS_PREFIX_REGEX:Jr,Default:ta,DefaultType:ea,Event:sa,CLASS_NAME_FADE:ia,CLASS_NAME_SHOW:na,SELECTOR_TITLE:oa,SELECTOR_CONTENT:ra});function la(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function ca(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?la(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):la(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const ha="bs.toast",da="hidden.bs.toast",ua="hide",pa="show",ma="showing",va={animation:"boolean",autohide:"boolean",delay:"number"},ga={animation:!0,autohide:!0,delay:2e3};class fa{constructor(t,e){(0,P.Z)(this,"_config",{}),(0,P.Z)(this,"_timeout",null),this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners(),oo(t,ha,this)}static get VERSION(){return"5.0.0-alpha1-riba"}static get DefaultType(){return va}static get Default(){return ga}show(){if(kn(this._element,"show.bs.toast").defaultPrevented)return;this._config.animation&&this._element.classList.add("fade");const t=()=>{this._element&&(this._element.classList.remove(ma),this._element.classList.add(pa),kn(this._element,"shown.bs.toast"),this._config.autohide&&(this._timeout=Number(setTimeout((()=>{this.hide()}),this._config.delay))))};if(this._element.classList.remove(ua),En(this._element),this._element.classList.add(ma),this._config.animation){const e=un(this._element);An(this._element,ln,t),vn(this._element,e)}else t()}hide(){if(!this._element.classList.contains(pa))return;if(kn(this._element,"hide.bs.toast").defaultPrevented)return;const t=()=>{this._element&&(this._element.classList.add(ua),kn(this._element,da))};if(this._element.classList.remove(pa),this._config.animation){const e=un(this._element);An(this._element,ln,t),vn(this._element,e)}else t()}dispose(){this._timeout&&clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(pa)&&this._element.classList.remove(pa),ao(this._element,ha)}_getConfig(t){var e;return t=ca(ca(ca({},ga),(null===(e=this._element)||void 0===e?void 0:e.dataset)||{}),"object"==typeof t&&t?t:{}),gn("toast",t,fa.DefaultType),t}_setListeners(){this._element&&Cn(this._element,"click.dismiss.bs.toast",(()=>{var t;"toast"===(null===(t=this._element)||void 0===t?void 0:t.dataset.dismiss)&&this.hide()}))}static getInstance(t){return ro(t,ha)}}const ba={name:"bs4-collapse-on-url",bind(t){this.customData={dispatcher:it.getInstance("main"),collapseService:new Co(t,[],{toggle:!1})}},unbind(){this.customData.checkURL&&this.customData.dispatcher.off("newPageReady",this.customData.checkURL)},routine(t,e){this.customData.checkURL&&this.customData.dispatcher.off("newPageReady",this.customData.checkURL),this.customData.checkURL=()=>!(!e||!Yt(e))&&(this.customData.collapseService.hide(),!0),this.customData.dispatcher.on("newPageReady",this.customData.checkURL)}},wa={name:"bs4-collapse",bind(){console.warn("bs4-collapse is deprecated, use bs4-toggle-collapse-on-click instead.")},routine(t,e){const s=document.querySelectorAll(e),i=[];s.forEach((e=>{i.push(new Co(e,[t],{toggle:!1}))})),t.addEventListener("click",(t=>{t.preventDefault(),i.forEach((t=>{t.toggle()}))}))}},ya={name:"bs4-toggle-collapse-on-*",bind(t){if(this.customData={targets:new Map,onEvent(t){t.preventDefault();for(const t of this.targets.values())t.toggle()}},this.customData.onEvent=this.customData.onEvent.bind(this.customData),null===this.args)throw new Error("args is null");const e=this.args[0];t.addEventListener(e,this.customData.onEvent,{passive:!0})},unbind(){const t=this.args[0];this.el.removeEventListener(t,this.customData.onEvent)},routine(t,e){const s=Array.from(document.querySelectorAll(e));s.length<=0&&console.warn(`[toggleCollapseOnEventBinder] No element with selector "${e}" found.`);for(const t of this.customData.targets.keys())s.find((e=>e===t))||(this.customData.targets.get(t).dispose(),this.customData.targets.delete(t));for(const e of s)this.customData.targets.has(e)||this.customData.targets.set(e,new Co(e,[t],{toggle:!1}))}},Ea={name:"bs4-dropdown",bind(t){this.customData={toggler:(t.classList.contains("dropdown-toggle")?t:t.querySelector(".dropdown-toggle"))||t}},routine(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.customData.dropdownService&&(this.customData.dropdownService.dispose(),this.customData.toggler.removeEventListener("click",this.customData.dropdownService.toggle)),this.customData.dropdownService=new $o(this.customData.toggler,e),this.customData.dropdownService.toggle=this.customData.dropdownService.toggle.bind(this.customData.dropdownService),this.customData.toggler.addEventListener("click",this.customData.dropdownService.toggle)}},Sa={name:"bs4-expan-on-url",routine(t,e){const s=new Co(t,[],{toggle:!1}),i=new it("main"),n=t=>t&&Yt(t)?(s.show(),!0):(s.hide(),!1);i.on("newPageReady",(()=>n(e))),n(e)}};function Ca(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Aa(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ca(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ca(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Ta={name:"bs4-popover",block:!1,routine(t,e){let s={};"string"==typeof e?s.content=e:"object"==typeof e&&(s=Aa({},e)),s.placement=s.placement||"auto";const i=new aa(t,Aa(Aa({},aa.Default),s));this.customData.popover&&this.customData.popover.dispose(),this.customData.popover=i;const n=["show","hide","toggle","dispose","enable","disable","toggleEnabled","update"];if(this.customData.listeners)for(const[t,e]of Object.entries(this.customData.listeners))this.el.removeEventListener(t,e);this.customData.listeners=Object.create(null);for(const t of n){const e=`trigger-${t}`,s=i[t].bind(i);this.el.addEventListener(e,s),this.customData.listeners[e]=s}},bind(t){t.dispatchEvent(new CustomEvent("bound.bs.popover",{bubbles:!0,cancelable:!0}))},unbind(){if(this.customData.popover&&this.customData.popover.dispose(),this.customData.listeners)for(const[t,e]of Object.entries(this.customData.listeners))this.el.removeEventListener(t,e)}};class ka extends class{constructor(t,e){this.type=t,this.title=e}}{constructor(t){let{title:e,message:s,iconUrl:i,delay:n,autoHide:o,animation:r,toastService:a,contextualClass:l,channel:c,$event:h,$context:d}=t;super("toast",e),this.message=s,this.iconUrl=i,this.delay=n,this.autoHide=o,this.animation=r,this.toastService=a,this.contextualClass=l,this.channel=c,this.$event=h,this.$context=d}}const _a={name:"show-toast-on-*",bind(t){this.customData={onEvent(t){console.debug("[show-toast-on-*] event.detail:",t.detail),this.customData.toastData.$event=t,this.customData.toastData.$context=this.view.models,console.debug(this.customData.toastData);const e=new ka(this.customData.toastData);new it(e.channel||"toast").trigger("show-notification",e)}};const e=this.args[0];this.customData.onEvent=this.customData.onEvent.bind(this),t.addEventListener(e,this.customData.onEvent,{passive:!0})},routine(t,e){if(null===this.args)throw new Error("args is null");this.customData.toastData=e},unbind(t){const e=this.args[0];t.removeEventListener(e,this.customData.onEvent)}},Da={name:"bs4-scrollspy-*",bind(t){this.customData={onScroll:function(){const e=this.customData.target,s=this.customData.className;this.customData.target&&(this.customData.isInViewport(e)?(t.classList.add(s),"radio"===t.type&&(t.checked=!0)):(t.classList.remove(s),"radio"===t.type&&(t.checked=!1)))},isInViewport:function(e){if(!e)return!1;const s=Number(t.dataset.offset||0),i=Number(t.dataset.offsetBottom||0);return Tt(e,s,i)}},this.customData.isInViewport=this.customData.isInViewport.bind(this),this.customData.onScroll=It(this.customData.onScroll.bind(this)),window.addEventListener("scroll",this.customData.onScroll,{passive:!0}),this.customData.onScroll()},routine(t,e){const s=e.replace("#","");this.customData.target=document.getElementById(s),this.customData.className=this.args[0]},unbind(){window.removeEventListener("scroll",this.customData.onScroll)}},La=document.createElement("div");La.classList.add("tooltip"),La.setAttribute("role","tooltip");const Oa=document.createElement("div");Oa.classList.add("arrow"),La.appendChild(Oa);const xa=document.createElement("div");xa.classList.add("tooltip-inner"),La.appendChild(xa);const Pa={name:"bs4-tooltip",block:!1,bind(t){this.customData.tip=La.cloneNode(!0),this.customData.show=()=>{const e=this.el.dataset.placement||"top";this.customData.popper=new Ao.Z(t,this.customData.tip,{placement:e,modifiers:{offset:{offset:0},flip:{behavior:"flip"},arrow:{element:".arrow"},preventOverflow:{boundariesElement:"scrollParent"}}}),document.body.appendChild(this.customData.tip),this.customData.tip.classList.add("show"),this.customData.tip.classList.add("bs-tooltip-"+e)},this.customData.hide=()=>{this.customData.tip.classList.remove("show"),this.customData.popper&&this.customData.popper.destroy()},t.addEventListener("mouseenter",this.customData.show),t.addEventListener("mouseleave",this.customData.hide)},routine(t,e){this.customData.tip.querySelector(".tooltip-inner").innerHTML=e},unbind(){this.customData.hide(),this.el.removeEventListener("mouseenter",this.customData.show),this.el.removeEventListener("mouseleave",this.customData.hide)}},Ia={name:"scroll-to-on-*",bind(t){this.customData={onEvent:function(e){const s=Number(t.dataset.offset||0),i=t.dataset.scrollElement?document.querySelector(t.dataset.scrollElement):window;this.customData.target&&(Et(this.customData.target,s,i),e.preventDefault())}},this.customData.onEvent=this.customData.onEvent.bind(this);const e=this.args[0];t.addEventListener(e,this.customData.onEvent,{passive:!0})},routine(t,e){this.customData.target=document.querySelector(e)},unbind(t){const e=this.args[0];t.removeEventListener(e,this.customData.onEvent)}},Na={name:"bs4-toggle-attribute-*",toggleButtonEvents:null,state:"off",triggerState(){var t;const e=this.binder||this;null===(t=e.toggleButtonEvents)||void 0===t||t.trigger(Qi.eventNames.state,e.state)},onToggle(){(this.binder||this).toggle.bind(this)(this.el)},toggle(t){const e=this.binder||this;"removed"===e.state?e.add.bind(this)(t):e.remove.bind(this)(t)},remove(t){const e=this.binder||this,s=this.args[0];t.removeAttribute(s),e.state="removed",t.dispatchEvent(new CustomEvent(Ji.elEventNames.removed,{detail:{attributeName:s}})),e.triggerState()},add(t){const e=this.binder||this,s=this.args[0];t.setAttribute(s,s),e.state="added",t.dispatchEvent(new CustomEvent(Ji.elEventNames.added,{detail:{attributeName:s}})),e.triggerState()},bind(t){const e=this.binder||this,s=this.args[0];e.state=t.hasAttribute(s)?"added":"removed"},unbind(){var t,e;const s=this.binder||this;null===(t=s.toggleButtonEvents)||void 0===t||t.off(Qi.eventNames.toggle,s.onToggle,s),null===(e=s.toggleButtonEvents)||void 0===e||e.off(Qi.eventNames.init,s.triggerState,s)},routine(t,e){const s=this.getValue(t),i=this.binder||this;let n=i.toggleButtonEvents;s&&n&&(n.off(Qi.eventNames.toggle,i.onToggle,i),n.off(Qi.eventNames.init,i.triggerState,i)),i.toggleButtonEvents||(i.toggleButtonEvents=new it(Qi.nsPrefix+e),n=i.toggleButtonEvents,n.on(Qi.eventNames.toggle,i.onToggle,i),n.on(Qi.eventNames.init,i.triggerState,i))}},Ba={name:"bs4-toggle-class-*",toggleButtonEvents:null,state:"off",triggerState(){var t;const e=this.binder||this;null===(t=e.toggleButtonEvents)||void 0===t||t.trigger(Qi.eventNames.state,e.state)},onToggle(){(this.binder||this).toggle.bind(this)(this.el)},toggle(t){const e=this.binder||this;"removed"===e.state?e.add.bind(this)(t):e.remove.bind(this)(t)},remove(t){const e=this.binder||this,s=this.args[0];t.classList.remove(s),e.state="removed",t.dispatchEvent(new CustomEvent(tn.elEventNames.removed,{detail:{className:s}})),e.triggerState()},add(t){const e=this.binder||this,s=this.args[0];t.classList.add(s,s),e.state="added",t.dispatchEvent(new CustomEvent(tn.elEventNames.added,{detail:{className:s}})),e.triggerState()},bind(t){const e=this.binder||this,s=this.args[0];e.state=t.classList.contains(s)?"added":"removed"},unbind(){var t,e;const s=this.binder||this;null===(t=s.toggleButtonEvents)||void 0===t||t.off(Qi.eventNames.toggle,s.onToggle,s),null===(e=s.toggleButtonEvents)||void 0===e||e.off(Qi.eventNames.init,s.triggerState,s)},routine(t,e){const s=this.getValue(t),i=this.binder||this;let n=i.toggleButtonEvents;s&&n&&(n.off(Qi.eventNames.toggle,i.onToggle,this),n.off(Qi.eventNames.init,i.triggerState,this)),i.toggleButtonEvents||(i.toggleButtonEvents=new it(Qi.nsPrefix+e),n=i.toggleButtonEvents,n.on(Qi.eventNames.toggle,i.onToggle,this),n.on(Qi.eventNames.init,i.triggerState,this))}};class Za extends He{static get observedAttributes(){return[]}constructor(){super(),(0,P.Z)(this,"scope",{toggle:this.toggle})}toggle(t){if(t.preventDefault(),t.stopPropagation(),!this.dropdownService)throw new Error("DropdownService not ready!");return this.dropdownService.toggle()}connectedCallback(){super.connectedCallback(),this.dropdownService=new $o(this.querySelector(".dropdown-toggle")),this.init(Za.observedAttributes)}template(){return null}}(0,P.Z)(Za,"tagName","bs4-dropdown");const Ma=Hs.read;class Ra extends Ve{static get observedAttributes(){return["collapse-icon-src","collapse-icon-size","show-only-one"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"templateAttributes",[{name:"title",required:!0},{name:"show",required:!1},{name:"icon-direction",required:!1}]),(0,P.Z)(this,"scope",{items:[],toggle:this.toggle,show:this.show,hide:this.hide,collapseIconSize:16,showOnlyOne:!0})}hide(t,e){const s=this.querySelector(`[data-index="${e}"]`);s&&(this.initItemEventListeners(t,s),new Co(s,[this],{toggle:!1}).hide())}show(t,e){const s=this.querySelector(`[data-index="${e}"]`),i=Array.from(this.querySelectorAll(`[data-index]:not([data-index="${e}"])`));if(i&&this.scope.showOnlyOne)for(const t of i)new Co(t,[],{toggle:!1}).hide();s&&(this.initItemEventListeners(t,s),new Co(s,[],{toggle:!1}).show())}toggle(t,e){const s=this.querySelector(`[data-index="${e}"]`),i=Array.from(this.querySelectorAll(`[data-index]:not([data-index="${e}"])`));if(i&&this.scope.showOnlyOne)for(const t of i)new Co(t,[],{toggle:!1}).hide();s&&(this.initItemEventListeners(t,s),new Co(s,[],{toggle:!1}).toggle())}initItemEventListeners(t,e){e.removeEventListener(go,this.onHide.bind(this,e,t)),e.removeEventListener(mo,this.onShow.bind(this,e,t)),e.addEventListener(go,this.onHide.bind(this,e,t),{once:!0}),e.addEventListener(mo,this.onShow.bind(this,e,t),{once:!0})}getContentChildByIndex(){return this.querySelector(".card-body > *")||void 0}onShow(t,e){e.show=!0,e.iconDirection="up";const s=this.getContentChildByIndex();s&&this.triggerVisibilityChangedForElement(s,e.show)}onHide(t,e){e.show=!1,e.iconDirection="down";const s=this.getContentChildByIndex();s&&this.triggerVisibilityChangedForElement(s,e.show)}transformTemplateAttributes(t){return t.handle=t.handle||Ma(t.title),t.show=!!t.show,t.iconDirection=t.iconDirection||t.show?"up":"down",t}triggerVisibilityChangedForElement(t,e){setTimeout((()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:e}}))}),200)}connectedCallback(){super.connectedCallback(),this.init(Ra.observedAttributes)}async init(t){return super.init(t).then((t=>t))}async beforeBind(){return await super.beforeBind()}async afterBind(){return await super.afterBind()}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback()}template(){return!bt(this)||this.hasOnlyTemplateChilds()?'<div class="accordion"> <div class="card" rv-each-item="items"> <button type="button" class="btn btn-link card-header d-flex" rv-on-click="toggle | args item %item%" rv-aria-expanded="item.show"> <span class="card-header-text mr-auto" rv-html="item.title"></span> <bs4-icon class="ml-auto" rv-show="collapseIconSrc" rv-src="collapseIconSrc" rv-size="collapseIconSize" rv-direction="item.iconDirection"></bs4-icon> </button> <div class="collapse" rv-data-index="%item%"> <div class="card-body" rv-template="item.content"></div> </div> </div> </div> ':null}}(0,P.Z)(Ra,"tagName","bs4-accordion");class Ha extends He{static get observedAttributes(){return["animation-class"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"scope",{animationClass:"btn-animation-start",onClick:this.onClick.bind(this)})}onClick(){this.startAnimation()}connectedCallback(){super.connectedCallback(),this.init(Ha.observedAttributes)}startAnimation(){this.classList.add(this.scope.animationClass)}onStartAnimation(){}onEndAnimation(){setTimeout((()=>{this.classList.remove(this.scope.animationClass)}))}async init(t){return super.init(t).then((t=>(this.onStartAnimation=this.onStartAnimation.bind(this),this.addEventListener("webkitAnimationStart",this.onStartAnimation),this.addEventListener("animationstart",this.onStartAnimation),this.onEndAnimation=this.onEndAnimation.bind(this),this.addEventListener("webkitAnimationEnd",this.onEndAnimation),this.addEventListener("animationend",this.onEndAnimation),this.addEventListener("click",this.scope.onClick),t)))}async beforeBind(){return await super.beforeBind()}async afterBind(){return await super.afterBind()}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("webkitAnimationStart",this.onStartAnimation),this.removeEventListener("animationstart",this.onStartAnimation),this.removeEventListener("webkitAnimationEnd",this.onEndAnimation),this.removeEventListener("animationend",this.onEndAnimation),this.removeEventListener("click",this.scope.onClick)}template(){return null}}(0,P.Z)(Ha,"tagName","bs4-button");class ja extends He{static get observedAttributes(){return["interval","keyboard","slide","pauseOn","wrap","touch","ride","fade"]}requiredAttributes(){return[]}constructor(){super(),(0,P.Z)(this,"scope",{interval:io.Default.interval,keyboard:io.Default.keyboard,slide:io.Default.slide,pauseOn:io.Default.pause||!1,wrap:io.Default.wrap,touch:io.Default.touch,ride:io.Default.touch||!1,fade:!1,next:this.next,nextWhenVisible:this.nextWhenVisible,prev:this.prev,pause:this.pause,cycle:this.cycle,to:this.to,dispose:this.dispose}),(0,P.Z)(this,"autobind",!0)}async beforeBind(){await super.beforeBind(),this.classList.add("carousel","slide")}async afterBind(){this.carouselService=new io(this,{interval:this.scope.interval,keyboard:this.scope.keyboard,slide:this.scope.slide,pause:this.scope.pauseOn,wrap:this.scope.wrap,touch:this.scope.touch}),this.scope.fade&&this.classList.add("carousel-fade"),this.carouselService.cycle(),await super.afterBind()}next(){this.carouselService&&this.carouselService.next()}nextWhenVisible(){this.carouselService&&this.carouselService.nextWhenVisible()}prev(){this.carouselService&&this.carouselService.prev()}pause(){this.carouselService&&this.carouselService.pause()}cycle(t){this.carouselService&&this.carouselService.cycle(t)}to(t){this.carouselService&&this.carouselService.to(t)}dispose(){this.carouselService&&this.carouselService.dispose()}connectedCallback(){super.connectedCallback(),super.init(ja.observedAttributes)}template(){return null}}(0,P.Z)(ja,"tagName","bs4-carousel");var Ua=s(3);class Fa{constructor(){(0,P.Z)(this,"events",[])}add(t,e,s){t.addEventListener(e,s,!1),this.events.push({target:t,type:e,handler:s})}remove(t,e,s){this.events=this.events.filter((i=>{let n=!0;return t&&t!==i.target&&(n=!1),e&&e!==i.type&&(n=!1),s&&s!==i.handler&&(n=!1),n&&Fa._doRemove(i.target,i.type,i.handler),!n}))}static _doRemove(t,e,s){t.removeEventListener(e,s,!1)}destroy(){this.events.forEach((t=>Fa._doRemove(t.target,t.type,t.handler))),this.events=[]}}const Va=(t,e,s)=>{let i=!1;const n=(t,e,s)=>Math.max(e,Math.min(t,s)),o=(t,o,r)=>{if(r&&(i=!0),!i)return;t.preventDefault();const a=e.getBoundingClientRect(),l=a.width,c=a.height,h=o.clientX,d=o.clientY,u=n(h-a.left,0,l),p=n(d-a.top,0,c);s(u/l,p/c)},r=(t,e)=>{1===(void 0===t.buttons?t.which:t.buttons)?o(t,t,e):i=!1};function a(t,e){1===t.touches.length?o(t,t.touches[0],e):i=!1}t.add(e,"mousedown",(t=>{r(t,!0)})),t.add(e,"touchstart",(t=>{a(t,!0)})),t.add(window,"mousemove",r),t.add(e,"touchmove",a),t.add(window,"mouseup",(()=>{i=!1})),t.add(e,"touchend",(()=>{i=!1})),t.add(e,"touchcancel",(()=>{i=!1}))},qa="keydown";function $a(t){t.preventDefault(),t.stopPropagation()}class za extends He{static get observedAttributes(){return["namespace","alpha","editor","editor-format","cancel-button","okay-button","color"]}constructor(){super(),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"scope",{namespace:"main",hsl:[],cssHue:"",cssHsl:"",cssHsla:"",alphaBg:"",color:"#0cf",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,okayButton:!1}),(0,P.Z)(this,"events",new Fa),(0,P.Z)(this,"_domH",null),(0,P.Z)(this,"_domSL",null),(0,P.Z)(this,"_domA",null),(0,P.Z)(this,"_domEdit",null),(0,P.Z)(this,"_domSample",null),(0,P.Z)(this,"_domOkay",null),(0,P.Z)(this,"_domCancel",null)}connectedCallback(){super.connectedCallback(),super.init(za.observedAttributes),console.debug("scope",this.scope)}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.eventDispatcher=it.getInstance("bs4-colorpicker:"+this.scope.namespace),this.setColor(this.scope.color),this.updateUI(),this.bindEvents()}async afterTemplate(t){await super.afterTemplate(t),this.setElements()}onChange(t){var e;this.debug("onChange",t),null===(e=this.eventDispatcher)||void 0===e||e.trigger("change",t)}onDone(t){var e;this.debug("onDone",t),null===(e=this.eventDispatcher)||void 0===e||e.trigger("done",t)}template(){return bt(this)?null:'<div class="picker_arrow"></div> <div class="picker_hue picker_slider" rv-style-color="cssHsl"> <div class="picker_selector"></div> </div> <div class="picker_sl" rv-style-background-color="cssHue" rv-style-color="cssHsl"> <div class="picker_selector"></div> </div> <div class="picker_alpha picker_slider" rv-show="alpha" rv-style-background-image="alphaBg"> <div class="picker_selector"></div> </div> <input class="picker_editor form-control" rv-show="editor" aria-label="Type a color name or hex value" rv-value="color"/> <div class="picker_sample" rv-style-color="cssHsla"></div> <button class="btn btn-success picker_done" rv-show="okayButton">Ok</button> <button class="btn btn-danger picker_cancel" rv-show="cancelButton">Cancel</button> '}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"color"===t&&this.setColor(this.scope.color)}setColor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{silent:!1};return It(this._setColor.bind(this))(t,e)}_setColor(t){let e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{silent:!1};if("string"==typeof t&&(t=t.trim()),t){s=s||{};try{e=new Ua.Z(t)}catch(t){if(s.failSilently)return;throw t}if(!this.scope.alpha){const t=e.hsla;t[3]=1,e.hsla=t}this.color=e,this.setHSLA(null,null,null,null,s)}}setElements(){this._domH=this.querySelector(".picker_hue"),this._domSL=this.querySelector(".picker_sl"),this._domA=this.querySelector(".picker_alpha"),this._domEdit=this.querySelector(".picker_editor")||null,this._domSample=this.querySelector(".picker_sample"),this._domOkay=this.querySelector(".picker_done"),this._domCancel=this.querySelector(".picker_cancel")}disconnectedCallback(){this.events.destroy()}bindEvents(){const t=this.events,e=(e,s,i)=>{t.add(e,s,i)};e(this,"click",(t=>t.preventDefault()));const s=Va.bind(this);if(!(this._domH&&this._domSL&&this._domA&&this._domEdit&&this._domOkay))throw new Error("Not ready!");s(t,this._domH,(t=>this.setHSLA(t))),s(t,this._domSL,((t,e)=>this.setHSLA(null,t,1-e))),this.scope.alpha&&s(t,this._domA,((t,e)=>this.setHSLA(null,null,null,1-e))),e(this._domEdit,"input",(t=>{const e=t.target;this.setColor(e.value,{fromEditor:!0,failSilently:!0})})),e(this._domEdit,"focus",(t=>{const e=t.target;e.selectionStart===e.selectionEnd&&e.select()}));const i=()=>{this.onDone(this.color)};e(this._domOkay,"click",i),function(t,e,s,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t.add(e,qa,(function(t){s.indexOf(t.key)>=0&&(n&&$a(t),i(t))}))}(t,this,["Enter"],i)}setHSLA(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!this.color)throw new Error("Not ready!");const o=this.color.hsla;[t,e,s,i].forEach(((t,e)=>{(t||0===t)&&(o[e]=t)})),this.color.hsla=o,this.updateUI(n),this.onChange&&!n.silent&&this.onChange(this.color)}updateUI(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return It(this._updateUI.bind(this))(t)}_updateUI(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this||!this.color)return;if(this.scope.hsl=this.color.hsla,this.scope.cssHue=`hsl(${360*this.scope.hsl[0]}, 100%, 50%)`,this.scope.cssHsl=this.color.hslString,this.scope.cssHsla=this.color.hslaString,!this._domH||!this._domSL||!this._domA)throw new Error("Color ui elements not found!");const e=this._domH.querySelector(".picker_selector"),s=this._domSL.querySelector(".picker_selector"),i=this._domA.querySelector(".picker_selector");if(!(e&&s&&i&&this._domEdit&&this._domSample))throw console.error(e,s,i,this._domA,this._domSL,this._domH,this._domEdit,this._domSample),new Error("Not ready!");const n=(t,e,s)=>{e.style.left=100*s+"%"},o=(t,e,s)=>{e.style.top=100*s+"%"};n(this._domH,e,this.scope.hsl[0]),n(this._domSL,s,this.scope.hsl[1]),o(this._domSL,s,1-this.scope.hsl[2]),o(this._domA,i,1-this.scope.hsl[3]);const r=this.scope.cssHsl,a=r.replace("hsl","hsla").replace(")",", 0)"),l=`linear-gradient(${[r,a]})`;if(this.scope.alphaBg=l+", url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",!t.fromEditor){const t=this.scope.editorFormat,e=this.scope.alpha;let s;switch(t){case"rgb":s=this.color.printRGB(e);break;case"hsl":s=this.color.printHSL(e);break;default:s=this.color.printHex(e)}this.scope.color=s}}}(0,P.Z)(za,"tagName","bs4-colorpicker");class Wa extends He{static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","scroll-offset","scroll-element"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,scrollOffset:0,anchors:[]})}connectedCallback(){super.connectedCallback(),this.init(Wa.observedAttributes)}getIdFromElementOrParent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.id?t.id:e<=this.scope.findHeaderIdDepth&&t.parentElement?this.getIdFromElementOrParent(t.parentElement,++e):null}pushHeaders(t,e,s,i){t.querySelectorAll("h"+e).forEach((t=>{const n=this.getIdFromElementOrParent(t);n&&(i.push({element:t,href:"#"+n,title:t.innerHTML,childs:[]}),t.parentElement&&s>=e+1&&this.pushHeaders(t.parentElement,e+1,s,i[i.length-1].childs))}))}async afterBind(){if(this.scope.headerParentSelector&&this.scope.headersStart&&this.scope.headersDepth){if(this.wrapperElement=document.querySelector(this.scope.headerParentSelector)||void 0,this.scope.anchors=[],!this.wrapperElement)return void console.error("No wrapper element found!");this.pushHeaders(this.wrapperElement,this.scope.headersStart,this.scope.headersDepth,this.scope.anchors)}await super.afterBind()}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}async attributeChangedCallback(t,e,s,i){super.attributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback(),this.scope.anchors=[]}template(){return bt(this)?null:'<ul class="list-unstyled list-contents list-contents-level-1"> <li class="nav-item nav-item-level-1" rv-each-anachor="anchors"> <a class="nav-link p-0" rv-href="anachor.href" rv-html="anachor.title" rv-scroll-to-on-click="anachor.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="anachor.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-2"> <li class="nav-item nav-item-level-2" rv-each-child="anachor.childs"> <a class="nav-link p-0" rv-href="child.href" rv-html="child.title" rv-scroll-to-on-click="child.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="child.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-3"> <li class="nav-item nav-item-level-3" rv-each-childchild="child.childs"> <a class="nav-link p-0" rv-href="childchild.href" rv-html="childchild.title" rv-scroll-to-on-click="childchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-4"> <li class="nav-item nav-item-level-4" rv-each-childchildchild="childchild.childs"> <a class="nav-link p-0" rv-href="childchildchild.href" rv-html="childchildchild.title" rv-scroll-to-on-click="childchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-5"> <li class="nav-item nav-item-level-5" rv-each-childchildchildchild="childchildchild.childs"> <a class="nav-link p-0" rv-href="childchildchildchild.href" rv-html="childchildchildchild.title" rv-scroll-to-on-click="childchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchildchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-6"> <li class="nav-item nav-item-level-6" rv-each-childchildchildchildchild="childchildchildchild.childs"> <a class="nav-link p-0" rv-href="childchildchildchildchild.href" rv-html="childchildchildchildchild.title" rv-scroll-to-on-click="childchildchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul>'}}(0,P.Z)(Wa,"tagName","bs4-contents");class Ya extends Re{static get observedAttributes(){return["size","width","height","src","color","direction"]}constructor(){super(),(0,P.Z)(this,"scope",{})}async attributeChangedCallback(t,e,s,i){if(super.attributeChangedCallback(t,e,s,i),"src"===t){if(!s)return void console.warn("The src attribute must have a value!",this.scope);fetch&&fetch(s).then((t=>{var e;return 200!==t.status?(console.error(t.statusText),""):-1!==(null===(e=t.headers.get("content-type"))||void 0===e?void 0:e.indexOf("image/svg+xml"))?t.text():(console.error("[bs4-icon] Only svg's are supported! But content-type is "+t.headers.get("content-type")),"")})).then((t=>{this.innerHTML=t})).catch((t=>{console.error(t)}))}if("title"===t){const t=document.createElementNS("http://www.w3.org/2000/svg","title");t.textContent=s;const e=this.firstElementChild;e&&e.appendChild(t)}if("color"===t)if(-1!==s.indexOf(",")){if((s=s.split(",")).length>0){this.className=this.className.replace(/(^|\s)color-\S+/g,"");for(let t=0;t<s.length;t++){const e=s[t];(e.startsWith("#")||e.startsWith("rgb"))&&(this.style.color=e),this.classList.add(`color-${e}`)}}}else this.style.color=s,this.className=this.className.replace(/(^|\s)color-\S+/g,""),this.classList.add(`color-${s}`);if("size"===t){const t=s;this.style.height=t+"px",this.style.width=t+"px",this.className=this.className.replace(/(^|\s)size-\S+/g,""),this.classList.add(`size-${t}`)}if("width"===t){const t=s;this.style.width=t+"px",this.className=this.className.replace(/(^|\s)width-\S+/g,""),this.classList.add(`width-${t}`)}if("height"===t){const t=s;this.style.height=t+"px",this.className=this.className.replace(/(^|\s)height-\S+/g,""),this.classList.add(`height-${t}`)}if("direction"===t){const t=s;let e=`direction-${t}`;"left"===t?e+=" rotate-270":"left-top"===t||"left-up"===t||"top-left"===t||"up-left"===t?e+=" rotate-315":"top"===t||"up"===t?e+=" rotate-0":"top-right"===t||"up-right"===t||"right-top"===t||"right-up"===t?e+=" rotate-45":"right"===t?e+=" rotate-90":"right-bottom"===t||"right-down"===t||"bottom-right"===t||"down-right"===t?e+=" rotate-135":"bottom"===t||"down"===t?e+=" rotate-180":"left-bottom"!==t&&"left-down"!==t&&"bottom-left"!==t&&"down-left"!==t||(e+=" rotate-225"),this.className=this.className.replace(/(^|\s)direction-\S+/g,""),this.className=this.className.replace(/(^|\s)rotate-\S+/g,""),this.className+=" "+e}}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true"),this.setAttribute("role","img"),this.classList.add("iconset"),this.init(Ya.observedAttributes),this.scope.direction||(this.scope.direction="up",this.attributeChangedCallback("direction",null,this.scope.direction,null))}template(){return null}}(0,P.Z)(Ya,"tagName","bs4-icon");class Ga extends Wa{static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","offset","offset-bottom","scroll-offset"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,offset:0,offsetBottom:0,scrollOffset:0,anchors:[]})}connectedCallback(){super.connectedCallback(),this.init(Ga.observedAttributes)}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}template(){return bt(this)?null:'<ul class="list-unstyled list-scrollspy list-scrollspy-level-1"> <li class="nav-item nav-item-level-1" rv-each-anachor="anchors" rv-bs4-scrollspy-active="anachor.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link" rv-href="anachor.href" rv-html="anachor.title" rv-scroll-to-on-click="anachor.href" rv-data-offset="scrollOffset"></a> <ul rv-if="anachor.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-2"> <li class="nav-item nav-item-level-2" rv-each-child="anachor.childs" rv-bs4-scrollspy-active="child.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link" rv-href="child.href" rv-html="child.title" rv-scroll-to-on-click="child.href" rv-data-offset="scrollOffset"></a> <ul rv-if="child.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-3"> <li class="nav-item nav-item-level-3" rv-each-childchild="child.childs" rv-bs4-scrollspy-active="childchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchild.href" rv-html="childchild.title" rv-scroll-to-on-click="childchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-4"> <li class="nav-item nav-item-level-4" rv-each-childchildchild="childchild.childs" rv-bs4-scrollspy-active="childchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchild.href" rv-html="childchildchild.title" rv-scroll-to-on-click="childchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-5"> <li class="nav-item nav-item-level-5" rv-each-childchildchildchild="childchildchild.childs" rv-bs4-scrollspy-active="childchildchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchildchild.href" rv-html="childchildchildchild.title" rv-scroll-to-on-click="childchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchildchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-6"> <li class="nav-item nav-item-level-6" rv-each-childchildchildchildchild="childchildchildchild.childs" rv-bs4-scrollspy-active="childchildchildchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchildchildchild.href" rv-html="childchildchildchildchild.title" rv-scroll-to-on-click="childchildchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul>'}}(0,P.Z)(Ga,"tagName","bs4-scrollspy");class Xa extends He{static get observedAttributes(){return["id","container-selector","position","width","auto-show-on-wider-than","auto-hide-on-slimmer-than","force-hide-on-location-pathnames","force-show-on-location-pathnames","overlay-on-slimmer-than","watch-new-page-ready-event"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"routerEvents",new it("main")),(0,P.Z)(this,"scope",{containerSelector:void 0,state:"hidden",oldState:"hidden",id:void 0,width:"250px",position:"left",autoShowOnWiderThan:1199,autoHideOnSlimmerThan:1200,watchNewPageReadyEvent:!0,forceHideOnLocationPathnames:[],forceShowOnLocationPathnames:[],overlayOnSlimmerThan:1200,hide:this.hide,show:this.show,toggle:this.toggle}),(0,P.Z)(this,"onEnvironmentChanges",It(this._onEnvironmentChanges.bind(this))),this.onEnvironmentChanges=this.onEnvironmentChanges.bind(this)}setState(t){this.scope.oldState=`${this.scope.state}`,this.scope.state=t,this.onStateChange()}getState(){return this.scope.state}getShowMode(){let t;return t=At().w<this.scope.overlayOnSlimmerThan?"overlay-"+this.scope.position:"side-"+this.scope.position,t}hide(){this.setState("hidden")}show(){const t=this.getShowMode();this.setState(t)}toggle(){"hidden"===this.scope.state?this.show():this.hide()}connectedCallback(){super.connectedCallback(),this.init(Xa.observedAttributes),this.computedStyle=window.getComputedStyle(this),window.addEventListener("resize",this.onEnvironmentChanges,{passive:!0}),this.onEnvironmentChanges()}initToggleButtonEventDispatcher(){this.eventDispatcher&&(this.eventDispatcher.off(Qi.eventNames.toggle,this.toggle,this),this.eventDispatcher.off(Qi.eventNames.init,this.triggerState,this)),this.eventDispatcher=new it(Qi.nsPrefix+this.scope.id),this.eventDispatcher.on(Qi.eventNames.toggle,this.toggle,this),this.eventDispatcher.on(Qi.eventNames.init,this.triggerState,this)}initRouterEventDispatcher(){this.scope.watchNewPageReadyEvent&&this.routerEvents.on("newPageReady",this.onEnvironmentChanges,this)}onHidden(){this.setContainersStyle(this.scope.state);const t="left"===this.scope.position?"-100%":"100%";this.setAttribute("style",`transform:translateX(${t});width:${this.scope.width};`)}onSide(t){this.setContainersStyle(t),this.setAttribute("style",`transform:translateX(0);width:${this.scope.width};`)}onOverlay(t){this.setContainersStyle(t),this.setAttribute("style",`transform:translateX(0);width:${this.scope.width};`)}triggerState(){var t;null===(t=this.eventDispatcher)||void 0===t||t.trigger("state",this.scope.state)}onStateChange(){switch(this.scope.state){case"side-left":case"side-right":this.onSide(this.scope.state);break;case"overlay-left":case"overlay-right":this.onOverlay(this.scope.state);break;default:this.onHidden()}this.eventDispatcher&&this.eventDispatcher.trigger(Qi.eventNames.toggled,this.scope.state)}get width(){return this.offsetWidth?this.offsetWidth+"px":this.scope.width}setStateByEnvironment(){if(-1!==this.scope.forceHideOnLocationPathnames.indexOf(window.location.pathname))return this.hide();if(-1!==this.scope.forceShowOnLocationPathnames.indexOf(window.location.pathname))return this.show();const t=At().w;return this.scope.autoHideOnSlimmerThan>-1&&t<this.scope.autoHideOnSlimmerThan?this.hide():this.scope.autoShowOnWiderThan>-1&&t>this.scope.autoShowOnWiderThan?this.show():void 0}_onEnvironmentChanges(){this.setStateByEnvironment()}getContainers(){return this.scope.containerSelector?document.querySelectorAll(this.scope.containerSelector):void 0}initContainers(t){this.setContainersStyle(t)}setContainersStyle(t){const e=this.getContainers()||[];if(e)for(let s=0;s<e.length;s++){const i=e[s];this.setContainerStyle(i,t)}}setContainerStyle(t,e){const s=t.style;if(e){const i=this.width,n=window.getComputedStyle(t);switch(e){case"side-left":switch(n.position){case"fixed":s.left=i;break;default:s.marginLeft=i}break;case"side-right":switch(n.position){case"fixed":s.right=i;break;default:s.marginRight=i}break;case"hidden":switch(this.scope.oldState){case"side-left":switch(n.position){case"fixed":s.left="0";break;default:s.marginLeft="0"}break;case"side-right":switch(n.position){case"fixed":s.right="0";break;default:s.marginRight="0"}}}}t.style.transition=this.computedStyle?this.computedStyle.transition:""}async beforeBind(){return await super.beforeBind(),this.scope.oldState=this.getShowMode(),this.initRouterEventDispatcher(),this.onEnvironmentChanges()}async afterBind(){this.onEnvironmentChanges(),await super.afterBind()}requiredAttributes(){return["id"]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"containerSelector"===t&&this.initContainers(this.scope.state),"id"===t&&this.initToggleButtonEventDispatcher()}disconnectedCallback(){var t,e;super.disconnectedCallback(),null===(t=this.eventDispatcher)||void 0===t||t.off(Qi.eventNames.init,this.triggerState,this),null===(e=this.eventDispatcher)||void 0===e||e.off(Qi.eventNames.toggle,this.toggle,this),this.routerEvents.off("newPageReady",this.onEnvironmentChanges,this),window.removeEventListener("resize",this.onEnvironmentChanges,!1)}template(){return bt(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}}(0,P.Z)(Xa,"tagName","bs4-sidebar");const Ka=t=>t,Qa=t=>t*t,Ja=t=>t*(2-t),tl=t=>t<.5?2*t*t:(4-2*t)*t-1,el=t=>t*t*t,sl=t=>--t*t*t+1,il=t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,nl=t=>t*t*t*t,ol=t=>1- --t*t*t*t,rl=t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,al=t=>t*t*t*t*t,ll=t=>1+--t*t*t*t*t,cl=t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t,hl=t=>{const e=t,s=t;if(e.document&&e.location){return{x:e.pageXOffset,y:e.pageYOffset,maxX:document.documentElement.scrollWidth-document.documentElement.clientWidth,maxY:document.documentElement.scrollHeight-document.documentElement.clientHeight}}return{x:s.scrollLeft,y:s.scrollTop,maxX:s.scrollWidth-s.clientWidth,maxY:s.scrollHeight-s.clientHeight}},dl=t=>{const e=hl(t);return e.maxX>0||e.maxY>0};class ul{static getFps(){return this.fps}static startLoop(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setOptions(t),this.loopStarted||(this.loopStarted=!0,window.requestAnimationFrame(this.loop.bind(this)))}static setOptions(t){this.maxFPS="number"==typeof t.maxFPS?t.maxFPS:this.maxFPS}static loop(t){if(t<this.lastFrameTimeMs+1e3/this.maxFPS)return void(this.frameID=window.requestAnimationFrame(this.loop.bind(this)));const e=t-this.lastFrameTimeMs;this.delta+=e,this.lastFrameTimeMs=t,this.begin(t,this.delta),t>this.lastFpsUpdate+1e3&&(this.fps=.25*this.framesThisSecond+.75*this.fps,this.lastFpsUpdate=t,this.framesThisSecond=0),this.framesThisSecond++;let s=0;for(;this.delta>=this.timestep;)if(this.update(this.timestep),this.delta-=this.timestep,++s>=240){this.panic();break}this.render(this.delta/this.timestep),this.end(this.fps),this.frameID=window.requestAnimationFrame(this.loop.bind(this))}static begin(t,e){this.events.trigger("begin",t,e)}static render(t){this.events.trigger("render",t)}static update(t){this.events.trigger("update",t)}static end(t){this.events.trigger("end",t)}static panic(){this.delta=0}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ul.setOptions(t)}}(0,P.Z)(ul,"events",new it("gameloop")),(0,P.Z)(ul,"maxFPS",60),(0,P.Z)(ul,"fps",60),(0,P.Z)(ul,"timestep",1e3/60),(0,P.Z)(ul,"loopStarted",!1),(0,P.Z)(ul,"lastFrameTimeMs",0),(0,P.Z)(ul,"delta",0),(0,P.Z)(ul,"framesThisSecond",0),(0,P.Z)(ul,"lastFpsUpdate",0),(0,P.Z)(ul,"frameID",0);class pl{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,P.Z)(this,"touchCapable","ontouchstart"in window),(0,P.Z)(this,"direction",1),(0,P.Z)(this,"_pause",!1),(0,P.Z)(this,"velocity",.008),(0,P.Z)(this,"move",0),(0,P.Z)(this,"lastMove",0),(0,P.Z)(this,"angle","horizontal"),(0,P.Z)(this,"pauseOnHover",!0),(0,P.Z)(this,"resumeTimer",null),(0,P.Z)(this,"onResize",Nt(this._onResize.bind(this))),(0,P.Z)(this,"onScroll",Nt(this._onScroll.bind(this))),this.el=t,this.options=e,this.direction=this.options.direction||this.direction,this.velocity=this.options.velocity||this.velocity,this.angle=this.options.angle||this.angle,this.pauseOnHover="boolean"==typeof this.options.pauseOnHover?this.options.pauseOnHover:this.pauseOnHover,this.limit=this.getLimit(this.el),this.move=this.getPosition(),-1===this.direction?this.el.scrollLeft=this.limit:this.el.scrollLeft=0,this.addEventListeners(),ul.startLoop({maxFPS:60})}update(){this.limit=this.getLimit(this.el),this.setPosition()}destroy(){this.removeEventListeners()}pause(){this.el.style.scrollBehavior="",this._pause=!0}resume(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._pause&&(this.stopResumeTimeout(),this.resumeTimer=window.setTimeout((()=>{this.setPosition(),this._pause=!1,this.el.style.scrollBehavior="auto"}),t))}addEventListeners(){this.removeEventListeners(),this.onResize=this.onResize.bind(this),this.onMouseIn=this.onMouseIn.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onScroll=this.onScroll.bind(this),this.render=this.render.bind(this),this.updateMove=this.updateMove.bind(this),window.addEventListener("resize",this.onResize,{passive:!0}),this.el.addEventListener("mouseenter",this.onMouseIn,{passive:!0}),this.el.addEventListener("mouseover",this.onMouseIn,{passive:!0}),this.el.addEventListener("focusin",this.onMouseIn,{passive:!0}),this.el.addEventListener("touchstart",this.onMouseIn,{passive:!0}),this.el.addEventListener("mouseleave",this.onMouseOut,{passive:!0}),this.el.addEventListener("focusout",this.onMouseOut,{passive:!0}),this.el.addEventListener("mouseup",this.onMouseUp,{passive:!0}),this.el.addEventListener("touchend",this.onMouseUp,{passive:!0}),this.touchCapable?(this.el.addEventListener("scroll",this.onMouseUp,{passive:!0}),this.el.addEventListener("scrollend",this.onMouseUp,{passive:!0}),this.el.addEventListener("scrollended",this.onMouseUp,{passive:!0})):(this.el.addEventListener("scroll",this.onScroll,{passive:!0}),this.el.addEventListener("scrollend",this.onScroll,{passive:!0}),this.el.addEventListener("scrollended",this.onScroll,{passive:!0})),ul.events.on("render",this.render),ul.events.on("update",this.updateMove)}removeEventListeners(){window.removeEventListener("resize",this.onResize),this.el.removeEventListener("mouseenter",this.onMouseIn),this.el.removeEventListener("mouseover",this.onMouseIn),this.el.removeEventListener("focusin",this.onMouseIn),this.el.removeEventListener("touchstart",this.onMouseIn),this.el.removeEventListener("mouseleave",this.onMouseOut),this.el.removeEventListener("focusout",this.onMouseOut),this.el.removeEventListener("mouseup",this.onMouseUp),this.el.removeEventListener("touchend",this.onMouseUp),this.touchCapable?(this.el.removeEventListener("scroll",this.onMouseUp),this.el.removeEventListener("scrollend",this.onMouseUp),this.el.removeEventListener("scrollended",this.onMouseUp)):(this.el.removeEventListener("scroll",this.onScroll),this.el.removeEventListener("scrollend",this.onScroll),this.el.removeEventListener("scrollended",this.onScroll)),ul.events.off("render",this.render),ul.events.off("update",this.updateMove)}onMouseIn(){this.pauseOnHover&&this.pause()}onMouseOut(){this.resume(200)}onMouseUp(){this.resume(1e3)}_onResize(){this.limit=this.getLimit(this.el),this.resume(200)}_onScroll(){this.stopResumeTimeout()}stopResumeTimeout(){null!==this.resumeTimer&&(clearTimeout(this.resumeTimer),this.resumeTimer=null)}getPosition(){return("vertical"===this.angle?this.el.scrollTop:this.el.scrollLeft)||0}setPosition(){this.move=this.getPosition()}getLimit(t){return"vertical"===this.angle?hl(t).maxY:hl(t).maxX}render(){this._pause||this.scroll(this.move)}updateMove(t){if(this._pause)return;this.lastMove=this.move;const e=this.velocity*this.direction*t;this.move+=e,this.move<=0&&1!==this.direction&&(this.direction=1),this.move>=this.limit&&-1!==this.direction&&(this.direction=-1)}scroll(t){"vertical"===this.angle?this.el.scrollTop=t:this.el.scrollLeft=t}}class ml{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{detectGlobalMove:!0};if((0,P.Z)(this,"lastClientX",0),(0,P.Z)(this,"lastClientY",0),(0,P.Z)(this,"pushed",!1),(0,P.Z)(this,"touchCapable","ontouchstart"in window),(0,P.Z)(this,"checkDraggable",Nt(this._checkDraggable.bind(this))),this.el=t,this.options=e,this.touchCapable)return this;this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.checkDraggable=this.checkDraggable.bind(this),t.removeEventListener("mousedown",this.onMouseDown),t.addEventListener("mousedown",this.onMouseDown,{passive:!0}),window.addEventListener("resize",this.checkDraggable),this.options.detectGlobalMove?(window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp,{passive:!0}),window.addEventListener("mousemove",this.onMouseMove,{passive:!0})):(t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mousemove",this.onMouseMove),t.addEventListener("mouseup",this.onMouseUp,{passive:!0}),t.addEventListener("mousemove",this.onMouseMove,{passive:!0})),this.checkDraggable()}destroy(){this.removeEventListeners(),this.el.classList.remove("draggable")}_checkDraggable(){dl(this.el)?this.el.classList.add("draggable"):this.el.classList.remove("draggable")}onMouseDown(t){this.pushed=!0,this.lastClientX=t.clientX,this.lastClientY=t.clientY}onMouseUp(){this.pushed=!1}onMouseMove(t){let e=0,s=0;this.pushed&&(this.el.scrollLeft-=e=-this.lastClientX+(this.lastClientX=t.clientX),this.el.scrollTop-=s=-this.lastClientY+(this.lastClientY=t.clientY),this.el===document.body&&(document.documentElement&&(this.el=document.documentElement),this.el.scrollLeft-=e,this.el.scrollTop-=s))}removeEventListeners(){window.removeEventListener("resize",this.checkDraggable),this.el.removeEventListener("mousedown",this.onMouseDown),this.el.removeEventListener("mouseup",this.onMouseUp),this.el.removeEventListener("mousemove",this.onMouseMove)}}class vl{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of ExtrasService not defined, please call setSingleton first!")}static setSingleton(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.instance)throw new Error("Singleton of ExtrasService already defined!");return this._options=t,this.instance=new this,this.instance}}class gl{constructor(){(0,P.Z)(this,"enterK","requestFullscreen"),(0,P.Z)(this,"exitK","exitFullscreen"),(0,P.Z)(this,"elementK","fullscreenElement"),(0,P.Z)(this,"eventK","fullscreenchange");const t=document.documentElement,e="fullscreenchange";t.requestFullscreen?(this.enterK="requestFullscreen",this.exitK="exitFullscreen",this.elementK="fullscreenElement",this.eventK=e):t.mozRequestFullScreen?(this.enterK="mozRequestFullScreen",this.exitK="mozCancelFullScreen",this.elementK="mozFullScreenElement",this.eventK="moz"+e):t.webkitRequestFullscreen?(this.enterK="webkitRequestFullscreen",this.exitK="webkitExitFullscreen",this.elementK="webkitFullscreenElement",this.eventK="webkit"+e):t.msRequestFullscreen&&(this.enterK="msRequestFullscreen",this.exitK="msExitFullscreen",this.elementK="msFullscreenElement",this.eventK="MSFullscreenChange")}static getSingleton(){return gl.instance||(gl.instance=new gl),gl.instance}static supported(){const t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)}enter(t){t||(t=document.body),this.isFullscreen()||("webkitRequestFullscreen"===this.enterK?t[this.enterK](Element.ALLOW_KEYBOARD_INPUT):t[this.enterK]())}exit(){this.isFullscreen()&&document[this.exitK]()}isFullscreen(){return document[this.elementK]}toggle(t){this.isFullscreen()?this.exit():this.enter(t)}}class fl{get isTouchCapable(){return this.touchCapable}constructor(t){(0,P.Z)(this,"touchCapable","ontouchstart"in window),this.el=t}triggerCustomEvent(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s.originalEvent=e,s.target=e.target;const i=new CustomEvent(t,{detail:s});this.el.dispatchEvent(i)}}class bl extends fl{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),(0,P.Z)(this,"isScrolling",!1),(0,P.Z)(this,"delay",300),(0,P.Z)(this,"startPosition",null),(0,P.Z)(this,"endPosition",null),(0,P.Z)(this,"scrollTimer",null),(0,P.Z)(this,"onScrollEvent",this._onScrollEvent.bind(this)),(0,P.Z)(this,"scroll",this._scroll.bind(this)),this.el=t,this.delay=e.delay||this.delay,this.startPosition=hl(this.el),this._scrollEvent=this.touchCapable?["touchmove","scrollend","scroll"]:["scroll","scrollend"],this.removeEventListeners(),this.addEventListeners()}destroy(){this.removeEventListeners()}get scrollEvent(){return this._scrollEvent}getScrollDir(t,e){return t&&e?t.x>e.x?"right":t.x<e.x?"left":t.y>e.y?"down":t.y<e.y?"up":"none":"unknown"}removeEventListeners(){for(const t of this._scrollEvent)this.el.removeEventListener(t,this.onScrollEvent)}addEventListeners(){for(const t of this._scrollEvent)this.el.addEventListener(t,this.onScrollEvent,{passive:!0})}_onScrollEvent(t){return!!t.target&&(null!==this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),this.isScrolling||this.scrollstart(t),this.isScrolling&&this.scroll(t),this.scrollTimer=window.setTimeout((()=>{this.scrollended(t)}),this.delay),!0)}scrollended(t){this.isScrolling=!1,this.endPosition=hl(this.el);const e=this.getScrollDir(this.startPosition,this.endPosition);this.triggerCustomEvent("scrollended",t,{startPosition:this.startPosition,endPosition:this.endPosition,direction:e})}scrollstart(t){this.isScrolling=!0,this.startPosition=hl(this.el),this.triggerCustomEvent("scrollstart",t,{startPosition:this.startPosition})}_scroll(t){const e=hl(this.el),s=this.getScrollDir(this.startPosition,e);this.triggerCustomEvent("scroll"+s,t,{startPosition:this.startPosition,currentPosition:e,direction:s}),this.triggerCustomEvent("scrolling",t,{startPosition:this.startPosition,currentPosition:e,direction:s})}}let wl;!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.TARGET=1]="TARGET",t[t.CHANGED=2]="CHANGED"}(wl||(wl={}));class yl extends fl{get isTouchCapable(){return this.settings.touchCapable}get startEvent(){return this.settings.startevent}get endEvent(){return this.settings.endevent}get moveEvent(){return this.settings.moveevent}get tapEvent(){return this.settings.tapevent}set swipeThresholdX(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");this.settings.swipeHThreshold=t}set swipeThresholdY(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");this.settings.swipeVThreshold=t}set doubleTapInt(t){if("number"!=typeof t)throw new Error("Interval parameter must be a type of number");this.settings.doubletapInterval=t}set tapHoldThreshold(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");this.settings.tapholdThreshold=t}set tapRange(t){if("number"!=typeof t)throw new Error("Ranger parameter must be a type of number");this.settings.tapPixelRange=t}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tapPixelRange:5,swipeHThreshold:50,swipeVThreshold:50,tapholdThreshold:750,doubletapInterval:500,shakeThreshold:15,touchCapable:"ontouchstart"in window,startevent:["touchstart"],endevent:["touchend"],moveevent:["touchmove"],tapevent:["tap"]};super(t),(0,P.Z)(this,"startPosition",{x:0,y:0}),(0,P.Z)(this,"endPosition",{x:0,y:0}),(0,P.Z)(this,"originalCoord",{x:0,y:0}),(0,P.Z)(this,"finalCoord",{x:0,y:0}),(0,P.Z)(this,"startEvnt",null),(0,P.Z)(this,"tapheld",!1),(0,P.Z)(this,"firstTap",null),(0,P.Z)(this,"cooling",!1),(0,P.Z)(this,"doubletapped",!1),(0,P.Z)(this,"lastTouch",0),(0,P.Z)(this,"hasSwiped",!1),(0,P.Z)(this,"tapStarted",!1),(0,P.Z)(this,"swipeStarted",!1),(0,P.Z)(this,"startTime",0),(0,P.Z)(this,"holdTimer",-1),(0,P.Z)(this,"tapTimer",-1),(0,P.Z)(this,"actionTimer",-1),this.el=t,e.startevent=e.touchCapable?["touchstart"]:["mousedown"],e.endevent=e.touchCapable?["touchend"]:["mouseup"],e.moveevent=e.touchCapable?["touchmove"]:["mousemove"],e.tapevent=e.touchCapable?["tap"]:["click"],this.settings=e,this.onStartEvent=this.onStartEvent.bind(this),this.onMoveEvent=this.onMoveEvent.bind(this),this.onEndEvent=this.onEndEvent.bind(this),this.addEventListeners()}destroy(){this.removeEventListeners()}removeEventListeners(){for(const t of this.settings.startevent)this.el.removeEventListener(t,this.onStartEvent);for(const t of this.settings.moveevent)this.el.removeEventListener(t,this.onMoveEvent);for(const t of this.settings.endevent)this.el.removeEventListener(t,this.onEndEvent)}getSwipeDir(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.settings.swipeHThreshold,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.settings.swipeVThreshold,n="";return t.y>e.y&&t.y-e.y>i&&(n="swipeup"),t.x<e.x&&e.x-t.x>s&&(n="swiperight"),t.y<e.y&&e.y-t.y>i&&(n="swipedown"),t.x>e.x&&t.x-e.x>s&&(n="swipeleft"),n}getPosition(t){let e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wl.DEFAULT,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(s){case wl.CHANGED:e=t.changedTouches;break;case wl.TARGET:e=t.targetTouches;break;default:e=t.touches}return{x:this.settings.touchCapable?e[i].pageX:t.pageX,y:this.settings.touchCapable?e[i].pageY:t.pageY}}getOffset(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wl.DEFAULT,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.el.getBoundingClientRect();let n;switch(e){case wl.CHANGED:n=t.changedTouches;break;case wl.TARGET:n=t.targetTouches;break;default:n=t.touches}return{x:this.settings.touchCapable?Math.round(n[s].pageX-(i?i.left:0)):Math.round(t.pageX-(i?i.left:0)),y:this.settings.touchCapable?Math.round(n[s].pageY-(i?i.top:0)):Math.round(t.pageY-(i?i.top:0))}}getTouchData(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wl.DEFAULT,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:wl.CHANGED;const n={position:this.getPosition(t,s),offset:this.getOffset(t,i),time:Date.now()};return e&&(n.index=Lt(t.target)),n}addEventListeners(){for(const t of this.settings.startevent)this.el.addEventListener(t,this.onStartEvent,{passive:!0});for(const t of this.settings.moveevent)this.el.addEventListener(t,this.onMoveEvent,{passive:!0});for(const t of this.settings.endevent)this.el.addEventListener(t,this.onEndEvent,{passive:!0})}onStartEvent(t){return(!t.which||1===t.which)&&(this.startPosition=this.getPosition(t,wl.TARGET),this.endPosition={x:this.startPosition.x,y:this.startPosition.y},this.startTime=Date.now(),this.doubletapped=!1,this.firstTap||(this.firstTap=this.getTouchData(t,!0,wl.DEFAULT,wl.CHANGED)),this.tapStarted=!0,this.swipeStarted=!0,this.originalCoord=this.getPosition(t,wl.TARGET),this.finalCoord=this.getPosition(t,wl.TARGET),this.startEvnt=this.getTouchData(t,!1,wl.DEFAULT,wl.CHANGED),this.tapstart(t),this.taphold(t),!0)}onEndEvent(t){return this.endPosition=this.getPosition(t,wl.CHANGED),this.tapheld=!1,window.clearTimeout(this.holdTimer),this.tapend(t),this.swipeend(t),this.tap(t),this.doubletap(t),this.singletap(t),this.tapStarted=!1,this.swipeStarted=!1,this.hasSwiped=!1,!0}onMoveEvent(t){return this.endPosition=this.getPosition(t,wl.TARGET),this.finalCoord=this.getPosition(t,wl.TARGET),this.tapmove(t),this.swipe(t),!0}tapstart(t){return this.triggerCustomEvent("tapstart",t,this.getTouchData(t,!1,wl.DEFAULT,wl.CHANGED)),!0}tapmove(t){return this.triggerCustomEvent("tapmove",t,this.getTouchData(t,!1,wl.DEFAULT,wl.CHANGED)),!0}tapend(t){return this.triggerCustomEvent("tapend",t,this.getTouchData(t,!1,wl.CHANGED,wl.CHANGED)),!0}taphold(t){return this.holdTimer=window.setTimeout((()=>{const e=this.startPosition.x-this.endPosition.x,s=this.startPosition.y-this.endPosition.y;if(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||e>=-this.settings.tapPixelRange&&e<=this.settings.tapPixelRange&&s>=-this.settings.tapPixelRange&&s<=this.settings.tapPixelRange){this.tapheld=!0;const e=Date.now()-this.startTime,s=t.targetTouches?t.targetTouches.length:1,i=new Array;for(let e=0;e<s;e++){const s=this.el.getBoundingClientRect(),n={position:{x:this.settings.touchCapable?t.changedTouches[e].pageX:t.pageX,y:this.settings.touchCapable?t.changedTouches[e].pageY:t.pageY},offset:{x:this.settings.touchCapable?Math.round(t.changedTouches[e].pageX-(s?s.left:0)):Math.round(t.pageX-(s?s.left:0)),y:this.settings.touchCapable?Math.round(t.changedTouches[e].pageY-(s?s.top:0)):Math.round(t.pageY-(s?s.top:0))}};i.push(n)}const n=s>1?"taphold"+s:"taphold",o={touches:i,time:Date.now(),duration:e};this.triggerCustomEvent(n,t,o)}}),this.settings.tapholdThreshold),!0}doubletap(t){const e=Date.now(),s=e-(Number(this.lastTouch)||e+1);if(-1!==this.actionTimer&&window.clearTimeout(this.actionTimer),s<this.settings.doubletapInterval&&s>100&&this.firstTap&&Lt(t.target)===this.firstTap.index){this.doubletapped=!0,window.clearTimeout(this.tapTimer);const e=this.getTouchData(t,!0,wl.CHANGED,wl.CHANGED),s={firstTap:this.firstTap,secondTap:e,interval:e.time-this.firstTap.time};this.cooling||(this.triggerCustomEvent("doubletap",t,s),this.firstTap=null),this.cooling=!0,window.setTimeout((()=>{this.cooling=!1}),this.settings.doubletapInterval)}else this.actionTimer=window.setTimeout((()=>{this.firstTap=null,window.clearTimeout(this.actionTimer)}),this.settings.doubletapInterval,[t]);this.lastTouch=e}singletap(t){this.tapTimer=window.setTimeout((()=>{const e=this.startPosition.x-this.endPosition.x,s=this.startPosition.y-this.endPosition.y;if(!this.doubletapped&&!this.tapheld&&(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||e>=-this.settings.tapPixelRange&&e<=this.settings.tapPixelRange&&s>=-this.settings.tapPixelRange&&s<=this.settings.tapPixelRange)){const e=this.getTouchData(t,!1,wl.CHANGED,wl.CHANGED);e.time-this.startTime<this.settings.tapholdThreshold&&this.triggerCustomEvent("singletap",t,e)}}),this.settings.doubletapInterval)}tap(t){const e=this.startPosition.x-this.endPosition.x,s=this.startPosition.y-this.endPosition.y;if(this.tapStarted&&Date.now()-this.startTime<this.settings.tapholdThreshold&&(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||e>=-this.settings.tapPixelRange&&e<=this.settings.tapPixelRange&&s>=-this.settings.tapPixelRange&&s<=this.settings.tapPixelRange)){const e=t.targetTouches?t.targetTouches.length:1,s=new Array;for(let i=0;i<e;i++){const e=this.el.getBoundingClientRect(),n={position:{x:this.settings.touchCapable?t.changedTouches[i].pageX:t.pageX,y:this.settings.touchCapable?t.changedTouches[i].pageY:t.pageY},offset:{x:this.settings.touchCapable?Math.round(t.changedTouches[i].pageX-(e?e.left:0)):Math.round(t.pageX-(e?e.left:0)),y:this.settings.touchCapable?Math.round(t.changedTouches[i].pageY-(e?e.top:0)):Math.round(t.pageY-(e?e.top:0))}};s.push(n)}const i={touches:s,time:Date.now()},n=e>1?"tap"+e:"tap";this.triggerCustomEvent(n,t,i)}}swipe(t){const e=this.getSwipeDir(this.originalCoord,this.finalCoord);if(e&&this.swipeStarted&&this.startEvnt){this.originalCoord.x=0,this.originalCoord.y=0,this.finalCoord.x=0,this.finalCoord.y=0,this.swipeStarted=!1;const s=this.getTouchData(t,!1,wl.DEFAULT,wl.CHANGED),i=Math.abs(this.startEvnt.position.x-s.position.x),n=Math.abs(this.startEvnt.position.y-s.position.y),o={startEvnt:this.startEvnt,endEvnt:s,direction:e.replace("swipe",""),xAmount:i,yAmount:n,duration:s.time-this.startEvnt.time};this.hasSwiped=!0,this.triggerCustomEvent("swipe",t,o),this.triggerCustomEvent(e,t,o)}}swipeend(t){const e=this.getTouchData(t,!1,wl.CHANGED,wl.CHANGED);if(this.hasSwiped&&this.startEvnt){const s=this.getSwipeDir(this.startEvnt.position,e.position),i=Math.abs(this.startEvnt.position.x-e.position.x),n=Math.abs(this.startEvnt.position.y-e.position.y),o={startEvnt:this.startEvnt,endEvnt:e,direction:s.replace("swipe",""),xAmount:i,yAmount:n,duration:e.time-this.startEvnt.time};this.triggerCustomEvent("swipeend",t,o)}}}const El={name:"data-scroll-position-y",customData:{},bind(){this.customData={onScroll:It((()=>{if("window"===this.customData.elementSelector){const t=this.customData.watchScrollOnElement;t.scrollY<=0+this.customData.offsetTop?this.el.dataset.scrollPositionY="top":t.innerHeight+t.pageYOffset+this.customData.offsetBottom>=document.body.offsetHeight?this.el.dataset.scrollPositionY="bottom":this.el.dataset.scrollPositionY="scrolled"}else{const t=this.customData.watchScrollOnElement;t.scrollTop<=0+this.customData.offsetTop?this.el.dataset.scrollPositionY="top":t.scrollTop+this.customData.offsetBottom>=t.scrollHeight-t.clientHeight?this.el.dataset.scrollPositionY="bottom":this.el.dataset.scrollPositionY="scrolled"}})).bind(this)}},routine(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"window";this.customData.watchScrollOnElement&&this.customData.watchScrollOnElement.removeEventListener("scroll",this.customData.onScroll),this.customData.watchScrollOnElement="window"===e?window:"this"===e?this.el:document.querySelector(e),this.customData.watchScrollOnElement&&this.customData.watchScrollOnElement.addEventListener("scroll",this.customData.onScroll,{passive:!0}),this.customData.offsetTop=Number(this.el.dataset.offsetTop)||10,this.customData.offsetBottom=Number(this.el.dataset.offsetBottom)||10,this.customData.elementSelector=e,this.customData.onScroll()},unbind(){this.customData.watchScrollOnElement&&this.customData.watchScrollOnElement.removeEventListener("scroll",this.customData.onScroll)}};var Sl=s(657),Cl=s.n(Sl);const Al={name:"image-events",bind(t){this.customData||(this.customData={});const e=Cl()(t);e.on("always",((e,s)=>{t.dispatchEvent(new CustomEvent("load-always",{detail:{load:e,image:s}}))})),e.on("done",((e,s)=>{t.dispatchEvent(new CustomEvent("load-done",{detail:{load:e,image:s}}))})),e.on("fail",((e,s)=>{t.dispatchEvent(new CustomEvent("load-fail",{detail:{load:e,image:s}}))})),e.on("progress",((e,s)=>{t.dispatchEvent(new CustomEvent("load-progress",{detail:{load:e,image:s}}))}))},unbind(){},routine(){}},Tl={name:"touch-events",bind(t){this.customData||(this.customData={}),this.customData.touchEventService=new yl(t)},unbind(){this.customData.touchEventService&&this.customData.touchEventService.destroy()},routine(){}},kl={name:"scroll-events",bind(t){this.customData||(this.customData={}),this.customData.touchEventService=new bl(t)},unbind(){this.customData.touchEventService&&this.customData.touchEventService.destroy()},routine(){}},_l={name:"scroll-position-*",customData:{},routine(t,e){let s=this.args[0];"x"===s&&(s="horizontal"),"y"===s&&(s="vertical"),window.addEventListener("resize",(()=>{St(t,e,s)}),{passive:!0}),St(t,e,s)}},Dl={name:"autoscroll",routine(t,e){this.customData=this.customData||{},e&&e.width&&q(e.width)&&(e.width,t.style.width=e.width),t.classList.add(`rv-autoscroll-${e.angle}`),setTimeout((()=>{this.customData.autoscroll&&this.customData.autoscroll.destroy(),this.customData.autoscroll=new pl(t,e)}),1e3)},unbind(){this.customData.autoscroll&&this.customData.autoscroll.destroy()}},Ll={name:"scrollbar-draggable",routine(t,e){this.customData=this.customData||{},this.customData.dragscroll&&this.customData.dragscroll.destroy(),this.customData.dragscroll=new ml(t,e)},unbind(){this.customData.dragscroll&&this.customData.dragscroll.destroy()}},Ol={name:"sync-element-*",function:!0,priority:1e3,bind(){this.customData={syncWidth:Nt((()=>{this.el.style.width=this.customData.elToSync.clientWidth+"px"})),syncHeight:Nt((()=>{this.el.style.height=this.customData.elToSync.clientHeight+"px"}))}},unbind(){const t=this.args[0];this.customData.elToSync&&this.customData.elToSync.removeEventListener("resize","width"===t?this.customData.syncWidth:this.customData.syncHeight)},routine(t,e){if(null===this.args)throw new Error("args is null");const s=this.args[0];this.customData.elToSync&&this.customData.elToSync.removeEventListener("resize","width"===s?this.customData.syncWidth:this.customData.syncHeight);const i=document.getElementById(e);if(i)switch(this.customData.elToSync=i,s){case"height":t.style.height=i.clientHeight+"px",window.addEventListener("resize",this.customData.syncHeight);break;case"width":t.style.width=i.clientWidth+"px",window.addEventListener("resize",this.customData.syncWidth);break;default:console.warn("[syncElementPropertyBinder] Unknown property: "+s)}else console.warn("[syncElementPropertyBinder] Could not find element with id: "+e)}};function xl(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Pl(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?xl(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):xl(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Il=".slideshow-inner",Nl=".slideshow-inner > .slide";class Bl extends Ve{get slideshowInner(){if(this._slideshowInner||(this._slideshowInner=this.querySelector(Il)),!this._slideshowInner)throw new Error("Child element with selector .slideshow-inner not found!");return this._slideshowInner}get slideElements(){if(this._slideElements||(this._slideElements=this.querySelectorAll(Nl)),!this._slideElements)throw new Error(`Child element with selector ${Nl} not found!`);return this._slideElements}get controlsElements(){return this._controlsElements||(this._controlsElements=this.querySelectorAll(".slideshow-control-prev, .slideshow-control-next")),this._controlsElements}get indicatorsElement(){return this._indicatorsElement||(this._indicatorsElement=this.querySelector(".slideshow-indicators")),this._indicatorsElement}static get observedAttributes(){return["min-width","slides-to-show","slides-to-scroll","controls","controls-position","drag","autoplay","autoplay-interval","autoplay-velocity","control-prev-icon-src","control-next-icon-src","indicator-inactive-icon-src","indicator-active-icon-src","angle","set-active-slide","pause-on-hover","sticky","indicators","indicators-position","pause","sm-min-width","sm-slides-to-show","sm-slides-to-scroll","sm-controls","sm-controls-position","sm-drag","sm-autoplay","sm-autoplay-interval","sm-autoplay-velocity","sm-control-prev-icon-src","sm-control-next-icon-src","sm-indicator-inactive-icon-src","sm-indicator-active-icon-src","sm-angle","sm-set-active-slide","sm-pause-on-hover","sm-sticky","sm-indicators","sm-indicators-position","sm-pause","md-min-width","md-slides-to-show","md-slides-to-scroll","md-controls","md-controls-position","md-drag","md-autoplay","md-autoplay-interval","md-autoplay-velocity","md-control-prev-icon-src","md-control-next-icon-src","md-indicator-inactive-icon-src","md-indicator-active-icon-src","md-angle","md-set-active-slide","md-pause-on-hover","md-sticky","md-indicators","sm-indicators-position","md-pause","lg-min-width","lg-slides-to-show","lg-slides-to-scroll","lg-controls","lg-controls-position","lg-drag","lg-autoplay","lg-autoplay-interval","lg-autoplay-velocity","lg-control-prev-icon-src","lg-control-next-icon-src","lg-indicator-inactive-icon-src","lg-indicator-active-icon-src","lg-angle","lg-set-active-slide","lg-pause-on-hover","lg-sticky","lg-indicators","lg-indicators-position","lg-pause","xl-min-width","xl-slides-to-show","xl-slides-to-scroll","xl-controls","xl-controls-position","xl-drag","xl-autoplay","xl-autoplay-interval","xl-autoplay-velocity","xl-control-prev-icon-src","xl-control-next-icon-src","xl-indicator-inactive-icon-src","xl-indicator-active-icon-src","xl-angle","xl-set-active-slide","xl-pause-on-hover","xl-sticky","xl-indicators","xl-indicators-position","xl-pause"]}constructor(){super(),(0,P.Z)(this,"templateAttributes",[{name:"class",required:!1},{name:"handle",required:!1},{name:"type",required:!0},{name:"active",type:"boolean",required:!1},{name:"index",type:"number",required:!1}]),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"_slideshowInner",null),(0,P.Z)(this,"_slideElements",null),(0,P.Z)(this,"_controlsElements",null),(0,P.Z)(this,"_indicatorsElement",null),(0,P.Z)(this,"templateControls",'<button rv-show="controls" class="btn btn-link slideshow-controls slideshow-control-prev" rv-add-class="controlsPositionClass" role="button" data-slide="prev" rv-on-click="prev"> <bs4-icon rv-if="controlPrevIconSrc" rv-src="controlPrevIconSrc" direction="left" size="24"></bs4-icon> <span rv-hide="controlPrevIconSrc" class="btn btn-link slideshow-control-fallback-prev-icon" aria-hidden="true"></span> <span class="sr-only">Previous</span> </button> <button rv-show="controls" class="btn btn-link slideshow-controls slideshow-control-next" rv-add-class="controlsPositionClass" role="button" data-slide="next" rv-on-click="next"> <bs4-icon rv-if="controlNextIconSrc" rv-src="controlNextIconSrc" direction="right" size="24"></bs4-icon> <span rv-hide="controlNextIconSrc" class="slideshow-control-fallback-next-icon" aria-hidden="true"></span> <span class="sr-only">Next</span> </button> '),(0,P.Z)(this,"templateIndicators",'<ol rv-if="indicators" class="slideshow-indicators" rv-add-class="indicatorsPositionClass"> <li rv-each-slide="items" rv-class-active="slide.active" rv-on-click="goTo | args slide.index"> <bs4-icon rv-hide="slide.active" rv-src="indicatorInactiveIconSrc" size="16"></bs4-icon> <bs4-icon rv-show="slide.active" rv-src="indicatorActiveIconSrc" size="16"></bs4-icon> </li> </ol> '),(0,P.Z)(this,"autoplayIntervalIndex",null),(0,P.Z)(this,"continuousAutoplayIntervalIndex",null),(0,P.Z)(this,"resumeTimer",null),(0,P.Z)(this,"routerEvents",new it("main")),(0,P.Z)(this,"breakpoint","xs"),(0,P.Z)(this,"scope",{next:this.next.bind(this),prev:this.prev.bind(this),goTo:this.goTo.bind(this),items:new Array,slidesToScroll:1,controls:!0,controlsPosition:"inside-middle",pauseOnHover:!0,sticky:!1,indicators:!0,indicatorsPosition:"inside-bottom",pause:!1,drag:!0,autoplay:!1,autoplayInterval:0,autoplayVelocity:.8,controlPrevIconSrc:"",controlNextIconSrc:"",indicatorActiveIconSrc:"",indicatorInactiveIconSrc:"",angle:"horizontal",xs:{minWidth:0},sm:{minWidth:576},md:{minWidth:768},lg:{minWidth:992},xl:{minWidth:1200},controlsPositionClass:"",indicatorsPositionClass:""}),(0,P.Z)(this,"onViewChanges",It(this._onViewChanges.bind(this))),(0,P.Z)(this,"onScroll",It(this._onScroll.bind(this))),(0,P.Z)(this,"onMouseUp",Nt(this._onMouseUp.bind(this))),this.onViewChanges=this.onViewChanges.bind(this),this.onVisibilityChanged=this.onVisibilityChanged.bind(this),this.onScroll=this.onScroll.bind(this),this.onScrollend=this.onScrollend.bind(this),this.onMouseIn=this.onMouseIn.bind(this),this.onMouseOut=this.onMouseOut.bind(this)}next(){this.scrollToNextSlide()}prev(){this.scrollToPrevSlide()}goTo(t){this.setSlidePositions();let e=0,s=0;if(this.scope.items[t]){if("vertical"===this.scope.angle){if(0===this.scope.items[t].position.centerY)return;e=this.slideshowInner.scrollTop+this.scope.items[t].position.centerY}else{if(0===this.scope.items[t].position.centerX)return;s=this.slideshowInner.scrollLeft+this.scope.items[t].position.centerX}this.slideElements[t]&&("function"==typeof this.slideshowInner.scroll?this.slideshowInner.scroll({behavior:"smooth",left:s,top:e}):"vertical"===this.scope.angle?this.slideshowInner.scrollTop=e:this.slideshowInner.scrollLeft=s)}else console.error(`Slide with index "${t}" not found!`,this.scope.items[t])}setOptions(t,e){t.slidesToScroll=void 0!==e.slidesToScroll?G(!1,e.slidesToScroll):t.slidesToScroll,t.controls=void 0!==e.controls?G(!1,e.controls):t.controls,t.controlsPosition=void 0!==e.controlsPosition?G(!1,e.controlsPosition):t.controlsPosition,t.drag=void 0!==e.drag?G(!1,e.drag):t.drag,t.autoplay=void 0!==e.autoplay?G(!1,e.autoplay):t.autoplay,t.autoplayInterval=void 0!==e.autoplayInterval?G(!1,e.autoplayInterval):t.autoplayInterval,t.autoplayVelocity=void 0!==e.autoplayVelocity?G(!1,e.autoplayVelocity):t.autoplayVelocity,t.controlPrevIconSrc=void 0!==e.controlPrevIconSrc?G(!1,e.controlPrevIconSrc):t.controlPrevIconSrc,t.controlNextIconSrc=void 0!==e.controlNextIconSrc?G(!1,e.controlNextIconSrc):t.controlNextIconSrc,t.indicatorActiveIconSrc=void 0!==e.indicatorActiveIconSrc?G(!1,e.indicatorActiveIconSrc):t.indicatorActiveIconSrc,t.indicatorInactiveIconSrc=void 0!==e.indicatorInactiveIconSrc?G(!1,e.indicatorInactiveIconSrc):t.indicatorInactiveIconSrc,t.angle=void 0!==e.angle?G(!1,e.angle):t.angle,t.pauseOnHover=void 0!==e.pauseOnHover?G(!1,e.pauseOnHover):t.pauseOnHover,t.sticky=void 0!==e.sticky?G(!1,e.sticky):t.sticky,t.indicators=void 0!==e.indicators?G(!1,e.indicators):t.indicators,t.indicatorsPosition=void 0!==e.indicatorsPosition?G(!1,e.indicatorsPosition):t.indicatorsPosition,t.pause=void 0!==e.pause?G(!1,e.pause):t.pause}setOptionsIfUndefined(t,e){t.slidesToScroll=void 0===t.slidesToScroll?e.slidesToScroll:t.slidesToScroll,t.controls=void 0===t.controls?e.controls:t.controls,t.controlsPosition=void 0===t.controlsPosition?e.controlsPosition:t.controlsPosition,t.drag=void 0===t.drag?e.drag:t.drag,t.autoplay=void 0===t.autoplay?e.autoplay:t.autoplay,t.autoplayInterval=void 0===t.autoplayInterval?e.autoplayInterval:t.autoplayInterval,t.autoplayVelocity=void 0===t.autoplayVelocity?e.autoplayVelocity:t.autoplayVelocity,t.controlPrevIconSrc=void 0===t.controlPrevIconSrc?e.controlPrevIconSrc:t.controlPrevIconSrc,t.controlNextIconSrc=void 0===t.controlNextIconSrc?e.controlNextIconSrc:t.controlNextIconSrc,t.indicatorActiveIconSrc=void 0===t.indicatorActiveIconSrc?e.indicatorActiveIconSrc:t.indicatorActiveIconSrc,t.indicatorInactiveIconSrc=void 0===t.indicatorInactiveIconSrc?e.indicatorInactiveIconSrc:t.indicatorInactiveIconSrc,t.angle=void 0===t.angle?e.angle:t.angle,t.pauseOnHover=void 0===t.pauseOnHover?e.pauseOnHover:t.pauseOnHover,t.sticky=void 0===t.sticky?e.sticky:t.sticky,t.indicators=void 0===t.indicators?e.indicators:t.indicators,t.indicatorsPosition=void 0===t.indicatorsPosition?e.indicatorsPosition:t.indicatorsPosition,t.pause=void 0===t.pause?e.pause:t.pause}initResponsiveOptions(){this.setOptions(this.scope.xs,this.scope),this.setOptionsIfUndefined(this.scope.sm,this.scope.xs),this.setOptionsIfUndefined(this.scope.md,this.scope.sm),this.setOptionsIfUndefined(this.scope.lg,this.scope.md),this.setOptionsIfUndefined(this.scope.xl,this.scope.lg),this.breakpoint=this.getBreakpoint(),this.setOptionsByBreakpoint(this.breakpoint)}setControlsOptions(){var t,e,s,i,n;const o=null===(t=this.scope.xs.controlsPosition)||void 0===t?void 0:t.split("-"),r=null===(e=this.scope.sm.controlsPosition)||void 0===e?void 0:e.split("-"),a=null===(s=this.scope.md.controlsPosition)||void 0===s?void 0:s.split("-"),l=null===(i=this.scope.lg.controlsPosition)||void 0===i?void 0:i.split("-"),c=null===(n=this.scope.xl.controlsPosition)||void 0===n?void 0:n.split("-");this.scope.controlsPositionClass=`control-${o[0]} control-${o[1]} control-sm-${r[0]} control-sm-${r[1]} control-md-${a[0]} control-md-${a[1]} control-lg-${l[0]} control-lg-${l[1]} control-xl-${c[0]} control-xl-${c[1]}`}setIndicatorsOptions(){var t,e,s,i,n;const o=null===(t=this.scope.xs.indicatorsPosition)||void 0===t?void 0:t.split("-"),r=null===(e=this.scope.sm.indicatorsPosition)||void 0===e?void 0:e.split("-"),a=null===(s=this.scope.md.indicatorsPosition)||void 0===s?void 0:s.split("-"),l=null===(i=this.scope.lg.indicatorsPosition)||void 0===i?void 0:i.split("-"),c=null===(n=this.scope.xl.indicatorsPosition)||void 0===n?void 0:n.split("-");this.scope.indicatorsPositionClass=`indicators-${o[0]} indicators-${o[1]} indicators-sm-${r[0]} indicators-sm-${r[1]} indicators-md-${a[0]} indicators-md-${a[1]} indicators-lg-${l[0]} indicators-lg-${l[1]} indicators-xl-${c[0]} indicators-xl-${c[1]}`}getBreakpoint(){const t=window.innerWidth;return t>=this.scope.xs.minWidth&&t<this.scope.sm.minWidth?"xs":t>=this.scope.sm.minWidth&&t<this.scope.md.minWidth?"sm":t>=this.scope.md.minWidth&&t<this.scope.lg.minWidth?"md":t>=this.scope.lg.minWidth&&t<this.scope.xl.minWidth?"lg":"xl"}setOptionsByBreakpoint(t){this.setOptions(this.scope,this.scope[t]),this.scope.autoplay?this.enableAutoplay():this.disableAutoplay(),this.scope.drag?this.enableDesktopDragscroll():this.disableDesktopDragscroll(),this.setControlsOptions(),this.setIndicatorsOptions()}onBreakpointChanges(){this.setOptionsByBreakpoint(this.breakpoint)}_onViewChanges(){this.debug("onViewChanges");const t=this.getBreakpoint();t!==this.breakpoint&&(this.breakpoint=t,this.onBreakpointChanges()),this.setSlidePositions();const e=this.setCenteredSlideActive();this.scope.sticky&&this.goTo(e)}onVisibilityChanged(t){var e,s;t.detail.visible&&(null===(e=this.dragscrollService)||void 0===e||e.checkDraggable(),null===(s=this.continuousAutoplayService)||void 0===s||s.update())}_onScroll(){this.resume(1e3)}onScrollend(){this.setSlidePositions(),this.setCenteredSlideActive(),this.scope.sticky&&this.scrollToNearestSlide(),this.resume(1e3)}onMouseIn(){this.scope.pauseOnHover&&(this.scope.pause=!0)}onMouseOut(){this.resume(200)}_onMouseUp(){this.resume(1e3)}resume(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.scope.pause&&(null!==this.resumeTimer&&(clearTimeout(this.resumeTimer),this.resumeTimer=null),this.resumeTimer=window.setTimeout((()=>{this.setSlidePositions(),this.scope.pause=!1}),t))}connectedCallback(){return super.connectedCallback(),this.init(Bl.observedAttributes)}addEventListeners(){var t;(this.routerEvents.on("newPageReady",this.onBreakpointChanges,this),window.ResizeObserver)?(this.resizeObserver=new window.ResizeObserver(this.onViewChanges),null===(t=this.resizeObserver)||void 0===t||t.observe(this)):window.addEventListener("resize",this.onViewChanges,{passive:!0});this.addEventListener("visibility-changed",this.onVisibilityChanged),this.slideshowInner.addEventListener("scroll",this.onScroll,{passive:!0}),this.slideshowInner.addEventListener("scrollended",this.onScrollend,{passive:!0}),this.addEventListener("mouseenter",this.onMouseIn,{passive:!0}),this.addEventListener("mouseover",this.onMouseIn,{passive:!0}),this.addEventListener("focusin",this.onMouseIn,{passive:!0}),this.addEventListener("touchstart",this.onMouseIn,{passive:!0}),this.addEventListener("mouseout",this.onMouseOut,{passive:!0}),this.addEventListener("mouseleave",this.onMouseOut,{passive:!0}),this.addEventListener("focusout",this.onMouseOut,{passive:!0}),this.addEventListener("mouseup",this.onMouseUp,{passive:!0}),this.addEventListener("touchend",this.onMouseUp,{passive:!0}),this.addEventListener("scroll",this.onMouseUp,{passive:!0}),this.addEventListener("scrollend",this.onMouseUp,{passive:!0}),this.addEventListener("scrollended",this.onMouseUp,{passive:!0}),this.onViewChanges(),this.onScrollend()}removeEventListeners(){var t;this.routerEvents.off("newPageReady",this.onBreakpointChanges,this),window.removeEventListener("resize",this.onViewChanges),null===(t=this.resizeObserver)||void 0===t||t.unobserve(this),this.removeEventListener("visibility-changed",this.onVisibilityChanged),this.slideshowInner.removeEventListener("scroll",this.onScroll),this.slideshowInner.removeEventListener("scrollended",this.onScrollend),this.removeEventListener("mouseenter",this.onMouseIn),this.removeEventListener("mouseover",this.onMouseIn),this.removeEventListener("focusin",this.onMouseIn),this.removeEventListener("touchstart",this.onMouseIn),this.removeEventListener("mouseout",this.onMouseOut),this.removeEventListener("mouseleave",this.onMouseOut),this.removeEventListener("focusout",this.onMouseOut),this.removeEventListener("mouseup",this.onMouseUp),this.removeEventListener("touchend",this.onMouseUp),this.removeEventListener("scroll",this.onMouseUp),this.removeEventListener("scrollend",this.onMouseUp),this.removeEventListener("scrollended",this.onMouseUp)}async beforeBind(){return await super.beforeBind()}async afterBind(){this.initSlideshowInner(),this.initResponsiveOptions(),this.addEventListeners(),await super.afterBind()}initSlideshowInner(){this.initSlideshowInnerSlides(),this.scrollEventsService=new bl(this.slideshowInner)}enableDesktopDragscroll(){if(!this.dragscrollService){const t={detectGlobalMove:!0};this.dragscrollService=new ml(this.slideshowInner,t)}}disableDesktopDragscroll(){this.dragscrollService&&(this.dragscrollService.destroy(),this.dragscrollService=void 0)}enableContinuousAutoplay(){if(!this.continuousAutoplayService){const t={velocity:this.scope.autoplayVelocity,angle:this.scope.angle,pauseOnHover:this.scope.pauseOnHover};this.continuousAutoplayService=new pl(this.slideshowInner,t)}if(!this.continuousAutoplayIntervalIndex){const t=1e4*this.scope.autoplayVelocity;this.continuousAutoplayIntervalIndex=window.setInterval(this.onScrollend.bind(this),t)}}disableContinuousAutoplay(){this.continuousAutoplayService&&(this.continuousAutoplayService.destroy(),this.continuousAutoplayService=void 0),this.continuousAutoplayIntervalIndex&&(window.clearInterval(this.continuousAutoplayIntervalIndex),this.continuousAutoplayIntervalIndex=null)}enableIntervalAutoplay(){null===this.autoplayIntervalIndex&&(this.autoplayIntervalIndex=window.setInterval((()=>{this.scope.pause||this.next()}),this.scope.autoplayInterval))}disableIntervalAutoplay(){this.autoplayIntervalIndex&&(window.clearInterval(this.autoplayIntervalIndex),this.autoplayIntervalIndex=null)}disableAutoplay(){this.disableIntervalAutoplay(),this.disableContinuousAutoplay()}enableAutoplay(){this.scope.autoplayInterval<=0?this.enableContinuousAutoplay():this.enableIntervalAutoplay()}initSlideshowInnerSlides(){if(!this.slideElements)throw new Error("No slides found!");0===this.scope.items.length&&this.addItemsByChilds()}transformTemplateAttributes(t,e){return(t=super.transformTemplateAttributes(t,e)).handle=t.handle||e.toString(),t.index=e,t.class=t.class||"",t.class+=" slide",t}addItemByTemplate(t,e){const s=this.getTemplateAttributes(t,e),i=t.innerHTML;s.type&&("slide"===s.type&&this.scope.items.push(Pl(Pl({},s),{},{content:i})),"controls"===s.type&&(this.templateControls=i),"indicators"===s.type&&(this.templateIndicators=i))}addItemsByChilds(){this.slideElements&&this.slideElements.forEach(((t,e)=>{const s=t.getAttribute("handle")||t.getAttribute("id")||e.toString();t.setAttribute("index",e.toString());const i={handle:s,active:!1,content:t.innerHTML,index:e,position:Pl(Pl({},t.getBoundingClientRect()),{},{centerY:0,centerX:0})};this.scope.items.push(i)}))}getScrollPosition(){return hl(this.slideshowInner)}getCurrentClosestNumber(t,e,s){return Math.abs(e-t)<Math.abs(s-t)?e:s}getMostCenteredSlideIndex(){if(this.scope.items.length<=0)return-1;let t=Math.abs("vertical"===this.scope.angle?this.scope.items[0].position.centerY:this.scope.items[0].position.centerX),e=0;for(let s=1;s<this.scope.items.length;s++){const i=Math.abs("vertical"===this.scope.angle?this.scope.items[s].position.centerY:this.scope.items[s].position.centerX);t=this.getCurrentClosestNumber(0,i,t),t===i&&(e=s)}return e}setAllSlidesInactive(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(this.slideElements)for(let e=0;e<this.scope.items.length;e++)e!==t&&(this.scope.items[e]&&(this.scope.items[e].active=!1),this.slideElements[e]&&this.slideElements[e].classList&&this.slideElements[e].classList.remove("active"))}setCenteredSlideActive(){const t=this.getMostCenteredSlideIndex();return this.setAllSlidesInactive(t),this.scope.items[t]?(this.scope.items[t].active=!0,this.slideElements&&this.slideElements[t].classList&&this.slideElements[t].classList.add("active"),t):-1}isScrollableToIndex(t){if(!this.scope.items[t])return!1;const e="vertical"===this.scope.angle?this.getScrollPosition().maxY:this.getScrollPosition().maxX,s="vertical"===this.scope.angle?this.slideshowInner.scrollTop+this.scope.items[t].position.centerY:this.slideshowInner.scrollLeft+this.scope.items[t].position.centerX;return s<=e&&s>=0}scrollToNextSlide(){this.setSlidePositions();let t=this.getMostCenteredSlideIndex()+this.scope.slidesToScroll;return t>=this.slideElements.length&&(t-=this.slideElements.length),this.goTo(t)}scrollToPrevSlide(){this.setSlidePositions();let t=this.getMostCenteredSlideIndex()-this.scope.slidesToScroll;return t<0&&(t=this.slideElements.length-1+(t+1)),this.goTo(t)}scrollToNearestSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex();return this.goTo(t)}setSlidePositions(){var t,e;if(this.scope.items.length!==(null===(t=this.slideElements)||void 0===t?void 0:t.length))return void console.warn(`The slide objects must be the same size as the slide elements! ${this.scope.items.length} !== ${null===(e=this.slideElements)||void 0===e?void 0:e.length}`);const s=this.slideshowInner.getBoundingClientRect();for(let t=0;t<this.scope.items.length;t++){const e=this.slideElements[t],i=this.scope.items[t],n=e.getBoundingClientRect();n.x-=s.x,n.y-=s.y,i.position={x:n.x,y:n.y,width:n.width,height:n.height,bottom:n.bottom,left:n.left,right:n.right,top:n.top,toJSON:n.toJSON,centerY:n.y+n.height/2-s.height/2,centerX:n.x+n.width/2-s.width/2}}}requiredAttributes(){return[]}async attributeChangedCallback(t,e,s,i){let n="xs",o=this.scope;this.observedAttributesToCheck&&this.observedAttributesToCheck[t]&&(this.observedAttributesToCheck[t].initialized=!0),s=this.parseAttribute(s),t.startsWith("sm-")?(n="sm",o=this.scope.sm,t=t.slice(3)):t.startsWith("md-")?(n="md",o=this.scope.md,t=t.slice(3)):t.startsWith("lg-")?(n="lg",o=this.scope.lg,t=t.slice(3)):t.startsWith("xl-")&&(n="xl",o=this.scope.xl,t=t.slice(3));const r=W(t);o&&o[r]&&(e=o[r]),o[r]=s,this.parsedAttributeChangedCallback(n+r,e,s,i),this.bindIfReady()}parsedAttributeChangedCallback(t,e,s,i){return super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){var t;return this.removeEventListeners(),null===(t=this.scrollEventsService)||void 0===t||t.destroy(),this.disableAutoplay(),this.disableDesktopDragscroll(),super.disconnectedCallback()}template(){return!bt(this)||this.hasOnlyTemplateChilds()?'<div class="slideshow-inner"> <div rv-each-slide="items" rv-class="slide.class" rv-class-active="slide.active" rv-id="\'slide-\' | append slide.handle" rv-index="slide.index" rv-html="slide.content"></div> </div> '+this.templateControls+this.templateIndicators:(this.controlsElements.length<=0&&(this.innerHTML+=this.templateControls),this.indicatorsElement||(this.innerHTML+=this.templateIndicators),null)}}(0,P.Z)(Bl,"tagName","bs4-slideshow");class Zl extends He{static get observedAttributes(){return["target-id"]}requiredAttributes(){return["targetId"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"scope",{targetId:void 0,toggle:this.toggle,state:"undefined",isActive:!0,isClosed:!1})}toggle(){this.eventDispatcher&&this.eventDispatcher.trigger(Qi.eventNames.toggle,this.scope.targetId)}async afterBind(){var t;null===(t=this.eventDispatcher)||void 0===t||t.trigger(Qi.eventNames.init,this.scope.targetId),await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(Zl.observedAttributes)}onToggledEvent(t){this.scope.state=t,this.scope.isActive="hidden"!==t&&"removed"!==t,this.scope.isClosed=!this.scope.isActive}initEventDispatcher(t){this.eventDispatcher&&this.eventDispatcher.off(Qi.eventNames.toggled,this.onToggledEvent,this),this.eventDispatcher=new it(Qi.nsPrefix+t),this.eventDispatcher.on(Qi.eventNames.toggled,this.onToggledEvent,this),this.eventDispatcher.on(Qi.eventNames.state,this.onToggledEvent,this)}async attributeChangedCallback(t,e,s,i){super.attributeChangedCallback(t,e,s,i)}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"targetId"===t&&s&&this.initEventDispatcher(s)}disconnectedCallback(){super.disconnectedCallback(),this.eventDispatcher&&this.eventDispatcher.off(Qi.eventNames.toggled,this.onToggledEvent,this)}template(){return bt(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}}(0,P.Z)(Zl,"tagName","bs4-toggle-button");class Ml extends He{static get observedAttributes(){return["collapse-selector"]}constructor(){super(),(0,P.Z)(this,"scope",{toggle:this.toggle,show:this.show,hide:this.hide,isCollapsed:!0,collapseSelector:".navbar-collapse"}),(0,P.Z)(this,"collapseTargets",new Map),this.onStateChange=this.onStateChange.bind(this)}async afterBind(){this.hide(),await super.afterBind()}toggle(t){for(const t of this.collapseTargets.values())t.toggle();t&&(t.preventDefault(),t.stopPropagation())}show(t){for(const t of this.collapseTargets.values())t.show();t&&(t.preventDefault(),t.stopPropagation())}hide(t){for(const t of this.collapseTargets.values())t.hide();t&&(t.preventDefault(),t.stopPropagation())}connectedCallback(){super.connectedCallback(),this.routerEvents=new it("main"),this.routerEvents.on("newPageReady",this.onNewPageReady,this),this.setCollapseElement(),this.onStateChange(),this.init(Ml.observedAttributes)}setCollapseElement(){const t=Array.from(this.querySelectorAll(this.scope.collapseSelector)||[]);for(const e of this.collapseTargets.keys())t.find((t=>t===e))||this.disposeCollapseTarget(e);for(const e of t)this.collapseTargets.has(e)||(this.collapseTargets.set(e,new Co(e,[this],{toggle:!1})),e.addEventListener(vo,this.onStateChange),e.addEventListener(fo,this.onStateChange));this.hide()}disposeCollapseTargets(){for(const t of this.collapseTargets.keys())this.disposeCollapseTarget(t)}disposeCollapseTarget(t){const e=this.collapseTargets.get(t);e&&e.dispose(),this.collapseTargets.delete(t),t.removeEventListener(vo,this.onStateChange),t.removeEventListener(fo,this.onStateChange)}disconnectedCallback(){super.disconnectedCallback(),this.disposeCollapseTargets(),this.routerEvents&&this.routerEvents.off("newPageReady",this.onNewPageReady,this)}onStateChange(){var t;this.scope.isCollapsed=null===(t=this.collapseTargets.values().next().value)||void 0===t?void 0:t.isCollapsed(),this.scope.isCollapsed?(this.classList.add(Eo),this.setAttribute("aria-expanded","false")):(this.classList.remove(Eo),this.setAttribute("aria-expanded","true"))}onNewPageReady(){this.hide()}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"collapseSelector"===t&&this.setCollapseElement()}template(){return null}}(0,P.Z)(Ml,"tagName","bs4-navbar");const Rl=Hs.read;class Hl extends Ve{static get observedAttributes(){return["option-tabs-auto-height","option-tabs-angle","tab-0-title","tab-0-content","tab-0-handle","tab-1-title","tab-1-content","tab-1-handle","tab-2-title","tab-2-content","tab-2-handle","tab-3-title","tab-3-content","tab-3-handle","tab-4-title","tab-4-content","tab-4-handle","tab-5-title","tab-5-content","tab-5-handle","tab-6-title","tab-6-content","tab-6-handle","tab-7-title","tab-7-content","tab-7-handle","tab-8-title","tab-8-content","tab-8-handle","tab-9-title","tab-9-content","tab-9-handle","tab-10-title","tab-10-content","tab-10-handle","tab-11-title","tab-11-content","tab-11-handle","tab-12-title","tab-12-content","tab-12-handle","tab-13-title","tab-13-content","tab-13-handle","tab-14-title","tab-14-content","tab-14-handle","tab-15-title","tab-15-content","tab-15-handle","tab-16-title","tab-16-content","tab-16-handle","tab-17-title","tab-17-content","tab-17-handle","tab-18-title","tab-18-content","tab-18-handle","tab-19-title","tab-19-content","tab-19-handle"]}constructor(){super(),(0,P.Z)(this,"templateAttributes",[{name:"title",required:!0},{name:"handle",required:!1},{name:"type",required:!1},{name:"active",required:!1},{name:"index",required:!1}]),(0,P.Z)(this,"scope",{items:new Array,activate:this.activate,deactivate:this.deactivate,deactivateAll:this.deactivateAll,optionTabsAutoHeight:!1,optionTabsAngle:"horizontal"}),(0,P.Z)(this,"onResize",It(this._onResize.bind(this)))}_onResize(){this.setHeight()}setHeight(){if(this.scope.optionTabsAutoHeight)return;this.setElements();let t=0;this.tabPanes&&(this.tabPanes.forEach((e=>{if(!e.style)return;e.style.height="auto",e.style.display="block";const s=e.offsetHeight||0;s>t&&(t=s)})),this.tabPanes.forEach((e=>{e.style&&(e.style.display="",t>0&&(e.style.height=t+"px"))})))}deactivateAll(){for(let t=0;t<this.scope.items.length;t++){const e=this.scope.items[t];this.deactivate(e)}}deactivate(t){t.active=!1;const e=this.getTabContentChildByIndex(t.index);e&&this.triggerVisibilityChangedForElement(e,t.active)}activate(t){this.deactivateAll(),t.active=!0;const e=this.getTabContentChildByIndex(t.index);e&&this.triggerVisibilityChangedForElement(e,t.active)}activateFirstTab(){this.scope.items.length>0&&this.activate(this.scope.items[0])}getTabContentChildByIndex(t){return this.querySelector(`.tab-content .tab-pane:nth-child(${t+1}) > *`)||void 0}triggerVisibilityChangedForElement(t,e){setTimeout((()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:e}}))}),200)}connectedCallback(){super.connectedCallback(),this.initTabs(),this.activateFirstTab(),this.init(Hl.observedAttributes)}disconnectedCallback(){this.tabs&&this.tabs.forEach((t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler)})),window.removeEventListener("resize",this.onResize)}setElements(){this.tabs=this.querySelectorAll('[role="tab"]'),this.tabPanes=this.querySelectorAll('[role="tabpanel"]'),this.scrollable=this.querySelector("[scrollable]")}resizeTabsArray(t){for(;t>this.scope.items.length;)this.scope.items.push({handle:"",title:"",content:"",active:!1,index:this.scope.items.length-1})}onTabShownEventHandler(t){const e=t.target||t.srcElement;if(e&&this.scrollable){const t=e.getBoundingClientRect(),s=this.scrollable.scrollLeft||0+t.left;this.scrollable.scrollLeft=s}}initTabs(){this.setElements(),this.tabs&&this.tabs.forEach((t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler),t.addEventListener("shown.bs.tab",this.onTabShownEventHandler)})),this.scope.optionTabsAutoHeight&&(window.removeEventListener("resize",this.onResize),window.addEventListener("resize",this.onResize,{passive:!0}),this.setHeight())}addTabByAttribute(t,e){const s=Number(t.replace(/[^0-9]/g,""));s>=this.scope.items.length&&this.resizeTabsArray(s+1),this.scope.items[s].index=s,t.endsWith("Content")&&(this.scope.items[s].content=e),t.endsWith("Title")&&(this.scope.items[s].title=e,this.scope.items[s].handle=this.scope.items[s].handle||Rl(this.scope.items[s].title)),t.endsWith("Handle")&&(this.scope.items[s].handle=e),this.scope.items.length>0&&this.scope.items[0]&&this.scope.items[0].content.length>0&&this.scope.items[0].title.length>0&&this.scope.items[0].handle.length>0&&this.activateFirstTab()}transformTemplateAttributes(t,e){return!(t=super.transformTemplateAttributes(t,e)).handle&&t.title&&(t.handle=Rl(t.title)),t.active=t.active||!1,t}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),t.startsWith("tab")&&(this.addTabByAttribute(t,s),this.initTabs())}async afterBind(){setTimeout((()=>{this.scope.optionTabsAutoHeight&&this.setHeight()}),500),await super.afterBind()}template(){return!bt(this)||this.hasOnlyTemplateChilds()?"horizontal"===this.scope.optionTabsAngle?'<ul rv-scrollbar-draggable rv-aria-orientation="optionTabsAngle" role="tablist" class="nav nav-tabs flex-scrollbar-x-auto scrollbar-y-hidden"> <li class="nav-item" rv-each-tab="items"> <button role="tab" class="btn btn-link nav-link" rv-class-active="tab.active" rv-id="\'tab-title-\' | append tab.handle" rv-aria-controls="\'tab-content-\' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button> </li> </ul> <div class="tab-content"> <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="\'tab-content-\' | append tab.handle" rv-aria-labelledby="\'tab-title-\' | append tab.handle" rv-template="tab.content"></div> </div> ':'<div class="row"> <div class="col-auto"> <div class="nav flex-column nav-pills" role="tablist" rv-aria-orientation="optionTabsAngle"> <div class="nav-item" rv-each-tab="items"> <button class="btn btn-link nav-link" role="tab" rv-class-active="tab.active" rv-id="\'tab-title-\' | append tab.handle" rv-aria-controls="\'tab-content-\' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button> </div> </div> </div> <div class="col-auto"> <div class="tab-content"> <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="\'tab-content-\' | append tab.handle" rv-aria-labelledby="\'tab-title-\' | append tab.handle" rv-template="tab.content"></div> </div> </div> </div> ':null}}(0,P.Z)(Hl,"tagName","bs4-tabs");class jl extends He{static get observedAttributes(){return["id","disable-submit-until-change","use-ajax","ajax-request-type","auto-set-form-data","strip-html","scroll-invalid-element","animate-invalid-element"]}getDefaultScope(){return{id:kt("form"),form:{fields:{},valid:!1,error:void 0},disableSubmitUntilChange:!1,submitDisabled:!1,onSubmit:this.onSubmit,useAjax:!0,ajaxRequestType:"form",autoSetFormData:!0,stripHtml:!0,scrollToInvalidElement:!0,animateInvalidElement:!0}}constructor(){super(),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"formEl",null),(0,P.Z)(this,"scope",this.getDefaultScope()),this.enableSubmit=this.enableSubmit.bind(this)}connectedCallback(){super.connectedCallback(),this.init(jl.observedAttributes),this.addEventListeners()}addEventListeners(){this.scope.disableSubmitUntilChange&&this.addEventListener("input",this.enableSubmit)}removeEventListeners(){this.removeEventListener("input",this.enableSubmit)}enableSubmit(){this.scope.submitDisabled=!1}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.id=this.scope.id}async afterBind(){await super.afterBind()}stripHtml(){for(const t in this.scope.form.fields)this.scope.form.fields[t]&&"string"==typeof this.scope.form.fields[t]&&(this.scope.form.fields[t]=z(this.scope.form.fields[t]))}onSubmit(t,e){if(this.debug("onSubmit",t,e),!this.formEl)return console.warn("No form found"),!1;if(this.scope.autoSetFormData&&this.getFormValues(),this.scope.stripHtml&&this.stripHtml(),this.validate(this.formEl,this.scope.form),!this.scope.form.valid)return void this.onInvalidForm(t);const s=this.getSubmitSettings(t);if("_blank"===(null==s?void 0:s.target))return!0;this.scope.useAjax&&(t.preventDefault(),t.stopPropagation(),this.ajaxSubmit(t,e))}async ajaxSubmit(t,e){this.debug("onSubmit",t,e,this.scope);const s=this.getSubmitSettings(t);if(s){this.scope.autoSetFormData&&this.getFormValues();try{const t=await lt.fetch(s.action,s.method,this.scope.form.fields,s.type);if(!t||!t.body)return this.onErrorSubmit("500","Error","Empty body!");const e=t.body&&t.body.message?t.body.message:"";return Number(t.status)>=400&&this.onErrorSubmit(t.status.toString(),e,t.body),this.onSuccessSubmit(t.status.toString(),e,t.body)}catch(t){this.onErrorSubmit(t.status,t.body.message,t.body)}}else console.warn("Can't get submit settings")}getSubmitSettings(t){var e;if(!this.formEl)return console.warn("No form found"),null;let s=this.formEl.action,i=this.formEl.method,n=this.formEl.method;if(null!=t&&null!==(e=t.originalEvent)&&void 0!==e&&e.submitter){var o;const e=null==t||null===(o=t.originalEvent)||void 0===o?void 0:o.submitter;s=(null==e?void 0:e.formAction)||s,i=(null==e?void 0:e.formMethod)||i,n=(null==e?void 0:e.formTarget)||n}return{action:s,method:i.toUpperCase(),target:n,type:this.scope.ajaxRequestType}}onInvalidForm(t){if(this.debug("Form not valid",this.scope),t.preventDefault(),t.stopPropagation(),!this.formEl)return void console.warn("No form found");const e=this.formEl.querySelectorAll(":invalid");if(e&&e.length){const t=e[0];this.scope.scrollToInvalidElement&&this.scrollToElement(t),this.scope.animateInvalidElement&&this.scrollToElement(t)}this.dispatchEvent(new CustomEvent("invalid",{detail:{elements:e}}))}scrollToElement(t){const e=At().h/2;Et(t,e,window),this.animateInvalidElement(t)}animateInvalidElement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;t.classList.add("invalid-flashing-animation"),setTimeout((()=>{t.classList.remove("invalid-flashing-animation")}),e)}onErrorSubmit(t,e,s){this.debug("onErrorSubmit"),this.dispatchEvent(new CustomEvent("submit-error",{detail:{status:t,message:e,response:s}}))}onSuccessSubmit(t,e,s){this.debug("onSuccessSubmit"),this.scope.disableSubmitUntilChange&&(this.scope.submitDisabled=!0),this.dispatchEvent(new CustomEvent("submit-success",{detail:{status:t,message:e,response:s}}))}validate(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validation-error";e.valid=t.checkValidity(),e.error=t.validationMessage,e.valid||(this.dispatchEvent(new CustomEvent(s)),t.classList.add("was-validated"))}getFormValues(){return this.formEl?(this.scope.form.fields=new FormData(this.formEl),this.scope.form.fields):(console.warn("No form found"),null)}initForm(){const t=this.querySelector("form");t&&t.length>0?(this.formEl=t,this.formEl.classList.add("needs-validation"),this.formEl.setAttribute("novalidate","")):console.warn("bs4 form without children found")}template(){return bt(this)?(this.initForm(),null):"<form> </form>"}}(0,P.Z)(jl,"tagName","bs4-form");class Ul extends He{static get observedAttributes(){return["icon-url","position-class","channel-name"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"scope",{notifications:[],positionClass:"absolute-bottom absolute-center",channelName:"toast",onItemHide:this.onItemHide})}connectedCallback(){super.connectedCallback(),this.init(Ul.observedAttributes)}onItemHide(t,e,s,i){s>-1?this.notifications.splice(s,1):console.warn("Notification not found",i)}onShowNotification(t){this.debug("Received notification container on "+this.scope.channelName,this.scope,t),this.scope.notifications.push(t)}async afterBind(){this.notificationDispatcher=new it(this.scope.channelName),this.notificationDispatcher.on("show-notification",this.onShowNotification,this),await super.afterBind()}disconnectedCallback(){super.disconnectedCallback(),this.notificationDispatcher.off("show-notification",this.onShowNotification,this)}requiredAttributes(){return[]}template(){return bt(this)?null:'<div class="toast-container"> <div aria-live="polite" aria-atomic="true" class="toast-item-container" rv-add-class="positionClass"> <div rv-each-toast="notifications"> <div rv-if="toast.type | eq \'toast\'"> <bs4-toast-item rv-index="%toast%" rv-parent rv-icon-url="iconUrl" rv-co-toast="toast"></bs4-toast-item> </div> </div> </div> </div> <div rv-each-modal="notifications"> <div rv-if="modal.type | eq \'modal\'"> <bs4-modal-item rv-index="%modal%" rv-parent rv-icon-url="iconUrl" rv-co-modal="modal"></bs4-modal-item> </div> </div>'}}(0,P.Z)(Ul,"tagName","bs4-notification-container");class Fl extends He{static get observedAttributes(){return["toast","icon-url","index"]}requiredAttributes(){return["toast"]}constructor(){super(),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this),toast:void 0})}connectedCallback(){super.connectedCallback(),this.init(Fl.observedAttributes)}async afterBind(){this.initToastService(),await super.afterBind()}initToastService(){const t=this.scope.toast,e=this.firstElementChild;t&&e&&(this.toastService=new fa(e,{delay:void 0!==t.delay?t.delay:fa.Default.delay,autohide:void 0!==t.autoHide?t.autoHide:fa.Default.autohide,animation:void 0!==t.animation?t.animation:fa.Default.animation}),e.addEventListener(da,this.scope.onHidden,{once:!0}),this.toastService.show())}dismiss(){var t;null===(t=this.toastService)||void 0===t||t.hide()}onHidden(t,e){var s;e||(e=Ct(t));const i=(null===(s=this.scope.$parent)||void 0===s?void 0:s.$parent)||null;"function"==typeof(null==i?void 0:i.onItemHide)&&this.scope.toast&&e&&i.onItemHide(t,e,this.scope.index,this.scope.toast)}template(){return'<div class="toast my-1" rv-add-class="toast.contextualClass | prepend \'toast-\'" role="alert" aria-live="assertive" aria-atomic="true"> <div class="toast-header" rv-show="toast.title"> <bs4-icon rv-if="iconUrl" rv-src="iconUrl" size="16" rv-color="toast.contextualClass" class="mr-2" alt="toast icon"></bs4-icon> <strong class="mr-auto" rv-template="toast.title"></strong> <button type="button" class="ml-2 mb-1 close" rv-on-click="dismiss" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> </div> <div class="toast-body" rv-template="toast.message"></div> </div>'}}(0,P.Z)(Fl,"tagName","bs4-toast-item");class Vl extends He{static get observedAttributes(){return["modal","index"]}requiredAttributes(){return["modal"]}constructor(){super(),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this)})}connectedCallback(){super.connectedCallback(),this.init(Vl.observedAttributes)}async afterBind(){this.initModalService(),await super.afterBind()}initModalService(){const t=this.scope.modal,e=this.firstElementChild;t&&e&&(this.modalService=new cr(e,{focus:void 0!==t.focus?t.focus:cr.Default.focus,keyboard:void 0!==t.keyboard?t.keyboard:cr.Default.keyboard,backdrop:void 0!==t.backdrop?t.backdrop:cr.Default.backdrop,show:void 0!==t.show?t.show:cr.Default.show}),e.addEventListener(Qo,this.scope.onHidden,{once:!0}),this.modalService.show(this))}dismiss(t){var e;null===(e=this.modalService)||void 0===e||e.hide(t)}onHidden(t,e){var s;e||(e=Ct(t));const i=(null===(s=this.scope.$parent)||void 0===s?void 0:s.$parent)||null;"function"==typeof(null==i?void 0:i.onItemHide)&&this.scope.modal&&e&&i.onItemHide(t,e,this.scope.index,this.scope.modal)}template(){return'<div class="modal fade" tabindex="-1" role="dialog" rv-add-class="modal.contextualClass | prepend \'modal-\'"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header" rv-show="modal.title"> <h5 class="modal-title" rv-template="modal.title"></h5> <button type="button" class="close" aria-label="Close" rv-on-click="dismiss"> <span aria-hidden="true">&times;</span> </button> </div> <div class="modal-body"> <p rv-template="modal.message"></p> </div> <div class="modal-footer" rv-show="modal.buttons | size | gt 0"> <div rv-each-button="modal.buttons"> <button type="button" class="btn" rv-add-class="button.class" rv-on-click="button.action" rv-template="modal.label"></button> </div> </div> </div> </div> </div>'}}(0,P.Z)(Vl,"tagName","bs4-modal-item");function ql(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function $l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ql(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ql(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class zl extends He{static get observedAttributes(){return["tags","options","debug"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"_debug",!0),(0,P.Z)(this,"scope",{debug:!1,tags:[],options:{popoverOptions:{},multiPopover:!1,tagOptions:{}},fillPopoverOptions:t=>$l($l($l({},this.scope.options.popoverOptions),this.scope.options.tagOptions.popoverOptions),t),triggerOnFocus:t=>this.scope.fillPopoverOptions(t).trigger?0:null,onClick:this.onClick.bind(this),onPopoverBound:this.onPopoverBound.bind(this),onPopoverShown:this.onPopoverShown.bind(this),onPopoverHidden:this.onPopoverHidden.bind(this),updateTagPositions:It(this.updateTagPositions.bind(this))}),this.scope.options.popoverOptions.container=this}parsedAttributeChangedCallback(t,e,s){if("options"===t){this.bound?this.scope.options=s:this.scope.options=Y({deep:!0},e,s);const t=this.scope.options.popoverOptions;t&&"string"==typeof t.container&&(t.container=document.querySelector(t.container)||void 0)}}template(){return bt(this)&&this.parseChildTags(),'<img> <tag rv-each-tag="tags" rv-index="tag.index" rv-style-left="tag.left" rv-style-top="tag.top" rv-shape="tag.shape" rv-color="tag.color" rv-style---tag-color="tag.color" rv-style---tag-border-radius="tag.borderRadius" rv-style---tag-full-size="tag.fullSize" rv-style---tag-small-size="tag.smallSize" rv-bs4-popover="fillPopoverOptions | call tag.popoverOptions" rv-on-bound.bs.popover="onPopoverBound" rv-on-shown.bs.popover="onPopoverShown" rv-on-hidden.bs.popover="onPopoverHidden" rv-tabindex="triggerOnFocus | call tag.popoverOptions"> </tag> '}async beforeBind(){await super.beforeBind(),this.image=this.querySelector("img"),this.addEventListeners(),this.initTags()}addEventListeners(){const t=this.image;t.addEventListener("load",this.scope.updateTagPositions),t.addEventListener("click",this.scope.onClick),window.addEventListener("resize",this.scope.updateTagPositions,{passive:!0})}removeEventListeners(){const t=this.image;t.removeEventListener("load",this.scope.updateTagPositions),t.removeEventListener("click",this.scope.onClick),window.removeEventListener("resize",this.scope.updateTagPositions)}async afterBind(){this.passImageAttributes(),await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(zl.observedAttributes)}disconnectedCallback(){this.removeEventListener("click",this.scope.onClick),window.removeEventListener("resize",this.scope.updateTagPositions)}parseChildTags(){this.debug("parseChildTags()");for(const e of Array.from(this.querySelectorAll("tag"))){const s=e.getAttribute("title")||"",i=e.innerHTML,n=(t=parseFloat(e.getAttribute("x")||""),isNaN(t)?Math.random():t),o=(t=>isNaN(t)?Math.random():t)(parseFloat(e.getAttribute("y")||"")),r=e.getAttribute("shape")||void 0,a=e.getAttribute("color")||void 0,l=e.getAttribute("border-radius")||void 0,c=e.getAttribute("full-size")||void 0,h=e.getAttribute("small-size")||void 0,d=$l($l({},this.scope.options.tagOptions),{},{popoverOptions:this.scope.fillPopoverOptions({title:s,content:i,html:!0}),x:n,y:o,shape:r,color:a,borderRadius:l,fullSize:c,smallSize:h});this.scope.tags.push(d)}var t}initTags(){const t=this.scope.options.tagOptions;for(const[e,s]of this.scope.tags.entries())s.index=e,s.shape=s.shape||t.shape,s.borderRadius=s.borderRadius||t.borderRadius,s.smallSize=s.smallSize||t.smallSize,s.fullSize=s.fullSize||t.fullSize,s.color=s.color||t.color}passImageAttributes(){const t=this.image,e=this.attributes;for(let s=e.length-1;s>=0;s--)e[s].name.startsWith("img-")&&t.setAttribute(e[s].name.substr(4),e[s].value)}onClick(t){if(this.scope.debug){const e=this.image,{clientTop:s,clientLeft:i,width:n,height:o,naturalWidth:r,naturalHeight:a}=e,{clientX:l,clientY:c}=t;let h=l-i,d=c-s;const u=n/r,p=o/a;let m=n,v=o;u<p?(m=n*p/u,h+=(m-n)/2):p<u&&(v=o*u/p,d+=(v-o)/2),h*=100/m,d*=100/v,console.log({x:h,y:d})}}onPopoverBound(t){const e=t.target.getAttribute("index");if(null===e)throw new Error("popup bound on no index");const s=parseInt(e);if(isNaN(s))throw new Error(`boundIndex "${e}" is not a number!`);const i=this.scope.tags.find((t=>t.index===s));if(!i)throw new Error(`Tag with index (${s}, "${e}") not found`);i.el=t.target}onPopoverShown(t){for(const i of this.scope.tags){var e,s;if(i.el===t.target)i.el.classList.add("active");else if(!this.scope.options.multiPopover)null===(e=i.el)||void 0===e||e.classList.remove("active"),null===(s=i.el)||void 0===s||s.dispatchEvent(new CustomEvent("trigger-hide"))}}onPopoverHidden(t){const e=this.scope.tags.find((e=>e.el===t.target));var s;e&&(null===(s=e.el)||void 0===s||s.classList.remove("active"))}updateTagPositions(){const t=this.image,{width:e,height:s,naturalWidth:i,naturalHeight:n}=t,o=i/e,r=n/s,a=window.getComputedStyle(t).getPropertyValue("object-fit");if("cover"===a&&o>r||"contain"===a&&r>o)for(const t of this.scope.tags)t.top=100*t.y+"%",t.left=100*(o/r*(t.x-.5)+.5)+"%";else if("cover"===a||"contain"===a)for(const t of this.scope.tags)t.left=100*t.x+"%",t.top=100*(r/o*(t.y-.5)+.5)+"%";else for(const t of this.scope.tags)t.left=100*t.x+"%",t.top=100*t.y+"%"}}(0,P.Z)(zl,"tagName","bs4-tagged-image");class Wl extends He{static get observedAttributes(){return["type","title","text","url","media-url","label","dropdown-direction"]}constructor(){super(),(0,P.Z)(this,"_debug",!1),this.scope=this.getScopeDefaults(),this.debug("constructor",this.scope),Wl.count++,this.onExternalOpenEvent=this.onExternalOpenEvent.bind(this),this.onExternalCloseEvent=this.onExternalCloseEvent.bind(this)}getDefaultShareServices(){return[{id:"facebook",label:"Facebook",urlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{url}}",mediaUrlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{media_url}}",type:"popup",url:"",availableFor:["page","image","video"]},{id:"twitter",label:"Twitter",urlTemplate:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}",mediaUrlTemplate:"https://twitter.com/intent/tweet?text={{text}}&url={{media_url}}%0A({{url}})",url:"",availableFor:["page","image","video"]},{id:"pinterest",label:"Pinterest",urlTemplate:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{media_url}}&description={{text}}",type:"popup",url:"",availableFor:["image","video"]},{id:"whatsapp",label:"WhatsApp",urlTemplate:"https://api.whatsapp.com/send?text={{text}}%0A%0A{{url}}",mediaUrlTemplate:"https://api.whatsapp.com/send?text={{text}}%0A%0A{{media_url}}%0A({{url}})",type:"popup",url:"",availableFor:["page","image","video"]},{id:"telegram",label:"Telegram",urlTemplate:"https://telegram.me/share/url?url={{media_url}}&text={{text}}",mediaUrlTemplate:"https://telegram.me/share/url?url={{media_url}}&text={{text}}%0A({{url}})",type:"popup",url:"",availableFor:["page","image","video"]},{id:"email",label:"Email",urlTemplate:"mailto:?subject={{title}}&body={{text}}%0A%0A{{url}}",mediaUrlTemplate:"mailto:?subject={{title}}&body={{text}}%0A%0A{{media_url}}%0A({{url}})",type:"href",url:"",availableFor:["page","image","video"]},{id:"download",label:"Download image",urlTemplate:"{{raw_media_url}}",type:"download",url:"",availableFor:["image","video"]}]}isIos(){return null!==navigator.userAgent.match(/iPhone|iPad|iPod/i)}isAndroid(){return null!==navigator.userAgent.match(/Android/i)}browserSupportsNativeShare(){return"function"==typeof navigator.share}getScopeDefaults(){const t={type:"page",title:document.title,text:"Look at this! 👀🤩",url:window.location.href,label:"Share",labelTemplate:'<div class="share-label" rv-on-click="share" role="button" aria-haspopup="true" aria-expanded="false" rv-text="label"></div> ',isAndroid:this.isAndroid(),isIos:this.isIos(),isDesktop:!1,isNative:this.browserSupportsNativeShare(),dropdownId:"dropdownShare"+Wl.count,shareItems:this.getDefaultShareServices(),dropdownDirection:"down",share:this.share,shareOnService:this.shareOnService};return t.isDesktop=!t.isIos&&!t.isAndroid,t}onExternalOpenEvent(){var t;null===(t=this.dropdown)||void 0===t||t.show()}onExternalCloseEvent(){var t;null===(t=this.dropdown)||void 0===t||t.close()}connectedCallback(){super.connectedCallback(),this.init(Wl.observedAttributes),this.addEventListeners()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListeners()}addEventListeners(){this.addEventListener("open",this.onExternalOpenEvent),this.addEventListener("close",this.onExternalCloseEvent)}removeEventListeners(){this.removeEventListener("open",this.onExternalOpenEvent),this.removeEventListener("close",this.onExternalOpenEvent)}getURLForShare(){return"page"===this.scope.type&&this.scope.url?Wt(this.scope.url):window.location.href}getMediaUrlForShare(){return"page"!==this.scope.type&&this.scope.url?Wt(this.scope.url):""}getTextForShare(){return this.scope.text}getTitleForShare(){return this.scope.title}updateShareURLs(){for(const t of this.scope.shareItems){const e=this.getURLForShare(),s=this.getMediaUrlForShare(),i=this.getTextForShare(),n=this.getTitleForShare();let o=t.urlTemplate;"page"!==this.scope.type&&t.mediaUrlTemplate&&(o=t.mediaUrlTemplate);const r=o.replace("{{url}}",encodeURIComponent(e)).replace("{{url}}",encodeURIComponent(e)).replace("{{media_url}}",encodeURIComponent(s)).replace("{{raw_media_url}}",s).replace("{{text}}",encodeURIComponent(i)).replace("{{title}}",encodeURIComponent(n));t.available=-1!==t.availableFor.indexOf(this.scope.type),t.url=r}}initDropdown(){const t=this.querySelector(".dropdown-toggle-share");t?this.dropdown=new $o(t):console.warn('Element with selector ".dropdown-toggle-share" not found!',this)}shareOnService(t,e,s){var i;return this.debug("Open popup"),null===(i=this.dropdown)||void 0===i||i.close(),s&&s.href?!!(s.hasAttribute("type")&&"download"===s.getAttribute("type")||"href"===s.getAttribute("type"))||(t.preventDefault(),t.stopPropagation(),window.open(s.href,"Share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),!1):(console.error("No href attribute found"),!1)}async share(t){return this.debug("share",this.scope),t.preventDefault(),t.stopPropagation(),this.scope.isNative&&!this.scope.isDesktop?navigator.share({title:this.scope.title,text:`${this.scope.text}\r\n\r\n`,url:this.scope.url||window.location.href}).catch((t=>{"AbortError"!==t.name&&console.error(`Error ${t.name}: ${t.message}`,t)})):(this.updateShareURLs(),null===(e=this.dropdown)||void 0===e?void 0:e.toggle());var e}async beforeBind(){await super.beforeBind()}async afterBind(){this.initDropdown(),await super.afterBind()}requiredAttributes(){return["url"]}template(){return this.debug("template",this,bt(this)),this&&bt(this)&&(this.scope.labelTemplate=this.innerHTML,this.debug("Custom label template: ",this.scope.labelTemplate)),Gi}}(0,P.Z)(Wl,"tagName","bs4-share"),(0,P.Z)(Wl,"count",0);class Yl extends Wl{static get observedAttributes(){return[...Wl.observedAttributes,"text-i18n","label-i18n","service-label-i18n"]}constructor(){super(),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"scope",super.scope),this.scope=this.getScopeDefaults(),this.scope.labelTemplate='<div class="share-label" rv-on-click="share" role="button" aria-haspopup="true" aria-expanded="false" rv-i18n-text="labelI18n"></div> '}connectedCallback(){super.connectedCallback(),this.init(Wl.observedAttributes),this.addEventListeners()}async initI18n(){return new Promise((t=>{var e,s,i;if(null===(e=this.localesService)||void 0===e||e.event.on("changed",(async e=>t(e))),null!==(s=this.localesService)&&void 0!==s&&s.ready){var n;const e=null===(n=this.localesService)||void 0===n?void 0:n.getLangcode();return t(e)}null===(i=this.localesService)||void 0===i||i.event.on("ready",(async e=>t(e)))}))}async i18n(t,e){var s;if(e)return null===(s=this.localesService)||void 0===s?void 0:s.get([t,...e.split(".")]).then((t=>t)).catch((t=>{console.error(t)}))}async beforeBind(){await super.beforeBind(),this.localesService=Vi.options.localesService;const t=await this.initI18n();if(this.scope.textI18n&&t&&(this.scope.text=await this.i18n(t,this.scope.textI18n)||this.scope.text),this.scope.serviceLabelI18n&&t)for(const e of this.scope.shareItems)e.label=await this.i18n(t,this.scope.serviceLabelI18n+"."+e.id)||e.label}async afterBind(){await super.afterBind()}template(){return this.debug("template",this,bt(this)),this&&bt(this)&&(this.scope.labelTemplate=this.innerHTML,this.debug("Custom label template: ",this.scope.labelTemplate)),Gi}}(0,P.Z)(Yl,"tagName","i18n-share");const Gl=async(t,e,s)=>{const i=t.split(".");return s||(s=e.getLangcode())?e.get([s,...i]).then((t=>t)).catch((t=>{console.error(t)})):null},Xl={name:"t",read(t,e){const s=Vi.options.localesService;return new Promise(((i,n)=>{s.event.on("changed",(()=>{Gl(t,s,e).then((t=>{i(t)})).catch((t=>{n(t)}))})),s.event.on("ready",(()=>{Gl(t,s,e).then((t=>{i(t)})).catch((t=>{n(t)}))})),s.ready&&Gl(t,s,e).then((t=>{i(t)}))}))}},Kl={binders:d,components:S,formatters:C,services:u,init(t){if(!t)throw new Error("[i18nModule] Module options required!");return Vi.setSingleton(t),this}};var Ql=s(416);class Jl extends Ql.lr{}class tc extends Ql.UO{}(0,P.Z)(tc,"CLASS_NAME_SHOW","show"),(0,P.Z)(tc,"CLASS_NAME_COLLAPSE","collapse"),(0,P.Z)(tc,"CLASS_NAME_COLLAPSING","collapsing"),(0,P.Z)(tc,"CLASS_NAME_COLLAPSED","collapsed"),(0,P.Z)(tc,"SELECTOR_ACTIVES",".show, .collapsing"),(0,P.Z)(tc,"SELECTOR_DATA_TOGGLE",'[data-bs-toggle="collapse"]');class ec extends He{static get observedAttributes(){return[]}constructor(){super(),(0,P.Z)(this,"scope",{toggle:this.toggle}),(0,P.Z)(this,"toggler",null)}toggle(t){if(console.debug("toggle"),t.preventDefault(),t.stopPropagation(),!this.dropdown)throw new Error("Dropdown not ready!");return this.dropdown.toggle()}connectedCallback(){super.connectedCallback(),this.init(ec.observedAttributes)}async afterBind(){this.toggler=this.classList.contains("dropdown-toggle")?this:this.querySelector(".dropdown-toggle")||this,console.debug("toggler",this.toggler),this.toggler.dataset.bsToggle="dropdown",this.dropdown=new lc(this.toggler,{}),await super.afterBind()}template(){return null}}(0,P.Z)(ec,"tagName","bs5-dropdown");const sc="bs.dropdown",ic=".bs.dropdown",nc=".data-api",oc="ArrowDown",rc="ArrowUp",ac="Escape";class lc extends Ql.Lt{static hideAll(){this.clearMenus()}static getAllComponents(){const t=document.querySelectorAll(ec.tagName);return Array.from(t)}static hideAllComponents(){const t=this.getAllComponents();for(const s of Array.from(t)){var e;null===(e=s.dropdown)||void 0===e||e.hide()}}static get DATA_KEY(){return sc}}(0,P.Z)(lc,"NAME","dropdown"),(0,P.Z)(lc,"EVENT_KEY",ic),(0,P.Z)(lc,"DATA_API_KEY",nc),(0,P.Z)(lc,"ESCAPE_KEY",ac),(0,P.Z)(lc,"SPACE_KEY","Space"),(0,P.Z)(lc,"TAB_KEY","Tab"),(0,P.Z)(lc,"ARROW_UP_KEY",rc),(0,P.Z)(lc,"ARROW_DOWN_KEY",oc),(0,P.Z)(lc,"RIGHT_MOUSE_BUTTON",2),(0,P.Z)(lc,"REGEXP_KEYDOWN",new RegExp("ArrowUp|ArrowDown|Escape")),(0,P.Z)(lc,"EVENT_HIDE","hide.bs.dropdown"),(0,P.Z)(lc,"EVENT_HIDDEN","hidden.bs.dropdown"),(0,P.Z)(lc,"EVENT_SHOW","show.bs.dropdown"),(0,P.Z)(lc,"EVENT_SHOWN","shown.bs.dropdown"),(0,P.Z)(lc,"EVENT_CLICK","click.bs.dropdown"),(0,P.Z)(lc,"EVENT_CLICK_DATA_API","click.bs.dropdown.data-api"),(0,P.Z)(lc,"EVENT_KEYDOWN_DATA_API","keydown.bs.dropdown.data-api"),(0,P.Z)(lc,"EVENT_KEYUP_DATA_API","keyup.bs.dropdown.data-api"),(0,P.Z)(lc,"CLASS_NAME_DISABLED","disabled"),(0,P.Z)(lc,"CLASS_NAME_SHOW","show"),(0,P.Z)(lc,"CLASS_NAME_DROPUP","dropup"),(0,P.Z)(lc,"CLASS_NAME_DROPEND","dropend"),(0,P.Z)(lc,"CLASS_NAME_DROPSTART","dropstart"),(0,P.Z)(lc,"CLASS_NAME_NAVBAR","navbar"),(0,P.Z)(lc,"SELECTOR_DATA_TOGGLE",'[data-bs-toggle="dropdown"]'),(0,P.Z)(lc,"SELECTOR_FORM_CHILD",".dropdown form"),(0,P.Z)(lc,"SELECTOR_MENU",".dropdown-menu"),(0,P.Z)(lc,"SELECTOR_NAVBAR_NAV",".navbar-nav"),(0,P.Z)(lc,"SELECTOR_VISIBLE_ITEMS",".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)");class cc{constructor(t,e){this.type=t,this.title=e}}class hc extends cc{constructor(t){let{title:e,message:s,iconUrl:i,focus:n,keyboard:o,backdrop:r,buttons:a,modalService:l,contextualClass:c,channel:h,$event:d,$context:u}=t;super("modal",e),(0,P.Z)(this,"buttons",[]),this.message=s,this.iconUrl=i,this.focus=n||!1,this.keyboard=o||!0,this.backdrop=r||!0,this.buttons=a||[],this.modalService=l,this.contextualClass=c,this.channel=h,this.$event=d,this.$context=u}}const dc="bs.modal",uc=".data-api",pc=".bs.modal";class mc extends Ql.u_{static get DATA_KEY(){return dc}static get DATA_API_KEY(){return uc}static get EVENT_KEY(){return pc}}(0,P.Z)(mc,"NAME","modal"),(0,P.Z)(mc,"ESCAPE_KEY","Escape"),(0,P.Z)(mc,"EVENT_HIDE","hide.bs.modal"),(0,P.Z)(mc,"EVENT_HIDE_PREVENTED","hidePrevented.bs.modal"),(0,P.Z)(mc,"EVENT_HIDDEN","hidden.bs.modal"),(0,P.Z)(mc,"EVENT_SHOW","show.bs.modal"),(0,P.Z)(mc,"EVENT_SHOWN","shown.bs.modal"),(0,P.Z)(mc,"EVENT_FOCUSIN","focusin.bs.modal"),(0,P.Z)(mc,"EVENT_RESIZE","resize.bs.modal"),(0,P.Z)(mc,"EVENT_CLICK_DISMISS","click.dismiss.bs.modal"),(0,P.Z)(mc,"EVENT_KEYDOWN_DISMISS","keydown.dismiss.bs.modal"),(0,P.Z)(mc,"EVENT_MOUSEUP_DISMISS","mouseup.dismiss.bs.modal"),(0,P.Z)(mc,"EVENT_MOUSEDOWN_DISMISS","mousedown.dismiss.bs.modal"),(0,P.Z)(mc,"EVENT_CLICK_DATA_API","click.bs.modal.data-api"),(0,P.Z)(mc,"CLASS_NAME_SCROLLBAR_MEASURER","modal-scrollbar-measure"),(0,P.Z)(mc,"CLASS_NAME_BACKDROP","modal-backdrop"),(0,P.Z)(mc,"CLASS_NAME_OPEN","modal-open"),(0,P.Z)(mc,"CLASS_NAME_FADE","fade"),(0,P.Z)(mc,"CLASS_NAME_SHOW","show"),(0,P.Z)(mc,"CLASS_NAME_STATIC","modal-static"),(0,P.Z)(mc,"SELECTOR_DIALOG",".modal-dialog"),(0,P.Z)(mc,"SELECTOR_MODAL_BODY",".modal-body"),(0,P.Z)(mc,"SELECTOR_DATA_TOGGLE",'[data-bs-toggle="modal"]'),(0,P.Z)(mc,"SELECTOR_DATA_DISMISS",'[data-bs-dismiss="modal"]'),(0,P.Z)(mc,"SELECTOR_FIXED_CONTENT",".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"),(0,P.Z)(mc,"SELECTOR_STICKY_CONTENT",".sticky-top");class vc extends Ql.u{}class gc extends Ql.J2{}const fc={dimension:0,name:"xs"},bc={dimension:576,name:"sm"},wc={dimension:768,name:"md"},yc={dimension:992,name:"lg"},Ec={dimension:1200,name:"xl"},Sc={dimension:1400,name:"xxl"},Cc={breakpoints:[fc,bc,wc,yc,Ec,Sc]},Ac={nsPrefix:"bs5-toggle-button:",eventNames:{toggle:"toggle",toggled:"toggled",init:"init",state:"state"}},Tc={elEventNames:{removed:"removed",added:"added"}},kc={elEventNames:{removed:"removed",added:"added"}};class _c{get options(){return this._options}get activeBreakpoint(){return this._activeBreakpoint}get breakpointNames(){return this.options.breakpoints.map((t=>t.name))}get events(){return this._events}constructor(t){(0,P.Z)(this,"_options",Cc),(0,P.Z)(this,"_events",it.getInstance("bs5")),(0,P.Z)(this,"_activeBreakpoint",null),(0,P.Z)(this,"onViewChanges",It(this._onViewChanges.bind(this))),this._options=t,this._options.breakpoints.sort(((t,e)=>t.dimension-e.dimension)),this._onViewChanges(),this.addEventListeners()}onBreakpointChanges(){this._events.trigger("breakpoint:changed",this.activeBreakpoint)}setActiveBreakpoint(t){var e;t&&t.name!==(null===(e=this.activeBreakpoint)||void 0===e?void 0:e.name)&&(this._activeBreakpoint=t,this.onBreakpointChanges())}static getSingleton(){if(_c.instance)return _c.instance;throw new Error("Singleton of Bs5Service not defined, please call setSingleton first!")}static setSingleton(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cc;if(_c.instance)throw new Error("Singleton of Bs5Service already defined!");return _c.instance=new _c(t),_c.instance}addEventListeners(){window.addEventListener("resize",this.onViewChanges,{passive:!0})}removeEventListeners(){window.removeEventListener("resize",this.onViewChanges)}_onViewChanges(){const t=this.getBreakpointByDimension(At().w)||this.getBreakpointByName("xs");t&&this.setActiveBreakpoint(t)}getBreakpointByDimension(t,e){e=e||this.options.breakpoints;for(let s=0;s<e.length-1;s++){const i=e[s],n=e[s+1];if(n&&i&&t>i.dimension&&t<n.dimension)return i}const s=e[e.length-1];return t>=s.dimension?s:null}getBreakpointByName(t,e){const s=(e=e||this.options.breakpoints).find((e=>e.name===t));return s||null}isBreakpointGreaterThan(t,e){const s=this.getBreakpointByName(t),i=this.getBreakpointByName(e);return s&&i?s.dimension>i.dimension:null}isBreakpointSmallerThan(t,e){const s=this.getBreakpointByName(t),i=this.getBreakpointByName(e);return s&&i?s.dimension<i.dimension:null}isActiveBreakpointGreaterThan(t){return this.activeBreakpoint?this.isBreakpointGreaterThan(this.activeBreakpoint.name,t):null}isActiveBreakpointSmallerThan(t){return this.activeBreakpoint?this.isBreakpointSmallerThan(this.activeBreakpoint.name,t):null}}class Dc extends cc{constructor(t){let{title:e,message:s,iconUrl:i,delay:n,autoHide:o,animation:r,toastService:a,contextualClass:l,channel:c,$event:h,$context:d}=t;super("toast",e),this.message=s,this.iconUrl=i,this.delay=n,this.autoHide=o,this.animation=r,this.toastService=a,this.contextualClass=l,this.channel=c,this.$event=h,this.$context=d}}const Lc="bs.toast",Oc=".bs.toast";class xc extends Ql.FN{static get DATA_KEY(){return Lc}static get EVENT_KEY(){return Oc}}(0,P.Z)(xc,"NAME","toast"),(0,P.Z)(xc,"EVENT_CLICK_DISMISS","click.dismiss.bs.toast"),(0,P.Z)(xc,"EVENT_HIDE","hide.bs.toast"),(0,P.Z)(xc,"EVENT_HIDDEN","hidden.bs.toast"),(0,P.Z)(xc,"EVENT_SHOW","show.bs.toast"),(0,P.Z)(xc,"EVENT_SHOWN","shown.bs.toast"),(0,P.Z)(xc,"CLASS_NAME_FADE","fade"),(0,P.Z)(xc,"CLASS_NAME_HIDE","hide"),(0,P.Z)(xc,"CLASS_NAME_SHOW","show"),(0,P.Z)(xc,"CLASS_NAME_SHOWING","showing");const Pc={name:"bs5-collapse-on-url",bind(t){this.customData={dispatcher:it.getInstance("main"),collapseService:new tc(t,{toggle:!1})}},unbind(){this.customData.checkURL&&this.customData.dispatcher.off("newPageReady",this.customData.checkURL)},routine(t,e){this.customData.checkURL&&this.customData.dispatcher.off("newPageReady",this.customData.checkURL),this.customData.checkURL=()=>!(!e||!Yt(e))&&(this.customData.collapseService.hide(),!0),this.customData.dispatcher.on("newPageReady",this.customData.checkURL)}},Ic={name:"bs5-toggle-collapse-on-*",bind(t){if(this.customData={targets:new Map,onEvent(t){t.preventDefault();for(const t of this.targets.values())t.toggle()}},this.customData.onEvent=this.customData.onEvent.bind(this.customData),null===this.args)throw new Error("args is null");const e=this.args[0];t.addEventListener(e,this.customData.onEvent)},unbind(){const t=this.args[0];this.el.removeEventListener(t,this.customData.onEvent)},routine(t,e){const s=Array.from(document.querySelectorAll(e));s.length<=0&&console.warn(`[toggleCollapseOnEventBinder] No element with selector "${e}" found.`);for(const t of this.customData.targets.keys())s.find((e=>e===t))||(this.customData.targets.get(t).dispose(),this.customData.targets.delete(t));for(const t of s)this.customData.targets.has(t)||this.customData.targets.set(t,new tc(t,{toggle:!1}))}},Nc={name:"bs5-dropdown",bind(t){this.customData={toggler:(t.classList.contains("dropdown-toggle")?t:t.querySelector(".dropdown-toggle"))||t}},routine(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.customData.dropdownService){this.customData.dropdownService.dispose(),this.customData.toggler.dataset.bsToggle=""}const s=new lc(this.customData.toggler,e);this.customData.toggler.dataset.bsToggle="dropdown",this.customData.dropdownService=s}},Bc={name:"bs5-expand-on-url",routine(t,e){const s=new tc(t,{toggle:!1}),i=new it("main"),n=t=>t&&Yt(t)?(s.show(),!0):(s.hide(),!1);i.on("newPageReady",(()=>n(e))),n(e)}};function Zc(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Mc(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Zc(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Zc(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Rc={name:"bs5-popover",block:!1,routine(t,e){let s={};"string"==typeof e?s.content=e:"object"==typeof e&&(s=Mc({},e)),s.placement=s.placement||"auto";const i=new gc(t,Mc(Mc({},gc.Default),s));this.customData.popover&&this.customData.popover.dispose(),this.customData.popover=i;const n=["show","hide","toggle","dispose","enable","disable","update"];if(this.customData.listeners)for(const[t,e]of Object.entries(this.customData.listeners))this.el.removeEventListener(t,e);this.customData.listeners=Object.create(null);for(const t of n)if(i[t]&&"function"==typeof i[t]){const e=`trigger-${String(t)}`,s=i[t].bind(i);this.el.addEventListener(e,s),this.customData.listeners[e]=s}else console.warn("Unknown method "+t)},bind(t){t.dispatchEvent(new CustomEvent("bound.bs.popover",{bubbles:!0,cancelable:!0}))},unbind(){if(this.customData.popover&&this.customData.popover.dispose(),this.customData.listeners)for(const[t,e]of Object.entries(this.customData.listeners))this.el.removeEventListener(t,e)}},Hc={name:"show-toast-on-*",bind(t){this.customData={onEvent(t){console.debug("[show-toast-on-*] event.detail:",t.detail),this.customData.toastData.$event=t,this.customData.toastData.$context=this.view.models,console.debug(this.customData.toastData);const e=new Dc(this.customData.toastData);new it(e.channel||"toast").trigger("show-notification",e)}};const e=this.args[0];this.customData.onEvent=this.customData.onEvent.bind(this),t.addEventListener(e,this.customData.onEvent)},routine(t,e){if(null===this.args)throw new Error("args is null");this.customData.toastData=e},unbind(t){const e=this.args[0];t.removeEventListener(e,this.customData.onEvent)}},jc={name:"bs5-scrollspy-*",bind(t){this.customData={onScroll:function(){const e=this.customData.target,s=this.customData.className;this.customData.target&&(this.customData.isInViewport(e)?(t.classList.add(s),"radio"===t.type&&(t.checked=!0)):(t.classList.remove(s),"radio"===t.type&&(t.checked=!1)))},isInViewport:function(e){if(!e)return!1;const s=Number(t.dataset.offset||0),i=Number(t.dataset.offsetBottom||0);return Tt(e,s,i)}},this.customData.isInViewport=this.customData.isInViewport.bind(this),this.customData.onScroll=It(this.customData.onScroll.bind(this)),window.addEventListener("scroll",this.customData.onScroll,{passive:!0}),this.customData.onScroll()},routine(t,e){const s=e.replace("#","");this.customData.target=document.getElementById(s),this.customData.className=this.args[0]},unbind(){window.removeEventListener("scroll",this.customData.onScroll)}};var Uc=s(987);const Fc=document.createElement("div");Fc.classList.add("tooltip"),Fc.setAttribute("role","tooltip");const Vc=document.createElement("div");Vc.classList.add("arrow"),Fc.appendChild(Vc);const qc=document.createElement("div");qc.classList.add("tooltip-inner"),Fc.appendChild(qc);const $c={name:"bs5-tooltip",block:!1,bind(t){this.customData.tip=Fc.cloneNode(!0),this.customData.show=()=>{const e=this.el.dataset.placement||"start";this.customData.popper=(0,Uc.fi)(t,this.customData.tip,{placement:e,modifiers:[{name:"flip",options:{altBoundary:!0,behavior:"flip"}},{name:"offset",options:{offset:0}},{name:"arrow",options:{element:".arrow"}},{name:"preventOverflow",options:{boundariesElement:"scrollParent"}}],strategy:void 0}),document.body.appendChild(this.customData.tip),this.customData.tip.classList.add("show"),this.customData.tip.classList.add("bs-tooltip-"+e)},this.customData.hide=()=>{this.customData.tip.classList.remove("show"),this.customData.popper&&this.customData.popper.destroy()},t.addEventListener("mouseenter",this.customData.show),t.addEventListener("mouseleave",this.customData.hide)},routine(t,e){this.customData.tip.querySelector(".tooltip-inner").innerHTML=e},unbind(){this.customData.hide(),this.el.removeEventListener("mouseenter",this.customData.show),this.el.removeEventListener("mouseleave",this.customData.hide)}},zc={name:"scroll-to-on-*",bind(t){this.customData={onEvent:function(e){const s=Number(t.dataset.offset||0),i=t.dataset.scrollElement?document.querySelector(t.dataset.scrollElement):window;this.customData.target&&(Et(this.customData.target,s,i),e.preventDefault())}},this.customData.onEvent=this.customData.onEvent.bind(this);const e=this.args[0];t.addEventListener(e,this.customData.onEvent)},routine(t,e){this.customData.target=document.querySelector(e)},unbind(t){const e=this.args[0];t.removeEventListener(e,this.customData.onEvent)}},Wc={name:"bs5-toggle-attribute-*",toggleButtonEvents:null,state:"off",triggerState(){var t;const e=this.binder||this;null===(t=e.toggleButtonEvents)||void 0===t||t.trigger(Ac.eventNames.state,e.state)},onToggle(){(this.binder||this).toggle.bind(this)(this.el)},toggle(t){const e=this.binder||this;"removed"===e.state?e.add.bind(this)(t):e.remove.bind(this)(t)},remove(t){const e=this.binder||this,s=this.args[0];t.removeAttribute(s),e.state="removed",t.dispatchEvent(new CustomEvent(Tc.elEventNames.removed,{detail:{attributeName:s}})),e.triggerState()},add(t){const e=this.binder||this,s=this.args[0];t.setAttribute(s,s),e.state="added",t.dispatchEvent(new CustomEvent(Tc.elEventNames.added,{detail:{attributeName:s}})),e.triggerState()},bind(t){const e=this.binder||this,s=this.args[0];e.state=t.hasAttribute(s)?"added":"removed"},unbind(){var t,e;const s=this.binder||this;null===(t=s.toggleButtonEvents)||void 0===t||t.off(Ac.eventNames.toggle,s.onToggle,s),null===(e=s.toggleButtonEvents)||void 0===e||e.off(Ac.eventNames.init,s.triggerState,s)},routine(t,e){const s=this.getValue(t),i=this.binder||this;let n=i.toggleButtonEvents;s&&n&&(n.off(Ac.eventNames.toggle,i.onToggle,i),n.off(Ac.eventNames.init,i.triggerState,i)),i.toggleButtonEvents||(i.toggleButtonEvents=new it(Ac.nsPrefix+e),n=i.toggleButtonEvents,n.on(Ac.eventNames.toggle,i.onToggle,i),n.on(Ac.eventNames.init,i.triggerState,i))}},Yc={name:"bs5-toggle-class-*",toggleButtonEvents:null,state:"off",triggerState(){var t;const e=this.binder||this;null===(t=e.toggleButtonEvents)||void 0===t||t.trigger(Ac.eventNames.state,e.state)},onToggle(){(this.binder||this).toggle.bind(this)(this.el)},toggle(t){const e=this.binder||this;"removed"===e.state?e.add.bind(this)(t):e.remove.bind(this)(t)},remove(t){const e=this.binder||this,s=this.args[0];t.classList.remove(s),e.state="removed",t.dispatchEvent(new CustomEvent(kc.elEventNames.removed,{detail:{className:s}})),e.triggerState()},add(t){const e=this.binder||this,s=this.args[0];t.classList.add(s,s),e.state="added",t.dispatchEvent(new CustomEvent(kc.elEventNames.added,{detail:{className:s}})),e.triggerState()},bind(t){const e=this.binder||this,s=this.args[0];e.state=t.classList.contains(s)?"added":"removed"},unbind(){var t,e;const s=this.binder||this;null===(t=s.toggleButtonEvents)||void 0===t||t.off(Ac.eventNames.toggle,s.onToggle,s),null===(e=s.toggleButtonEvents)||void 0===e||e.off(Ac.eventNames.init,s.triggerState,s)},routine(t,e){const s=this.getValue(t),i=this.binder||this;let n=i.toggleButtonEvents;s&&n&&(n.off(Ac.eventNames.toggle,i.onToggle,this),n.off(Ac.eventNames.init,i.triggerState,this)),i.toggleButtonEvents||(i.toggleButtonEvents=new it(Ac.nsPrefix+e),n=i.toggleButtonEvents,n.on(Ac.eventNames.toggle,i.onToggle,this),n.on(Ac.eventNames.init,i.triggerState,this))}};const Gc=Hs.read;class Xc extends Ve{static get observedAttributes(){return["collapse-icon-src","collapse-icon-size","show-only-one"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"templateAttributes",[{name:"title",required:!0},{name:"show",required:!1},{name:"icon-direction",required:!1}]),(0,P.Z)(this,"scope",{items:[],toggle:this.toggle,show:this.show,hide:this.hide,collapseIconSize:16,showOnlyOne:!0})}hide(t,e){const s=this.querySelector(`[data-index="${e}"]`);s&&(this.initItemEventListeners(t,s),new tc(s,{toggle:!1}).hide())}show(t,e){const s=this.querySelector(`[data-index="${e}"]`),i=Array.from(this.querySelectorAll(`[data-index]:not([data-index="${e}"])`));if(i&&this.scope.showOnlyOne)for(const t of i)new tc(t,{toggle:!1}).hide();s&&(this.initItemEventListeners(t,s),new tc(s,{toggle:!1}).show())}toggle(t,e){const s=this.querySelector(`[data-index="${e}"]`),i=Array.from(this.querySelectorAll(`[data-index]:not([data-index="${e}"])`));if(i&&this.scope.showOnlyOne)for(const t of i)new tc(t,{toggle:!1}).hide();s&&(this.initItemEventListeners(t,s),new tc(s,{toggle:!1}).toggle())}initItemEventListeners(t,e){e.removeEventListener(tc.Events.hide,this.onHide.bind(this,e,t)),e.removeEventListener(tc.Events.show,this.onShow.bind(this,e,t)),e.addEventListener(tc.Events.hide,this.onHide.bind(this,e,t),{once:!0}),e.addEventListener(tc.Events.show,this.onShow.bind(this,e,t),{once:!0})}getContentChildByIndex(){return this.querySelector(".card-body > *")||void 0}onShow(t,e){e.show=!0,e.iconDirection="up";const s=this.getContentChildByIndex();s&&this.triggerVisibilityChangedForElement(s,e.show)}onHide(t,e){e.show=!1,e.iconDirection="down";const s=this.getContentChildByIndex();s&&this.triggerVisibilityChangedForElement(s,e.show)}transformTemplateAttributes(t){return t.handle=t.handle||Gc(t.title),t.show=!!t.show,t.iconDirection=t.iconDirection||t.show?"up":"down",t}triggerVisibilityChangedForElement(t,e){setTimeout((()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:e}}))}),200)}connectedCallback(){super.connectedCallback(),this.init(Xc.observedAttributes)}async init(t){return super.init(t).then((t=>t))}async beforeBind(){return await super.beforeBind()}async afterBind(){return await super.afterBind()}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback()}template(){return!bt(this)||this.hasOnlyTemplateChilds()?'<div class="accordion"> <div class="card" rv-each-item="items"> <button type="button" class="btn btn-link card-header d-flex" rv-on-click="toggle | args item %item%" rv-aria-expanded="item.show"> <span class="card-header-text me-auto" rv-html="item.title"></span> <bs5-icon class="ms-auto" rv-show="collapseIconSrc" rv-src="collapseIconSrc" rv-size="collapseIconSize" rv-direction="item.iconDirection"></bs5-icon> </button> <div class="collapse" rv-data-index="%item%"> <div class="card-body" rv-template="item.content"></div> </div> </div> </div> ':null}}(0,P.Z)(Xc,"tagName","bs5-accordion");class Kc extends He{static get observedAttributes(){return["animation-class"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"scope",{animationClass:"btn-animation-start",onClick:this.onClick.bind(this)})}onClick(){this.startAnimation()}connectedCallback(){super.connectedCallback(),this.init(Kc.observedAttributes)}startAnimation(){this.classList.add(this.scope.animationClass)}onStartAnimation(){}onEndAnimation(){setTimeout((()=>{this.classList.remove(this.scope.animationClass)}))}async init(t){return super.init(t).then((t=>(this.onStartAnimation=this.onStartAnimation.bind(this),this.addEventListener("webkitAnimationStart",this.onStartAnimation),this.addEventListener("animationstart",this.onStartAnimation),this.onEndAnimation=this.onEndAnimation.bind(this),this.addEventListener("webkitAnimationEnd",this.onEndAnimation),this.addEventListener("animationend",this.onEndAnimation),this.addEventListener("click",this.scope.onClick),t)))}async beforeBind(){return await super.beforeBind()}async afterBind(){return await super.afterBind()}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("webkitAnimationStart",this.onStartAnimation),this.removeEventListener("animationstart",this.onStartAnimation),this.removeEventListener("webkitAnimationEnd",this.onEndAnimation),this.removeEventListener("animationend",this.onEndAnimation),this.removeEventListener("click",this.scope.onClick)}template(){return null}}(0,P.Z)(Kc,"tagName","bs5-button");class Qc extends He{static get observedAttributes(){return["interval","keyboard","slide","pauseOn","wrap","touch","fade"]}requiredAttributes(){return[]}constructor(){super(),(0,P.Z)(this,"scope",{interval:Jl.Default.interval,keyboard:Jl.Default.keyboard,slide:Jl.Default.slide,pauseOn:Jl.Default.pause||!1,wrap:Jl.Default.wrap,touch:Jl.Default.touch,fade:!1,next:this.next,nextWhenVisible:this.nextWhenVisible,prev:this.prev,pause:this.pause,cycle:this.cycle,to:this.to,dispose:this.dispose}),(0,P.Z)(this,"autobind",!0)}async beforeBind(){await super.beforeBind(),this.classList.add("carousel","slide")}async afterBind(){this.carouselService=new Jl(this,{interval:this.scope.interval,keyboard:this.scope.keyboard,slide:this.scope.slide,pause:this.scope.pauseOn,wrap:this.scope.wrap,touch:this.scope.touch}),this.scope.fade&&this.classList.add("carousel-fade"),this.carouselService.cycle(),await super.afterBind()}next(){this.carouselService&&this.carouselService.next()}nextWhenVisible(){this.carouselService&&this.carouselService.nextWhenVisible()}prev(){this.carouselService&&this.carouselService.prev()}pause(){this.carouselService&&this.carouselService.pause()}cycle(){this.carouselService&&this.carouselService.cycle()}to(){if(this.carouselService)throw new Error("TODO")}dispose(){this.carouselService&&this.carouselService.dispose()}connectedCallback(){super.connectedCallback(),super.init(Qc.observedAttributes)}template(){return null}}(0,P.Z)(Qc,"tagName","bs5-carousel");class Jc{constructor(){(0,P.Z)(this,"events",[])}add(t,e,s){t.addEventListener(e,s,!1),this.events.push({target:t,type:e,handler:s})}remove(t,e,s){this.events=this.events.filter((i=>{let n=!0;return t&&t!==i.target&&(n=!1),e&&e!==i.type&&(n=!1),s&&s!==i.handler&&(n=!1),n&&Jc._doRemove(i.target,i.type,i.handler),!n}))}static _doRemove(t,e,s){t.removeEventListener(e,s,!1)}destroy(){this.events.forEach((t=>Jc._doRemove(t.target,t.type,t.handler))),this.events=[]}}const th=(t,e,s)=>{let i=!1;const n=(t,e,s)=>Math.max(e,Math.min(t,s)),o=(t,o,r)=>{if(r&&(i=!0),!i)return;t.preventDefault();const a=e.getBoundingClientRect(),l=a.width,c=a.height,h=o.clientX,d=o.clientY,u=n(h-a.left,0,l),p=n(d-a.top,0,c);s(u/l,p/c)},r=(t,e)=>{1===(void 0===t.buttons?t.which:t.buttons)?o(t,t,e):i=!1};function a(t,e){1===t.touches.length?o(t,t.touches[0],e):i=!1}t.add(e,"mousedown",(t=>{r(t,!0)})),t.add(e,"touchstart",(t=>{a(t,!0)})),t.add(window,"mousemove",r),t.add(e,"touchmove",a),t.add(window,"mouseup",(()=>{i=!1})),t.add(e,"touchend",(()=>{i=!1})),t.add(e,"touchcancel",(()=>{i=!1}))},eh="keydown";function sh(t){t.preventDefault(),t.stopPropagation()}class ih extends He{static get observedAttributes(){return["namespace","alpha","editor","editor-format","cancel-button","okay-button","color"]}constructor(){super(),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"scope",{namespace:"main",hsl:[],cssHue:"",cssHsl:"",cssHsla:"",alphaBg:"",color:"#0cf",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,okayButton:!1}),(0,P.Z)(this,"events",new Jc),(0,P.Z)(this,"_domH",null),(0,P.Z)(this,"_domSL",null),(0,P.Z)(this,"_domA",null),(0,P.Z)(this,"_domEdit",null),(0,P.Z)(this,"_domSample",null),(0,P.Z)(this,"_domOkay",null),(0,P.Z)(this,"_domCancel",null),(0,P.Z)(this,"setColor",It(this._setColor.bind(this))),(0,P.Z)(this,"updateUI",It(this._updateUI.bind(this)))}connectedCallback(){super.connectedCallback(),super.init(ih.observedAttributes)}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.eventDispatcher=it.getInstance("bs5-colorpicker:"+this.scope.namespace),this.setColor(this.scope.color),this.updateUI(),this.bindEvents()}async afterTemplate(t){await super.afterTemplate(t),this.setElements()}onChange(t){var e;this.debug("onChange",t),null===(e=this.eventDispatcher)||void 0===e||e.trigger("change",t)}onDone(t){var e;this.debug("onDone",t),null===(e=this.eventDispatcher)||void 0===e||e.trigger("done",t)}template(){return bt(this)?null:'<div class="picker-arrow"></div> <div class="picker-hue picker-slider" rv-style-color="cssHsl"> <div class="picker-selector"></div> </div> <div class="picker-sl" rv-style-background-color="cssHue" rv-style-color="cssHsl"> <div class="picker-selector"></div> </div> <div class="picker-alpha picker-slider" rv-show="alpha" rv-style-background-image="alphaBg"> <div class="picker-selector"></div> </div> <input class="picker-editor form-control" rv-show="editor" aria-label="Type a color name or hex value" rv-value="color"/> <div class="picker-sample" rv-style-color="cssHsla"></div> <button class="btn btn-success picker-done" rv-show="okayButton">Ok</button> <button class="btn btn-danger picker-cancel" rv-show="cancelButton">Cancel</button> '}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"color"===t&&this.setColor(this.scope.color)}_setColor(t){let e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{silent:!1};if("string"==typeof t&&(t=t.trim()),t){s=s||{};try{e=new Ua.Z(t)}catch(t){if(s.failSilently)return;throw t}if(!this.scope.alpha){const t=e.hsla;t[3]=1,e.hsla=t}this.color=e,this.setHSLA(null,null,null,null,s)}}setElements(){this._domH=this.querySelector(".picker-hue"),this._domSL=this.querySelector(".picker-sl"),this._domA=this.querySelector(".picker-alpha"),this._domEdit=this.querySelector(".picker-editor")||null,this._domSample=this.querySelector(".picker-sample"),this._domOkay=this.querySelector(".picker-done"),this._domCancel=this.querySelector(".picker-cancel")}disconnectedCallback(){this.events.destroy()}bindEvents(){const t=this.events,e=(e,s,i)=>{t.add(e,s,i)};e(this,"click",(t=>t.preventDefault()));const s=th.bind(this);if(!(this._domH&&this._domSL&&this._domA&&this._domEdit&&this._domOkay))throw new Error("Not ready!");s(t,this._domH,(t=>this.setHSLA(t))),s(t,this._domSL,((t,e)=>this.setHSLA(null,t,1-e))),this.scope.alpha&&s(t,this._domA,((t,e)=>this.setHSLA(null,null,null,1-e))),e(this._domEdit,"input",(t=>{const e=t.target;this.setColor(e.value,{fromEditor:!0,failSilently:!0})})),e(this._domEdit,"focus",(t=>{const e=t.target;e.selectionStart===e.selectionEnd&&e.select()}));const i=()=>{this.onDone(this.color)};e(this._domOkay,"click",i),function(t,e,s,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t.add(e,eh,(function(t){s.indexOf(t.key)>=0&&(n&&sh(t),i(t))}))}(t,this,["Enter"],i)}setHSLA(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!this.color)throw new Error("Not ready!");const o=this.color.hsla;[t,e,s,i].forEach(((t,e)=>{(t||0===t)&&(o[e]=t)})),this.color.hsla=o,this.updateUI(n),this.onChange&&!n.silent&&this.onChange(this.color)}_updateUI(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this||!this.color)return;if(this.scope.hsl=this.color.hsla,this.scope.cssHue=`hsl(${360*this.scope.hsl[0]}, 100%, 50%)`,this.scope.cssHsl=this.color.hslString,this.scope.cssHsla=this.color.hslaString,!this._domH||!this._domSL||!this._domA)throw new Error("Color ui elements not found!");const e=this._domH.querySelector(".picker-selector"),s=this._domSL.querySelector(".picker-selector"),i=this._domA.querySelector(".picker-selector");if(!(e&&s&&i&&this._domEdit&&this._domSample))throw console.error(e,s,i,this._domA,this._domSL,this._domH,this._domEdit,this._domSample),new Error("Not ready!");const n=(t,e,s)=>{e.style.left=100*s+"%"},o=(t,e,s)=>{e.style.top=100*s+"%"};n(this._domH,e,this.scope.hsl[0]),n(this._domSL,s,this.scope.hsl[1]),o(this._domSL,s,1-this.scope.hsl[2]),o(this._domA,i,1-this.scope.hsl[3]);const r=this.scope.cssHsl,a=r.replace("hsl","hsla").replace(")",", 0)"),l=`linear-gradient(${[r,a]})`;if(this.scope.alphaBg=l+", url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",!t.fromEditor){const t=this.scope.editorFormat,e=this.scope.alpha;let s;switch(t){case"rgb":s=this.color.printRGB(e);break;case"hsl":s=this.color.printHSL(e);break;default:s=this.color.printHex(e)}this.scope.color=s}}}(0,P.Z)(ih,"tagName","bs5-colorpicker");class nh extends He{static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","scroll-offset","scroll-element"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,scrollOffset:0,anchors:[]})}connectedCallback(){super.connectedCallback(),this.init(nh.observedAttributes)}getIdFromElementOrParent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.id?t.id:e<=this.scope.findHeaderIdDepth&&t.parentElement?this.getIdFromElementOrParent(t.parentElement,++e):null}pushHeaders(t,e,s,i){t.querySelectorAll("h"+e).forEach((t=>{const n=this.getIdFromElementOrParent(t);n&&(i.push({element:t,href:"#"+n,title:t.innerHTML,childs:[]}),t.parentElement&&s>=e+1&&this.pushHeaders(t.parentElement,e+1,s,i[i.length-1].childs))}))}async afterBind(){if(this.scope.headerParentSelector&&this.scope.headersStart&&this.scope.headersDepth){if(this.wrapperElement=document.querySelector(this.scope.headerParentSelector)||void 0,this.scope.anchors=[],!this.wrapperElement)return void console.error("No wrapper element found!");this.pushHeaders(this.wrapperElement,this.scope.headersStart,this.scope.headersDepth,this.scope.anchors)}await super.afterBind()}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}async attributeChangedCallback(t,e,s,i){super.attributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback(),this.scope.anchors=[]}template(){return bt(this)?null:'<ul class="list-unstyled list-contents list-contents-level-1"> <li class="nav-item nav-item-level-1" rv-each-anachor="anchors"> <a class="nav-link p-0" rv-href="anachor.href" rv-html="anachor.title" rv-scroll-to-on-click="anachor.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="anachor.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-2"> <li class="nav-item nav-item-level-2" rv-each-child="anachor.childs"> <a class="nav-link p-0" rv-href="child.href" rv-html="child.title" rv-scroll-to-on-click="child.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="child.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-3"> <li class="nav-item nav-item-level-3" rv-each-childchild="child.childs"> <a class="nav-link p-0" rv-href="childchild.href" rv-html="childchild.title" rv-scroll-to-on-click="childchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-4"> <li class="nav-item nav-item-level-4" rv-each-childchildchild="childchild.childs"> <a class="nav-link p-0" rv-href="childchildchild.href" rv-html="childchildchild.title" rv-scroll-to-on-click="childchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-5"> <li class="nav-item nav-item-level-5" rv-each-childchildchildchild="childchildchild.childs"> <a class="nav-link p-0" rv-href="childchildchildchild.href" rv-html="childchildchildchild.title" rv-scroll-to-on-click="childchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchildchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-6"> <li class="nav-item nav-item-level-6" rv-each-childchildchildchildchild="childchildchildchild.childs"> <a class="nav-link p-0" rv-href="childchildchildchildchild.href" rv-html="childchildchildchildchild.title" rv-scroll-to-on-click="childchildchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul>'}}(0,P.Z)(nh,"tagName","bs5-contents");class oh extends Re{static get observedAttributes(){return["size","width","height","src","color","direction"]}constructor(){super(),(0,P.Z)(this,"scope",{})}getSvg(){return this.querySelector("svg")}async fetchCached(t){let e=oh.cache.get(t);return e||(e=lt.get(t),e&&oh.cache.set(t,e),e)}async fetchIcon(t){var e,s;let i;if(null===(e=window)||void 0===e||!e.ssr||t.startsWith("http")||t.startsWith("ftp")||t.startsWith("sftp"))i=await this.fetchCached(t);else{let e;if(window.ssr.env.NEST_INTERN_URL)e=new URL(t,window.ssr.env.NEST_INTERN_URL);else{if(!window.ssr.ctx)throw new Error("Host for SSR not found!");e=new URL(t,window.ssr.ctx.protocol+"://"+window.ssr.ctx.hostname)}i=await this.fetchCached(e.href)}return 200!==i.status?(console.error(i.status),""):null!==(s=i.headers.get("content-type"))&&void 0!==s&&-1!==s.indexOf("image/svg+xml")?i.body:(console.error("[bs5-icon] Only SVG's are supported! But content-type is "+i.headers.get("content-type")),"")}async onSrcChanged(){let t="";if(!this.scope.src)return void(this.innerHTML="");const e=this.getSvg();if((e?e.getAttribute("src"):"")===this.scope.src)return;if(t=await this.fetchIcon(this.scope.src),!t)return void console.error("Error on fetch icon!");this.innerHTML=t;const s=this.getSvg();s&&s.setAttribute("src",this.scope.src)}setColor(t){if(-1!==t.indexOf(",")){const e=t.split(",");if(e.length>0){this.className=this.className.replace(/(^|\s)color-\S+/g,"");for(let t=0;t<e.length;t++){const s=e[t];(s.startsWith("#")||s.startsWith("rgb"))&&(this.style.color=s),this.classList.add(`color-${s}`)}}}else this.style.color=t,this.className=this.className.replace(/(^|\s)color-\S+/g,""),this.classList.add(`color-${t}`)}setSize(t){this.style.height=t+"px",this.style.width=t+"px",this.className=this.className.replace(/(^|\s)size-\S+/g,""),this.classList.add(`size-${t}`)}setWidth(t){this.style.width=t+"px",this.className=this.className.replace(/(^|\s)width-\S+/g,""),this.classList.add(`width-${t}`)}setHeight(t){this.style.height=t+"px",this.className=this.className.replace(/(^|\s)height-\S+/g,""),this.classList.add(`height-${t}`)}setDirection(t){let e=`direction-${t}`;"left"===t?e+=" rotate-270":"left-top"===t||"left-up"===t||"top-left"===t||"up-left"===t?e+=" rotate-315":"top"===t||"up"===t?e+=" rotate-0":"top-right"===t||"up-right"===t||"right-top"===t||"right-up"===t?e+=" rotate-45":"right"===t?e+=" rotate-90":"right-bottom"===t||"right-down"===t||"bottom-right"===t||"down-right"===t?e+=" rotate-135":"bottom"===t||"down"===t?e+=" rotate-180":"left-bottom"!==t&&"left-down"!==t&&"bottom-left"!==t&&"down-left"!==t||(e+=" rotate-225"),this.className=this.className.replace(/(^|\s)direction-\S+/g,""),this.className=this.className.replace(/(^|\s)rotate-\S+/g,""),this.className+=" "+e}async attributeChangedCallback(t,e,s,i){super.attributeChangedCallback(t,e,s,i),"src"===t&&this.onSrcChanged(),"color"===t&&this.setColor(s),"size"===t&&this.setSize(s),"width"===t&&this.setWidth(s),"height"===t&&this.setHeight(s),"direction"===t&&this.setDirection(s)}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true"),this.setAttribute("role","img"),this.classList.add("iconset"),this.init(oh.observedAttributes),this.scope.direction||(this.scope.direction="up",this.attributeChangedCallback("direction",null,this.scope.direction,null))}template(){return null}}(0,P.Z)(oh,"tagName","bs5-icon"),(0,P.Z)(oh,"cache",new Ti);class rh extends nh{static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","offset","offset-bottom","scroll-offset"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,offset:0,offsetBottom:0,scrollOffset:0,anchors:[]})}connectedCallback(){super.connectedCallback(),this.init(rh.observedAttributes)}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}template(){return bt(this)?null:'<ul class="list-unstyled list-scrollspy list-scrollspy-level-1"> <li class="nav-item nav-item-level-1" rv-each-anachor="anchors" rv-bs5-scrollspy-active="anachor.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link" rv-href="anachor.href" rv-html="anachor.title" rv-scroll-to-on-click="anachor.href" rv-data-offset="scrollOffset"></a> <ul rv-if="anachor.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-2"> <li class="nav-item nav-item-level-2" rv-each-child="anachor.childs" rv-bs5-scrollspy-active="child.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link" rv-href="child.href" rv-html="child.title" rv-scroll-to-on-click="child.href" rv-data-offset="scrollOffset"></a> <ul rv-if="child.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-3"> <li class="nav-item nav-item-level-3" rv-each-childchild="child.childs" rv-bs5-scrollspy-active="childchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchild.href" rv-html="childchild.title" rv-scroll-to-on-click="childchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-4"> <li class="nav-item nav-item-level-4" rv-each-childchildchild="childchild.childs" rv-bs5-scrollspy-active="childchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchild.href" rv-html="childchildchild.title" rv-scroll-to-on-click="childchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-5"> <li class="nav-item nav-item-level-5" rv-each-childchildchildchild="childchildchild.childs" rv-bs5-scrollspy-active="childchildchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchildchild.href" rv-html="childchildchildchild.title" rv-scroll-to-on-click="childchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchildchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-6"> <li class="nav-item nav-item-level-6" rv-each-childchildchildchildchild="childchildchildchild.childs" rv-bs5-scrollspy-active="childchildchildchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchildchildchild.href" rv-html="childchildchildchildchild.title" rv-scroll-to-on-click="childchildchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul>'}}(0,P.Z)(rh,"tagName","bs5-scrollspy");class ah extends He{static get observedAttributes(){return["type","title","text","url","media-url","filename","label","dropdown-direction","label-facebook","label-twitter","label-pinterest","label-whatsapp","label-telegram","label-email","label-download","label-clipboard"]}constructor(){super(),(0,P.Z)(this,"_debug",!1),this.scope=this.getScopeDefaults(),ah.count++,this.onExternalOpenEvent=this.onExternalOpenEvent.bind(this),this.onExternalCloseEvent=this.onExternalCloseEvent.bind(this)}getFilename(t){if(t.filename)return t.filename;return this.getMediaUrlForShare().split("/").pop()}getDefaultShareServices(){return[{id:"facebook",label:this.scope.labelFacebook,urlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{url}}",mediaUrlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{media_url}}",type:"popup",url:"",availableFor:["page","image","video"]},{id:"twitter",label:this.scope.labelTwitter,urlTemplate:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}",mediaUrlTemplate:"https://twitter.com/intent/tweet?text={{text}}&url={{media_url}}%0A({{url}})",url:"",availableFor:["page","image","video"]},{id:"pinterest",label:this.scope.labelPinterest,urlTemplate:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{media_url}}&description={{text}}",type:"popup",url:"",availableFor:["image","video"]},{id:"whatsapp",label:this.scope.labelWhatsapp,urlTemplate:"https://api.whatsapp.com/send?text={{text}}%0A%0A{{url}}",mediaUrlTemplate:"https://api.whatsapp.com/send?text={{text}}%0A%0A{{media_url}}%0A({{url}})",type:"popup",url:"",availableFor:["page","image","video"]},{id:"telegram",label:this.scope.labelTelegram,urlTemplate:"https://telegram.me/share/url?url={{url}}&text={{text}}",mediaUrlTemplate:"https://telegram.me/share/url?url={{media_url}}&text={{text}}%0A({{url}})",type:"popup",url:"",availableFor:["page","image","video"]},{id:"email",label:this.scope.labelEmail,urlTemplate:"mailto:?subject={{title}}&body={{text}}%0A%0A{{url}}",mediaUrlTemplate:"mailto:?subject={{title}}&body={{text}}%0A%0A{{media_url}}%0A({{url}})",type:"href",url:"",availableFor:["page","image","video"]},{id:"download",label:this.scope.labelDownload,urlTemplate:"{{raw_media_url}}",type:"download",url:"",availableFor:["image","video"],filename:this.scope.filename},{id:"clipboard",label:this.scope.labelClipboard,urlTemplate:"{{url}}",mediaUrlTemplate:"{{media_url}}",type:"clipboard",url:"",availableFor:["page","image","video"]}]}isIos(){return null!==navigator.userAgent.match(/iPhone|iPad|iPod/i)}isAndroid(){return null!==navigator.userAgent.match(/Android/i)}browserSupportsNativeShare(){return"function"==typeof navigator.share}getScopeDefaults(){const t={type:"page",title:document.title,text:"Look at this! 👀🤩",url:void 0,label:"Share",labelTemplate:'<div class="share-label" rv-on-click="share" role="button" aria-haspopup="true" aria-expanded="false" rv-text="label"></div> ',isAndroid:this.isAndroid(),isIos:this.isIos(),isDesktop:!1,isNative:this.browserSupportsNativeShare(),dropdownId:"dropdownShare"+ah.count,shareItems:[],dropdownDirection:"down",labelFacebook:"Facebook",labelTwitter:"Twitter",labelPinterest:"Pinterest",labelWhatsapp:"Whatsapp",labelTelegram:"Telegram",labelEmail:"Email",labelDownload:"Download",labelClipboard:"Copy to clipboard",share:this.share,shareOnService:this.shareOnService,getFilename:this.getFilename};return t.isDesktop=!t.isIos&&!t.isAndroid,t}onExternalOpenEvent(){var t;null===(t=this.dropdown)||void 0===t||t.show()}onExternalCloseEvent(){var t;null===(t=this.dropdown)||void 0===t||t.hide()}connectedCallback(){super.connectedCallback(),this.init(ah.observedAttributes),this.addEventListeners()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListeners()}addEventListeners(){this.addEventListener("open",this.onExternalOpenEvent),this.addEventListener("btn-close",this.onExternalCloseEvent)}removeEventListeners(){this.removeEventListener("open",this.onExternalOpenEvent),this.removeEventListener("btn-close",this.onExternalOpenEvent)}getURLForShare(){return"page"===this.scope.type&&this.scope.url?Wt(this.scope.url):window.location.href}getMediaUrlForShare(){return"page"!==this.scope.type&&this.scope.url?Wt(this.scope.url):""}getTextForShare(){return z(this.scope.text)}getTitleForShare(){return z(this.scope.title)}updateShareURLs(){for(const t of this.scope.shareItems){const e=this.getURLForShare(),s=this.getMediaUrlForShare(),i=this.getTextForShare(),n=this.getTitleForShare();let o=t.urlTemplate;"page"!==this.scope.type&&t.mediaUrlTemplate&&(o=t.mediaUrlTemplate);const r="clipboard"!==t.type,a=o.replace("{{url}}",r?encodeURIComponent(e):e).replace("{{media_url}}",r?encodeURIComponent(s):s).replace("{{raw_media_url}}",s).replace("{{text}}",r?encodeURIComponent(i):i).replace("{{title}}",r?encodeURIComponent(n):n);t.available=-1!==t.availableFor.indexOf(this.scope.type),t.url=a}}initDropdown(){const t=this.querySelector(".dropdown-toggle-share");t?this.dropdown=new lc(t):console.warn('Element with selector ".dropdown-toggle-share" not found!',this)}async shareOnService(t,e){var s;return console.debug("shareOnService",t),null===(s=this.dropdown)||void 0===s||s.hide(),"clipboard"===t.type?(e.preventDefault(),e.stopPropagation(),await Ft(t.url),!1):"download"===t.type||(e.preventDefault(),e.stopPropagation(),window.open(t.url,"Share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),!1)}async share(t){var e;if(this.debug("share",this.scope),t.preventDefault(),t.stopPropagation(),!this.scope.isNative||this.scope.isDesktop)return this.updateShareURLs(),null===(e=this.dropdown)||void 0===e?void 0:e.toggle();try{await navigator.share({title:this.scope.title,text:`${this.scope.text}\r\n\r\n`,url:this.scope.url||window.location.href})}catch(t){if("AbortError"===t.name)return;console.error(`Error ${t.name}: ${t.message}`,t)}}async beforeBind(){await super.beforeBind()}async afterBind(){this.initDropdown(),this.debug("afterBind",this.scope),this.scope.shareItems=this.getDefaultShareServices(),await super.afterBind()}requiredAttributes(){return[]}template(){return this&&bt(this)&&(this.scope.labelTemplate=this.innerHTML),'<div rv-add-class="\'drop\' | append dropdownDirection"> <div class="dropdown-toggle dropdown-toggle-share" rv-id="dropdownId" rv-template="labelTemplate"></div> <div class="dropdown-menu" rv-aria-labelledby="dropdownId"> <div rv-each-item="shareItems" rv-show="item.available" rv-on-click="shareOnService | args item"> <a rv-if="item.type | eq \'download\'" class="dropdown-item no-barba cursor-pointer" rv-type="item.type" target="_blank" rv-download="getFilename | call item" rv-href="item.url" rv-html="item.label"> </a> <div class="dropdown-item cursor-pointer" rv-unless="item.type | eq \'download\'" rv-type="item.type" rv-html="item.label"></div> </div> </div> </div>'}}(0,P.Z)(ah,"tagName","bs5-share"),(0,P.Z)(ah,"count",0);class lh extends He{static get observedAttributes(){return["id","container-selector","position","mode","width","auto-show-on-wider-than","auto-hide-on-slimmer-than","force-hide-on-location-pathnames","force-show-on-location-pathnames","mode-on-slimmer-than","watch-new-page-ready-event","close-on-swipe"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"touch",new yl(this)),(0,P.Z)(this,"routerEvents",new it("main")),(0,P.Z)(this,"scope",{containerSelector:void 0,state:"hidden",oldState:"hidden",id:void 0,width:"250px",position:"left",mode:"overlap",autoShowOnWiderThan:-1,autoHideOnSlimmerThan:-1,watchNewPageReadyEvent:!0,forceHideOnLocationPathnames:[],forceShowOnLocationPathnames:[],modeOnSlimmerThan:-1,closeOnSwipe:!0,hide:this.hide,show:this.show,toggle:this.toggle}),(0,P.Z)(this,"onSwipe",this._onSwipe.bind(this)),(0,P.Z)(this,"onEnvironmentChanges",It(this._onEnvironmentChanges.bind(this))),this.bs5=_c.getSingleton();const t=this.bs5.getBreakpointByName("xl");this.scope.autoShowOnWiderThan=t?t.dimension-1:-1,this.scope.autoHideOnSlimmerThan=t?t.dimension-1:-1,this.scope.modeOnSlimmerThan=t?t.dimension-1:-1,this.onEnvironmentChanges=this.onEnvironmentChanges.bind(this)}setState(t){this.scope.oldState=this.scope.state,this.scope.state=t,this.onStateChange()}getState(){return this.scope.state}modeIsActive(){return At().w<this.scope.modeOnSlimmerThan}getShowMode(){let t;return t=this.modeIsActive()?`${this.scope.mode}-${this.scope.position}`:`side-${this.scope.position}`,t}hide(){this.modeIsActive()&&this.setState("hidden")}show(){const t=this.getShowMode();this.setState(t)}toggle(){"hidden"===this.scope.state?this.show():this.hide()}connectedCallback(){super.connectedCallback(),this.init(lh.observedAttributes),this.computedStyle=window.getComputedStyle(this),this.addEventListeners(),this.onEnvironmentChanges()}addEventListeners(){window.addEventListener("resize",this.onEnvironmentChanges,{passive:!0}),this.addEventListener("swipe",this.onSwipe)}removeEventListeners(){var t,e;null===(t=this.events)||void 0===t||t.off(Ac.eventNames.init,this.triggerState,this),null===(e=this.events)||void 0===e||e.off(Ac.eventNames.toggle,this.toggle,this),this.routerEvents.off("newPageReady",this.onEnvironmentChanges,this),window.removeEventListener("resize",this.onEnvironmentChanges)}initToggleButtonEventDispatcher(){this.events&&(this.events.off(Ac.eventNames.toggle,this.toggle,this),this.events.off(Ac.eventNames.init,this.triggerState,this)),this.events=new it(Ac.nsPrefix+this.scope.id),this.events.on(Ac.eventNames.toggle,this.toggle,this),this.events.on(Ac.eventNames.init,this.triggerState,this)}initRouterEventDispatcher(){this.scope.watchNewPageReadyEvent&&this.routerEvents.on("newPageReady",this.onEnvironmentChanges,this)}_onSwipe(t){this.scope.closeOnSwipe&&"side-left"!==this.scope.state&&"side-right"!==this.scope.state&&("left"===this.scope.position&&"left"===t.detail.direction&&this.hide(),"right"===this.scope.position&&"right"===t.detail.direction&&this.hide())}onHidden(){this.setContainersStyle(this.scope.state);const t="left"===this.scope.position?"-100%":"100%";this.style.transform=`translateX(${t})`,this.style.width=this.scope.width}onMove(t){this.setContainersStyle(t),this.style.transform="translateX(0)",this.style.width=this.scope.width}onSide(t){this.setContainersStyle(t),this.style.transform="translateX(0)",this.style.width=this.scope.width}onOverlay(t){this.setContainersStyle(t),this.style.transform="translateX(0)",this.style.width=this.scope.width}triggerState(){var t;null===(t=this.events)||void 0===t||t.trigger("state",this.scope.state)}onStateChange(){switch(this.scope.state){case"side-left":case"side-right":this.onSide(this.scope.state);break;case"overlay-left":case"overlay-right":this.onOverlay(this.scope.state);break;case"move-left":case"move-right":this.onMove(this.scope.state);break;default:this.onHidden()}this.events&&this.events.trigger(Ac.eventNames.toggled,this.scope.state),this.dispatchEvent(new CustomEvent(Ac.eventNames.toggled,{detail:this.scope.state}))}get width(){return this.offsetWidth?this.offsetWidth+"px":this.scope.width}setStateByEnvironment(){if(-1!==this.scope.forceHideOnLocationPathnames.indexOf(window.location.pathname))return this.hide();if(-1!==this.scope.forceShowOnLocationPathnames.indexOf(window.location.pathname))return this.show();const t=At().w;return this.scope.autoHideOnSlimmerThan>-1&&t<this.scope.autoHideOnSlimmerThan?this.hide():this.scope.autoShowOnWiderThan>-1&&t>this.scope.autoShowOnWiderThan?this.show():void 0}_onEnvironmentChanges(){this.setStateByEnvironment()}getContainers(){return this.scope.containerSelector?document.querySelectorAll(this.scope.containerSelector):void 0}initContainers(t){this.setContainersStyle(t)}setContainersStyle(t){const e=this.getContainers()||[];if(e)for(let s=0;s<e.length;s++){const i=e[s];this.setContainerStyle(i,t)}}setContainerStyle(t,e){const s=t.style;if(e){const i=this.width,n=window.getComputedStyle(t);if("move"===this.scope.mode&&e.startsWith("overlay-"))switch(n.position){case"fixed":case"absolute":s.left="0",s.right="0";break;default:s.marginLeft="0",s.marginRight="0"}switch(e){case"side-left":switch(n.position){case"fixed":case"absolute":s.left=i;break;default:s.marginLeft=i}break;case"side-right":switch(n.position){case"fixed":case"absolute":s.right=i;break;default:s.marginRight=i}break;case"move-left":switch(n.position){case"fixed":case"absolute":s.left=i,s.right=`-${i}`;break;default:s.marginLeft=i,s.marginRight=`-${i}`}break;case"move-right":switch(n.position){case"fixed":case"absolute":s.right=i,s.left=`-${i}`;break;default:s.marginRight=i,s.marginLeft=`-${i}`}break;case"hidden":switch(this.scope.oldState){case"side-left":switch(n.position){case"fixed":case"absolute":s.left="0";break;default:s.marginLeft="0"}break;case"side-right":switch(n.position){case"fixed":case"absolute":s.right="0";break;default:s.marginRight="0"}break;case"move-left":switch(n.position){case"fixed":case"absolute":s.left="0",s.right="0";break;default:s.marginRight="0",s.marginLeft="0"}break;case"move-right":switch(n.position){case"fixed":case"absolute":s.right="0",s.left="0";break;default:s.marginRight="0",s.marginLeft="0"}}}}t.style.transition=this.computedStyle?this.computedStyle.transition:""}async beforeBind(){return await super.beforeBind(),this.scope.oldState=this.getShowMode(),this.initRouterEventDispatcher(),this.onEnvironmentChanges()}async afterBind(){this.onEnvironmentChanges(),await super.afterBind()}requiredAttributes(){return["id"]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"containerSelector"===t&&this.initContainers(this.scope.state),"id"===t&&this.initToggleButtonEventDispatcher()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListeners()}template(){return bt(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}}(0,P.Z)(lh,"tagName","bs5-sidebar");function ch(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function hh(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ch(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ch(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const dh=".slideshow-row";class uh extends Ve{get slideshowInner(){return this.querySelector(dh)}get slideElements(){return this.querySelectorAll(".slideshow-row .slide")}get controlsElements(){return this.querySelectorAll(".slideshow-control-prev, .slideshow-control-next")}get indicatorsElement(){return this.querySelector(".slideshow-indicators")}static get observedAttributes(){const t=_c.getSingleton().breakpointNames,e=[];for(const s of t)e.push(...this.responsiveAttributes.map((t=>`${s}-${t}`)));return["items",...e]}static get responsiveProperties(){return this.responsiveAttributes.map((t=>W(t)))}getDefaultBreakpointOptions(){return G(!0,this._defaultBreakpointOptions)}constructor(){super(),(0,P.Z)(this,"_defaultBreakpointOptions",{slidesToScroll:1,controls:!0,controlsPosition:"inside-middle",pauseOnHover:!0,sticky:!1,indicators:!0,indicatorsPosition:"inside-bottom",pause:!1,drag:!0,touchScroll:!0,autoplay:!1,autoplayInterval:0,autoplayVelocity:.8,controlPrevIconSrc:"",controlNextIconSrc:"",indicatorActiveIconSrc:"",indicatorInactiveIconSrc:"",angle:"horizontal",breakpoint:0,name:"xs",infinite:!0}),(0,P.Z)(this,"templateAttributes",[{name:"class",required:!1},{name:"handle",required:!1},{name:"type",required:!0},{name:"active",type:"boolean",required:!1},{name:"index",type:"number",required:!1},{name:"src",type:"string",required:!1}]),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"templateControls",'<button rv-show="activeBreakpoint.controls" class="btn btn-link slideshow-controls slideshow-control-prev" rv-add-class="controlsPositionClass" role="button" data-slide="prev" rv-on-click="prev"> <bs5-icon rv-if="activeBreakpoint.controlPrevIconSrc" rv-src="activeBreakpoint.controlPrevIconSrc" direction="left" size="24"></bs5-icon> <span rv-hide="activeBreakpoint.controlPrevIconSrc" class="btn btn-link slideshow-control-fallback-prev-icon" aria-hidden="true"></span> <span class="visually-hidden">Previous</span> </button> <button rv-show="activeBreakpoint.controls" class="btn btn-link slideshow-controls slideshow-control-next" rv-add-class="controlsPositionClass" role="button" data-slide="next" rv-on-click="next"> <bs5-icon rv-if="activeBreakpoint.controlNextIconSrc" rv-src="activeBreakpoint.controlNextIconSrc" direction="right" size="24"></bs5-icon> <span rv-hide="activeBreakpoint.controlNextIconSrc" class="slideshow-control-fallback-next-icon" aria-hidden="true"></span> <span class="visually-hidden">Next</span> </button> '),(0,P.Z)(this,"templateIndicators",'<ol rv-if="activeBreakpoint.indicators" class="slideshow-indicators" rv-add-class="indicatorsPositionClass"> <li rv-each-slide="items" rv-class-active="slide.active" rv-on-click="goTo | args slide.index"> <bs5-icon rv-hide="slide.active" rv-src="activeBreakpoint.indicatorInactiveIconSrc" size="16"></bs5-icon> <bs5-icon rv-show="slide.active" rv-src="activeBreakpoint.indicatorActiveIconSrc" size="16"></bs5-icon> </li> </ol> '),(0,P.Z)(this,"autoplayIntervalIndex",null),(0,P.Z)(this,"continuousAutoplayIntervalIndex",null),(0,P.Z)(this,"resumeTimer",null),(0,P.Z)(this,"routerEvents",new it("main")),(0,P.Z)(this,"activeBreakpointName","xs"),(0,P.Z)(this,"scope",{breakpoints:{},activeBreakpoint:this.getDefaultBreakpointOptions(),next:this.next.bind(this),prev:this.prev.bind(this),goTo:this.goTo.bind(this),enableTouchScroll:this.enableTouchScroll.bind(this),disableTouchScroll:this.disableTouchScroll.bind(this),items:void 0,controlsPositionClass:"",indicatorsPositionClass:"",intervalCount:0,intervalProgress:0,nextIndex:-1,prevIndex:-1,activeIndex:0}),(0,P.Z)(this,"onBreakpointChanges",this._onBreakpointChanges.bind(this)),(0,P.Z)(this,"onViewChanges",It(this._onViewChanges.bind(this))),(0,P.Z)(this,"onScroll",It(this._onScroll.bind(this))),(0,P.Z)(this,"onMouseUp",Nt(this._onMouseUp.bind(this))),(0,P.Z)(this,"resume",Nt(this._resume.bind(this),500)),this.bs5=_c.getSingleton(),this.onViewChanges=this.onViewChanges.bind(this),this.onVisibilityChanged=this.onVisibilityChanged.bind(this),this.onScroll=this.onScroll.bind(this),this.onScrollend=this.onScrollend.bind(this),this.onMouseIn=this.onMouseIn.bind(this),this.onMouseOut=this.onMouseOut.bind(this)}next(){this.scrollToNextSlide()}prev(){this.scrollToPrevSlide()}goTo(t){var e;if(t<0||null===(e=this.scope.items)||void 0===e||!e[t]||!this.slideElements[t]||!this.slideshowInner)return this.throw(new Error(`Can't go to slide of index ${t}`)),console.error("items",this.scope.items),console.error("this.slideElements",this.slideElements),void console.error("this.slideshowInner",this.slideshowInner);this.setSlidePositions(),this.slideElements[t]?(Et(this.slideElements[t],0,this.slideshowInner,this.scope.activeBreakpoint.angle),this.setSlideActive(t)):this.throw(new Error(`Slide element with index "${t}" not found!`))}getNextIndex(t){let e=t+this.scope.activeBreakpoint.slidesToScroll;if(e>=this.slideElements.length){if(!this.scope.activeBreakpoint.infinite)return this.slideElements.length-1;e-=this.slideElements.length}return e}getPrevIndex(t){let e=t-this.scope.activeBreakpoint.slidesToScroll;if(e<0){if(!this.scope.activeBreakpoint.infinite)return 0;e=this.slideElements.length-1+(e+1)}return e}scrollToNearestSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex();return this.goTo(t)}scrollToNextSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex(),e=this.getNextIndex(t);return this.goTo(e)}scrollToPrevSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex(),e=this.getPrevIndex(t);return this.goTo(e)}setOptions(t,e){const s=uh.responsiveProperties;for(const i of s)t[i]=void 0!==e[i]?G(!1,e[i]):t[i]}setOptionsIfUndefined(t,e){const s=uh.responsiveProperties;for(const i of s)t[i]=void 0===t[i]?G(!1,e[i]):t[i]}initResponsiveOptions(){const t=_c.getSingleton().breakpointNames;for(let s=1;s<t.length;s++){var e;const i=t[s],n=t[s-1];this.scope.breakpoints[i]=this.scope.breakpoints[i]||{},this.scope.breakpoints[n]=this.scope.breakpoints[n]||{};const o=this.scope.breakpoints[i],r=this.scope.breakpoints[n];o.breakpoint=(null===(e=this.bs5.getBreakpointByName(i))||void 0===e?void 0:e.dimension)||0,o.name=i,r&&(1===s&&this.setOptionsIfUndefined(r,this.getDefaultBreakpointOptions()),this.setOptionsIfUndefined(o,r))}this.setOptionsByBreakpoint(this.bs5.activeBreakpoint)}setControlsOptions(){let t="",e=0;for(const i in this.scope.breakpoints){var s;const n=this.scope.breakpoints[i],o=null===(s=n.controlsPosition)||void 0===s?void 0:s.split("-");n.controls&&2===o.length&&(t+=0===e?`control-${o[0]} control-${o[1]} `:`control-${i}-${o[0]} control-${i}-${o[1]} `),e++}this.scope.controlsPositionClass=t.trim()}setIndicatorsOptions(){let t="",e=0;for(const i in this.scope.breakpoints){var s;const n=this.scope.breakpoints[i],o=null===(s=n.indicatorsPosition)||void 0===s?void 0:s.split("-");n.indicators&&2===o.length&&(t+=0===e?`indicators-${o[0]} indicators-${o[1]} `:`indicators-${i}-${o[0]} indicators-${i}-${o[1]} `),e++}this.scope.indicatorsPositionClass=t.trim()}getBreakpointOptionsByBreakpointName(t){return this.scope.breakpoints[t]}setOptionsByBreakpoint(t){if(!t)return void console.warn("Breakpoint not found!");const e=this.getBreakpointOptionsByBreakpointName(t.name);e?(this.setOptions(this.scope.activeBreakpoint,e),this.scope.activeBreakpoint.autoplay?this.enableAutoplay():this.disableAutoplay(),this.scope.activeBreakpoint.drag?this.enableDesktopDragscroll():this.disableDesktopDragscroll(),this.scope.activeBreakpoint.touchScroll?this.enableTouchScroll():this.disableTouchScroll(),this.setControlsOptions(),this.setIndicatorsOptions()):console.warn(`Breakpoint options for "${t.name}" not found!`)}_onBreakpointChanges(t){this.setOptionsByBreakpoint(t)}_onViewChanges(){var t,e;if(this.debug("onViewChanges"),null!==(t=this.scope.items)&&void 0!==t&&t.length&&null!==(e=this.slideElements)&&void 0!==e&&e.length)try{this.setSlidePositions();const t=this.setCenteredSlideActive();this.scope.activeBreakpoint.sticky&&this.goTo(t)}catch(t){this.throw(t)}}onVisibilityChanged(t){var e,s;t.detail.visible&&(null===(e=this.dragscrollService)||void 0===e||e.checkDraggable(),null===(s=this.continuousAutoplayService)||void 0===s||s.update())}_onScroll(){}onScrollend(){var t;if(null!==(t=this.scope.items)&&void 0!==t&&t.length)try{this.setSlidePositions(),this.setCenteredSlideActive(),this.scope.activeBreakpoint.sticky&&this.scrollToNearestSlide()}catch(t){this.throw(t)}}onMouseIn(){this.scope.activeBreakpoint.pauseOnHover&&(this.scope.activeBreakpoint.pause=!0)}onMouseOut(){this.resume()}_onMouseUp(){}_resume(){this.setSlidePositions(),this.scope.activeBreakpoint.pause=!1}connectedCallback(){var t;null!==(t=this.scope.items)&&void 0!==t&&t.length||!this.slideElements||this.addItemsByChilds(),super.connectedCallback(),this.init(uh.observedAttributes),this.addEventListeners()}addEventListeners(){var t,e,s;(this.routerEvents.on("newPageReady",this.onViewChanges),window.ResizeObserver)&&(this.resizeObserver=new window.ResizeObserver(this.onViewChanges),null===(s=this.resizeObserver)||void 0===s||s.observe(this));window.addEventListener("resize",this.onViewChanges,{passive:!0}),this.bs5.events.on("breakpoint:changed",this.onBreakpointChanges),this.addEventListener("visibility-changed",this.onVisibilityChanged),null===(t=this.slideshowInner)||void 0===t||t.addEventListener("scroll",this.onScroll,{passive:!0}),null===(e=this.slideshowInner)||void 0===e||e.addEventListener("scrollended",this.onScrollend,{passive:!0}),this.addEventListener("mouseenter",this.onMouseIn,{passive:!0}),this.addEventListener("mouseover",this.onMouseIn,{passive:!0}),this.addEventListener("focusin",this.onMouseIn,{passive:!0}),this.addEventListener("touchstart",this.onMouseIn,{passive:!0}),this.addEventListener("mouseleave",this.onMouseOut,{passive:!0}),this.addEventListener("focusout",this.onMouseOut,{passive:!0}),this.addEventListener("mouseup",this.onMouseUp,{passive:!0}),this.addEventListener("touchend",this.onMouseUp,{passive:!0}),this.addEventListener("scroll",this.onMouseUp,{passive:!0}),this.addEventListener("scrollend",this.onMouseUp,{passive:!0}),this.addEventListener("scrollended",this.onMouseUp,{passive:!0})}removeEventListeners(){var t,e,s;this.routerEvents.off("newPageReady",this.onViewChanges,this),window.removeEventListener("resize",this.onViewChanges),null===(t=this.resizeObserver)||void 0===t||t.unobserve(this),this.bs5.events.off("breakpoint:changed",this.onViewChanges,this),this.removeEventListener("visibility-changed",this.onVisibilityChanged),null===(e=this.slideshowInner)||void 0===e||e.removeEventListener("scroll",this.onScroll),null===(s=this.slideshowInner)||void 0===s||s.removeEventListener("scrollended",this.onScrollend),this.removeEventListener("mouseenter",this.onMouseIn),this.removeEventListener("mouseover",this.onMouseIn),this.removeEventListener("focusin",this.onMouseIn),this.removeEventListener("touchstart",this.onMouseIn),this.removeEventListener("mouseleave",this.onMouseOut),this.removeEventListener("focusout",this.onMouseOut),this.removeEventListener("mouseup",this.onMouseUp),this.removeEventListener("touchend",this.onMouseUp),this.removeEventListener("scroll",this.onMouseUp),this.removeEventListener("scrollend",this.onMouseUp),this.removeEventListener("scrollended",this.onMouseUp)}initAll(){this.initSlideshowInner(),this.initResponsiveOptions(),this.addEventListeners(),this.onViewChanges(),this.onScrollend()}async beforeBind(){await super.beforeBind(),this.validateItems()}async afterBind(){this.initAll(),await super.afterBind()}initSlideshowInner(){this.slideshowInner?this.scrollEventsService=new bl(this.slideshowInner):this.throw(new Error("Can't init slideshow inner!"))}enableDesktopDragscroll(){if(!this.dragscrollService){if(!this.slideshowInner)return;const t={detectGlobalMove:!0};this.dragscrollService=new ml(this.slideshowInner,t)}}disableDesktopDragscroll(){this.dragscrollService&&(this.dragscrollService.destroy(),this.dragscrollService=void 0)}enableTouchScroll(){this.classList.remove("touchscroll-disabled")}disableTouchScroll(){this.classList.add("touchscroll-disabled")}enableContinuousAutoplay(){if(!this.continuousAutoplayService&&this.slideshowInner){const t={velocity:this.scope.activeBreakpoint.autoplayVelocity,angle:this.scope.activeBreakpoint.angle,pauseOnHover:this.scope.activeBreakpoint.pauseOnHover};this.continuousAutoplayService=new pl(this.slideshowInner,t)}if(!this.continuousAutoplayIntervalIndex){const t=1e4*this.scope.activeBreakpoint.autoplayVelocity;this.continuousAutoplayIntervalIndex=window.setInterval(this.onScrollend.bind(this),t)}}disableContinuousAutoplay(){this.continuousAutoplayService&&(this.continuousAutoplayService.destroy(),this.continuousAutoplayService=void 0),this.continuousAutoplayIntervalIndex&&(window.clearInterval(this.continuousAutoplayIntervalIndex),this.continuousAutoplayIntervalIndex=null)}resetIntervalAutoplay(){this.scope.intervalCount=0,this.scope.intervalProgress=0}enableIntervalAutoplay(){this.resetIntervalAutoplay(),null===this.autoplayIntervalIndex&&(this.autoplayIntervalIndex=window.setInterval((()=>{this.scope.activeBreakpoint.pause||(this.scope.intervalCount+=100,this.scope.intervalProgress=this.scope.intervalCount/this.scope.activeBreakpoint.autoplayInterval*100,this.scope.intervalProgress>=100&&this.next())}),100))}disableIntervalAutoplay(){this.autoplayIntervalIndex&&(window.clearInterval(this.autoplayIntervalIndex),this.autoplayIntervalIndex=null)}disableAutoplay(){this.disableIntervalAutoplay(),this.disableContinuousAutoplay()}enableAutoplay(){this.scope.activeBreakpoint.autoplayInterval<=0?this.enableContinuousAutoplay():this.enableIntervalAutoplay()}transformTemplateAttributes(t,e){return(t=super.transformTemplateAttributes(t,e)).handle=t.handle||e.toString(),t.index=e,t.class=t.class||"",t.class+=" slide",t}validateItems(){if(this.scope.items)for(let t=0;t<this.scope.items.length;t++){const e=this.scope.items[t];e.index=e.index||t,e.active=e.active||!1,e.title=e.title||"",e.handle=e.handle||e.index.toString(),e.position=e.position||{centerX:0,centerY:0},e.class=e.class||"",e.class+=" slide",e.content=e.content||'<img lazyload="lazy" class="img-fluid w-100" rv-src="slide.src" rv-alt="slide.title">'}else this.throw(new Error("No items to validate!"))}addItemByTemplate(t,e){const s=this.getTemplateAttributes(t,e),i=t.innerHTML;s.type&&("slide"===s.type&&(this.scope.items||(this.scope.items=[]),this.scope.items.push(hh(hh({},s),{},{content:i}))),"controls"===s.type&&(this.templateControls=i),"indicators"===s.type&&(this.templateIndicators=i))}addItemsByChilds(){this.slideElements||this.throw(new Error("Can't not add items by child's because no slide child's are found!")),this.slideElements.forEach(((t,e)=>{const s=t.getAttribute("handle")||t.getAttribute("id")||e.toString();t.setAttribute("index",e.toString());const i={handle:s,active:!1,content:t.innerHTML,index:e,position:hh(hh({},t.getBoundingClientRect()),{},{centerY:0,centerX:0})};this.scope.items||(this.scope.items=[]),this.scope.items.push(i)}))}getScrollPosition(){if(!this.slideshowInner)return null;return hl(this.slideshowInner)}getCurrentClosestNumber(t,e,s){return Math.abs(e-t)<Math.abs(s-t)?e:s}getMostCenteredSlideIndex(){var t;if(null===(t=this.scope.items)||void 0===t||!t.length)return this.throw(new Error("No slide items found!")),-1;let e=Math.abs("vertical"===this.scope.activeBreakpoint.angle?this.scope.items[0].position.centerY:this.scope.items[0].position.centerX),s=0;for(let t=1;t<this.scope.items.length;t++){const i=Math.abs("vertical"===this.scope.activeBreakpoint.angle?this.scope.items[t].position.centerY:this.scope.items[t].position.centerX);e=this.getCurrentClosestNumber(0,i,e),e===i&&(s=t)}return s}setAllSlidesInactive(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(this.slideElements&&null!==(t=this.scope.items)&&void 0!==t&&t.length)for(let t=0;t<this.scope.items.length;t++)t!==e&&(this.scope.items[t]&&(this.scope.items[t].active=!1),this.slideElements[t]&&this.slideElements[t].classList&&this.slideElements[t].classList.remove("active"))}setSlideActive(t){var e,s,i;if(-1!==t&&null!==(e=this.scope.items)&&void 0!==e&&e.length||(console.warn(new Error("Most centered slide not found!")),t=0),null!==(s=this.scope.items)&&void 0!==s&&s[t]||(t=0),null===(i=this.scope.items)||void 0===i||!i[t])return this.throw(new Error("Slide item to set active not found!")),0;this.setAllSlidesInactive(t),this.scope.items[t].active=!0,this.scope.activeIndex=t,this.scope.nextIndex=this.getNextIndex(t),this.scope.prevIndex=this.getPrevIndex(t),this.resetIntervalAutoplay(),this.slideElements&&this.slideElements[t].classList&&this.slideElements[t].classList.add("active")}setCenteredSlideActive(){const t=this.getMostCenteredSlideIndex();return this.setSlideActive(t),t}isScrollableToIndex(t){var e;const s=this.getScrollPosition();if(null===(e=this.scope.items)||void 0===e||!e[t]||!this.slideshowInner||!s)return!1;const i="vertical"===this.scope.activeBreakpoint.angle?s.maxY:s.maxX,n="vertical"===this.scope.activeBreakpoint.angle?this.slideshowInner.scrollTop+this.scope.items[t].position.centerY:this.slideshowInner.scrollLeft+this.scope.items[t].position.centerX;return n<=i&&n>=0}setSlidePositions(){var t,e,s,i;if(!this.bound)return;if((null===(t=this.scope.items)||void 0===t?void 0:t.length)!==(null===(e=this.slideElements)||void 0===e?void 0:e.length))return void console.warn(new Error(`The slide objects must be the same size as the slide elements! items (${null===(s=this.scope.items)||void 0===s?void 0:s.length}) !== slideElements (${null===(i=this.slideElements)||void 0===i?void 0:i.length})`),this.slideElements,this);if(!this.slideshowInner)return;const n=this.slideshowInner.getBoundingClientRect();for(let t=0;t<this.scope.items.length;t++){const e=this.slideElements[t],s=this.scope.items[t],i=e.getBoundingClientRect();i.x-=n.x,i.y-=n.y,s.position=hh(hh({},i),{},{centerY:i.y+i.height/2-n.height/2,centerX:i.x+i.width/2-n.width/2})}}requiredAttributes(){return["items"]}async attributeChangedCallback(t,e,s,i){let n=null;this.observedAttributesToCheck&&this.observedAttributesToCheck[t]&&(this.observedAttributesToCheck[t].initialized=!0),s=this.parseAttribute(s);const o=_c.getSingleton().breakpointNames;for(const e of o){const i=e+"-";if(t.startsWith(i)){this.scope.breakpoints[e]=this.scope.breakpoints[e]||{},n=W(t.slice(i.length)),this.scope.breakpoints[e][n]=s;break}}if(n)try{await this.bindIfReady()}catch(t){this.throw(t)}else await super.attributeChangedCallback(t,e,s,i),"items"===t&&this.validateItems()}parsedAttributeChangedCallback(t,e,s,i){return super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){this.removeEventListeners()}template(){return!bt(this)||this.hasOnlyTemplateChilds()?'<div class="row slideshow-row"> <div rv-each-slide="items" rv-class="slide.class" rv-class-active="slide.active" rv-id="\'slide-\' | append slide.handle" rv-index="slide.index" rv-template="slide.content"></div> </div> '+this.templateControls+this.templateIndicators:(this.controlsElements.length<=0&&(this.innerHTML+=this.templateControls),this.indicatorsElement||(this.innerHTML+=this.templateIndicators),null)}}(0,P.Z)(uh,"responsiveAttributes",["breakpoint","name","slides-to-scroll","controls","controls-position","drag","autoplay","autoplay-interval","autoplay-velocity","control-prev-icon-src","control-next-icon-src","indicator-inactive-icon-src","indicator-active-icon-src","angle","set-active-slide","pause-on-hover","sticky","indicators","indicators-position","pause","infinite"]),(0,P.Z)(uh,"tagName","bs5-slideshow");class ph extends He{static get observedAttributes(){return["target-id"]}requiredAttributes(){return["targetId"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"lifecycleEvents",it.getInstance("lifecycle")),(0,P.Z)(this,"scope",{targetId:void 0,toggle:this.toggle,state:"undefined",isActive:!0,isClosed:!1}),this.lifecycleEvents.once("ComponentLifecycle:allBound",this.onAllComponentsReady,this)}toggle(){this.debug("toggle",this.eventDispatcher),this.eventDispatcher&&this.eventDispatcher.trigger(Ac.eventNames.toggle,this.scope.targetId)}onAllComponentsReady(){var t;this.debug("onAllComponentsReady"),null===(t=this.eventDispatcher)||void 0===t||t.trigger(Ac.eventNames.init,this.scope.targetId)}async afterBind(){await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(ph.observedAttributes)}onToggledEvent(t){this.scope.state=t,this.scope.isActive="hidden"!==t&&"removed"!==t,this.scope.isClosed=!this.scope.isActive}initEventDispatcher(t){this.eventDispatcher&&this.eventDispatcher.off(Ac.eventNames.toggled,this.onToggledEvent,this),this.eventDispatcher=new it(Ac.nsPrefix+t),this.eventDispatcher.on(Ac.eventNames.toggled,this.onToggledEvent,this),this.eventDispatcher.on(Ac.eventNames.state,this.onToggledEvent,this)}async attributeChangedCallback(t,e,s,i){super.attributeChangedCallback(t,e,s,i)}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"targetId"===t&&s&&this.initEventDispatcher(s)}disconnectedCallback(){super.disconnectedCallback(),this.eventDispatcher&&this.eventDispatcher.off(Ac.eventNames.toggled,this.onToggledEvent,this)}template(){return bt(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}}(0,P.Z)(ph,"tagName","bs5-toggle-button");class mh extends He{static get observedAttributes(){return["collapse-selector"]}constructor(){super(),(0,P.Z)(this,"scope",{toggle:this.toggle,show:this.show,hide:this.hide,isCollapsed:!0,collapseSelector:".navbar-collapse"}),(0,P.Z)(this,"collapseTargets",new Map),this.onStateChange=this.onStateChange.bind(this)}async afterBind(){this.hide(),await super.afterBind()}toggle(t){for(const t of this.collapseTargets.values())t.toggle();t&&(t.preventDefault(),t.stopPropagation())}show(t){for(const t of this.collapseTargets.values())t.show();t&&(t.preventDefault(),t.stopPropagation())}hide(t){for(const t of this.collapseTargets.values())t.hide();t&&(t.preventDefault(),t.stopPropagation())}connectedCallback(){super.connectedCallback(),this.routerEvents=new it("main"),this.routerEvents.on("newPageReady",this.onNewPageReady,this),this.setCollapseElement(),this.onStateChange(),this.init(mh.observedAttributes)}setCollapseElement(){const t=Array.from(this.querySelectorAll(this.scope.collapseSelector)||[]);for(const e of this.collapseTargets.keys())t.find((t=>t===e))||this.disposeCollapseTarget(e);for(const e of t)this.collapseTargets.has(e)||(this.collapseTargets.set(e,new tc(e,{toggle:!1})),e.addEventListener(tc.Events.shown,this.onStateChange),e.addEventListener(tc.Events.hidden,this.onStateChange));this.hide()}disposeCollapseTargets(){for(const t of this.collapseTargets.keys())this.disposeCollapseTarget(t)}disposeCollapseTarget(t){const e=this.collapseTargets.get(t);e&&e.dispose(),this.collapseTargets.delete(t),t.removeEventListener(tc.Events.shown,this.onStateChange),t.removeEventListener(tc.Events.hidden,this.onStateChange)}disconnectedCallback(){super.disconnectedCallback(),this.disposeCollapseTargets(),this.routerEvents&&this.routerEvents.off("newPageReady",this.onNewPageReady,this)}onStateChange(){var t;this.scope.isCollapsed=null===(t=this.collapseTargets.values().next().value)||void 0===t?void 0:t.isCollapsed(),this.scope.isCollapsed?(this.classList.add(tc.CLASS_NAME_COLLAPSED),this.setAttribute("aria-expanded","false")):(this.classList.remove(tc.CLASS_NAME_COLLAPSED),this.setAttribute("aria-expanded","true"))}onNewPageReady(){this.hide()}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"collapseSelector"===t&&this.setCollapseElement()}template(){return null}}(0,P.Z)(mh,"tagName","bs5-navbar");const vh=Hs.read;class gh extends Ve{static get observedAttributes(){return["option-tabs-auto-height","option-tabs-angle","tab-0-title","tab-0-content","tab-0-handle","tab-1-title","tab-1-content","tab-1-handle","tab-2-title","tab-2-content","tab-2-handle","tab-3-title","tab-3-content","tab-3-handle","tab-4-title","tab-4-content","tab-4-handle","tab-5-title","tab-5-content","tab-5-handle","tab-6-title","tab-6-content","tab-6-handle","tab-7-title","tab-7-content","tab-7-handle","tab-8-title","tab-8-content","tab-8-handle","tab-9-title","tab-9-content","tab-9-handle","tab-10-title","tab-10-content","tab-10-handle","tab-11-title","tab-11-content","tab-11-handle","tab-12-title","tab-12-content","tab-12-handle","tab-13-title","tab-13-content","tab-13-handle","tab-14-title","tab-14-content","tab-14-handle","tab-15-title","tab-15-content","tab-15-handle","tab-16-title","tab-16-content","tab-16-handle","tab-17-title","tab-17-content","tab-17-handle","tab-18-title","tab-18-content","tab-18-handle","tab-19-title","tab-19-content","tab-19-handle"]}constructor(){super(),(0,P.Z)(this,"templateAttributes",[{name:"title",required:!0},{name:"handle",required:!1},{name:"type",required:!1},{name:"active",required:!1},{name:"index",required:!1}]),(0,P.Z)(this,"scope",{items:new Array,activate:this.activate,deactivate:this.deactivate,deactivateAll:this.deactivateAll,optionTabsAutoHeight:!1,optionTabsAngle:"horizontal"}),(0,P.Z)(this,"onResize",Nt(this._onResize.bind(this)))}_onResize(){this.setHeight()}setHeight(){if(this.scope.optionTabsAutoHeight)return;this.setElements();let t=0;this.tabPanes&&(this.tabPanes.forEach((e=>{if(!e.style)return;e.style.height="auto",e.style.display="block";const s=e.offsetHeight||0;s>t&&(t=s)})),this.tabPanes.forEach((e=>{e.style&&(e.style.display="",t>0&&(e.style.height=t+"px"))})))}deactivateAll(){for(let t=0;t<this.scope.items.length;t++){const e=this.scope.items[t];this.deactivate(e)}}deactivate(t){t.active=!1;const e=this.getTabContentChildByIndex(t.index);e&&this.triggerVisibilityChangedForElement(e,t.active)}activate(t){this.deactivateAll(),t.active=!0;const e=this.getTabContentChildByIndex(t.index);e&&this.triggerVisibilityChangedForElement(e,t.active)}activateFirstTab(){this.scope.items.length>0&&this.activate(this.scope.items[0])}getTabContentChildByIndex(t){return this.querySelector(`.tab-content .tab-pane:nth-child(${t+1}) > *`)||void 0}triggerVisibilityChangedForElement(t,e){setTimeout((()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:e}}))}),200)}connectedCallback(){super.connectedCallback(),this.initTabs(),this.activateFirstTab(),this.init(gh.observedAttributes)}disconnectedCallback(){this.tabs&&this.tabs.forEach((t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler)})),window.removeEventListener("resize",this.onResize)}setElements(){this.tabs=this.querySelectorAll('[role="tab"]'),this.tabPanes=this.querySelectorAll('[role="tabpanel"]'),this.scrollable=this.querySelector("[scrollable]")}resizeTabsArray(t){for(;t>this.scope.items.length;)this.scope.items.push({handle:"",title:"",content:"",active:!1,index:this.scope.items.length-1})}onTabShownEventHandler(t){const e=t.target||t.srcElement;if(e&&this.scrollable){const t=e.getBoundingClientRect(),s=this.scrollable.scrollLeft||0+t.left;this.scrollable.scrollLeft=s}}initTabs(){this.setElements(),this.tabs&&this.tabs.forEach((t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler),t.addEventListener("shown.bs.tab",this.onTabShownEventHandler)})),this.scope.optionTabsAutoHeight&&(window.removeEventListener("resize",this.onResize),window.addEventListener("resize",this.onResize,{passive:!0}),this.setHeight())}addTabByAttribute(t,e){const s=Number(t.replace(/[^0-9]/g,""));s>=this.scope.items.length&&this.resizeTabsArray(s+1),this.scope.items[s].index=s,t.endsWith("Content")&&(this.scope.items[s].content=e),t.endsWith("Title")&&(this.scope.items[s].title=e,this.scope.items[s].handle=this.scope.items[s].handle||vh(this.scope.items[s].title)),t.endsWith("Handle")&&(this.scope.items[s].handle=e),this.scope.items.length>0&&this.scope.items[0]&&this.scope.items[0].content.length>0&&this.scope.items[0].title.length>0&&this.scope.items[0].handle.length>0&&this.activateFirstTab()}transformTemplateAttributes(t,e){return!(t=super.transformTemplateAttributes(t,e)).handle&&t.title&&(t.handle=vh(t.title)),t.active=t.active||!1,t}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),t.startsWith("tab")&&(this.addTabByAttribute(t,s),this.initTabs())}async afterBind(){setTimeout((()=>{this.scope.optionTabsAutoHeight&&this.setHeight()}),500),await super.afterBind()}template(){return!bt(this)||this.hasOnlyTemplateChilds()?"horizontal"===this.scope.optionTabsAngle?'<ul rv-scrollbar-draggable rv-aria-orientation="optionTabsAngle" role="tablist" class="nav nav-tabs flex-scrollbar-x-auto scrollbar-y-hidden"> <li class="nav-item" rv-each-tab="items"> <button role="tab" class="btn btn-link nav-link" rv-class-active="tab.active" rv-id="\'tab-title-\' | append tab.handle" rv-aria-controls="\'tab-content-\' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button> </li> </ul> <div class="tab-content"> <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="\'tab-content-\' | append tab.handle" rv-aria-labelledby="\'tab-title-\' | append tab.handle" rv-template="tab.content"></div> </div> ':'<div class="row"> <div class="col-auto"> <div class="nav flex-column nav-pills" role="tablist" rv-aria-orientation="optionTabsAngle"> <div class="nav-item" rv-each-tab="items"> <button class="btn btn-link nav-link" role="tab" rv-class-active="tab.active" rv-id="\'tab-title-\' | append tab.handle" rv-aria-controls="\'tab-content-\' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button> </div> </div> </div> <div class="col-auto"> <div class="tab-content"> <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="\'tab-content-\' | append tab.handle" rv-aria-labelledby="\'tab-title-\' | append tab.handle" rv-template="tab.content"></div> </div> </div> </div> ':null}}(0,P.Z)(gh,"tagName","bs5-tabs");class fh extends He{static get observedAttributes(){return["id","disable-submit-until-change","use-ajax","ajax-request-type","auto-set-form-data","strip-html","scroll-invalid-element","animate-invalid-element"]}getDefaultScope(){return{id:kt("form"),form:{fields:{},valid:!1,error:void 0},disableSubmitUntilChange:!1,submitDisabled:!1,onSubmit:this.onSubmit,useAjax:!0,ajaxRequestType:"form",autoSetFormData:!0,stripHtml:!0,scrollToInvalidElement:!0,animateInvalidElement:!0}}constructor(){super(),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"formEl",null),(0,P.Z)(this,"scope",this.getDefaultScope()),this.enableSubmit=this.enableSubmit.bind(this)}connectedCallback(){super.connectedCallback(),this.init(fh.observedAttributes),this.addEventListeners()}addEventListeners(){this.scope.disableSubmitUntilChange&&this.addEventListener("input",this.enableSubmit)}removeEventListeners(){this.removeEventListener("input",this.enableSubmit)}enableSubmit(){this.scope.submitDisabled=!1}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.id=this.scope.id}async afterBind(){await super.afterBind()}stripHtml(){for(const t in this.scope.form.fields)this.scope.form.fields[t]&&"string"==typeof this.scope.form.fields[t]&&(this.scope.form.fields[t]=z(this.scope.form.fields[t]))}onSubmit(t,e){if(this.debug("onSubmit",t,e),!this.formEl)return console.warn("No form found"),!1;if(this.scope.autoSetFormData&&this.getFormValues(),this.scope.stripHtml&&this.stripHtml(),this.validate(this.formEl,this.scope.form),!this.scope.form.valid)return void this.onInvalidForm(t);const s=this.getSubmitSettings(t);if("_blank"===(null==s?void 0:s.target))return!0;this.scope.useAjax&&(t.preventDefault(),t.stopPropagation(),this.ajaxSubmit(t,e))}async ajaxSubmit(t,e){this.debug("onSubmit",t,e,this.scope);const s=this.getSubmitSettings(t);if(s){this.scope.autoSetFormData&&this.getFormValues();try{const t=await lt.fetch(s.action,s.method,this.scope.form.fields,s.type);if(!t||!t.body)return this.onErrorSubmit("500","Error","Empty body!");const e=t.body&&t.body.message?t.body.message:"";return Number(t.status)>=400&&this.onErrorSubmit(t.status.toString(),e,t.body),this.onSuccessSubmit(t.status.toString(),e,t.body)}catch(t){if(!t.status||!t.body)throw this.error;this.onErrorSubmit(t.status,t.body.message,t.body)}}else console.warn("Can't get submit settings")}getSubmitSettings(t){var e;if(!this.formEl)return console.warn("No form found"),null;let s=this.formEl.action,i=this.formEl.method,n=this.formEl.method;if(null!=t&&null!==(e=t.originalEvent)&&void 0!==e&&e.submitter){var o;const e=null==t||null===(o=t.originalEvent)||void 0===o?void 0:o.submitter;s=(null==e?void 0:e.formAction)||s,i=(null==e?void 0:e.formMethod)||i,n=(null==e?void 0:e.formTarget)||n}return{action:s,method:i.toUpperCase(),target:n,type:this.scope.ajaxRequestType}}onInvalidForm(t){if(this.debug("Form not valid",this.scope),t.preventDefault(),t.stopPropagation(),!this.formEl)return void console.warn("No form found");const e=this.formEl.querySelectorAll(":invalid");if(e&&e.length){const t=e[0];this.scope.scrollToInvalidElement&&this.scrollToElement(t),this.scope.animateInvalidElement&&this.scrollToElement(t)}this.dispatchEvent(new CustomEvent("invalid",{detail:{elements:e}}))}scrollToElement(t){const e=At().h/2;Et(t,e,window),this.animateInvalidElement(t)}animateInvalidElement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;t.classList.add("invalid-flashing-animation"),setTimeout((()=>{t.classList.remove("invalid-flashing-animation")}),e)}onErrorSubmit(t,e,s){this.debug("onErrorSubmit"),this.dispatchEvent(new CustomEvent("submit-error",{detail:{status:t,message:e,response:s}}))}onSuccessSubmit(t,e,s){this.debug("onSuccessSubmit"),this.scope.disableSubmitUntilChange&&(this.scope.submitDisabled=!0),this.dispatchEvent(new CustomEvent("submit-success",{detail:{status:t,message:e,response:s}}))}validate(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validation-error";e.valid=t.checkValidity(),e.error=t.validationMessage,e.valid||(this.dispatchEvent(new CustomEvent(s)),t.classList.add("was-validated"))}getFormValues(){return this.formEl?(this.scope.form.fields=new FormData(this.formEl),this.scope.form.fields):(console.warn("No form found"),null)}initForm(){const t=this.querySelector("form");t&&t.length>0?(this.formEl=t,this.formEl.classList.add("needs-validation"),this.formEl.setAttribute("novalidate","")):console.warn("bs5 form without children found")}template(){return bt(this)?(this.initForm(),null):"<form> </form>"}}(0,P.Z)(fh,"tagName","bs5-form");class bh extends He{static get observedAttributes(){return["icon-url","position-class","channel-name"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"scope",{notifications:[],positionClass:"absolute-bottom absolute-center",channelName:"toast",onItemHide:this.onItemHide})}connectedCallback(){super.connectedCallback(),this.init(bh.observedAttributes)}onItemHide(t,e,s,i){s>-1?this.notifications.splice(s,1):console.warn("Notification not found",i)}onShowNotification(t){this.debug("Received notification container on "+this.scope.channelName,this.scope,t),this.scope.notifications.push(t)}async afterBind(){this.notificationDispatcher=new it(this.scope.channelName),this.notificationDispatcher.on("show-notification",this.onShowNotification,this),await super.afterBind()}disconnectedCallback(){super.disconnectedCallback(),this.notificationDispatcher.off("show-notification",this.onShowNotification,this)}requiredAttributes(){return[]}template(){return bt(this)?null:'<div class="toast-container"> <div aria-live="polite" aria-atomic="true" class="toast-item-container" rv-add-class="positionClass"> <div rv-each-toast="notifications"> <div rv-if="toast.type | eq \'toast\'"> <bs5-toast-item rv-index="%toast%" rv-parent rv-icon-url="iconUrl" rv-co-toast="toast"></bs5-toast-item> </div> </div> </div> </div> <div rv-each-modal="notifications"> <div rv-if="modal.type | eq \'modal\'"> <bs5-modal-item rv-index="%modal%" rv-parent rv-icon-url="iconUrl" rv-co-modal="modal"></bs5-modal-item> </div> </div>'}}(0,P.Z)(bh,"tagName","bs5-notification-container");class wh extends He{static get observedAttributes(){return["toast","icon-url","index"]}requiredAttributes(){return["toast"]}constructor(){super(),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this),toast:void 0})}connectedCallback(){super.connectedCallback(),this.init(wh.observedAttributes)}async afterBind(){this.initToast(),await super.afterBind()}initToast(){const t=this.scope.toast,e=this.firstElementChild;t&&e&&(this.toastService=new xc(e,{delay:void 0!==t.delay?t.delay:5e3,autohide:void 0===t.autoHide||t.autoHide,animation:void 0===t.animation||t.animation}),e.addEventListener(xc.EVENT_HIDDEN,this.scope.onHidden,{once:!0}),this.toastService.show())}dismiss(){var t;null===(t=this.toastService)||void 0===t||t.hide()}onHidden(t,e){var s;e||(e=Ct(t));const i=(null===(s=this.scope.$parent)||void 0===s?void 0:s.$parent)||null;"function"==typeof(null==i?void 0:i.onItemHide)&&this.scope.toast&&e&&i.onItemHide(t,e,this.scope.index,this.scope.toast)}template(){return'<div class="toast my-1" rv-add-class="toast.contextualClass | prepend \'toast-\'" role="alert" aria-live="assertive" aria-atomic="true"> <div class="toast-header" rv-show="toast.title"> <bs5-icon rv-if="iconUrl" rv-src="iconUrl" size="16" rv-color="toast.contextualClass" class="me-2" alt="toast icon"></bs5-icon> <strong class="me-auto" rv-template="toast.title"></strong> <button type="button" class="ms-2 mb-1 btn-close" rv-on-click="dismiss" aria-label="Close"></button> </div> <div class="toast-body" rv-template="toast.message"></div> </div>'}}(0,P.Z)(wh,"tagName","bs5-toast-item");class yh extends He{static get observedAttributes(){return["modal","index"]}requiredAttributes(){return["modal"]}constructor(){super(),(0,P.Z)(this,"_debug",!1),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this)})}connectedCallback(){super.connectedCallback(),this.init(yh.observedAttributes)}async afterBind(){this.initModal(),await super.afterBind()}initModal(){const t=this.scope.modal,e=this.firstElementChild;t&&e&&(this.modalService=new mc(e,{focus:void 0===t.focus||t.focus,keyboard:void 0===t.keyboard||t.keyboard,backdrop:void 0===t.backdrop||t.backdrop}),e.addEventListener(mc.EVENT_HIDDEN,this.scope.onHidden,{once:!0}),this.modalService.show())}dismiss(){var t;null===(t=this.modalService)||void 0===t||t.hide()}onHidden(t,e){var s;e||(e=Ct(t));const i=(null===(s=this.scope.$parent)||void 0===s?void 0:s.$parent)||null;"function"==typeof(null==i?void 0:i.onItemHide)&&this.scope.modal&&e&&i.onItemHide(t,e,this.scope.index,this.scope.modal)}template(){return'<div class="modal fade" tabindex="-1" role="dialog" rv-add-class="modal.contextualClass | prepend \'modal-\'"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header" rv-show="modal.title"> <h5 class="modal-title" rv-template="modal.title"></h5> <button type="button" class="btn-close" aria-label="Close" rv-on-click="dismiss"></button> </div> <div class="modal-body"> <p rv-template="modal.message"></p> </div> <div class="modal-footer" rv-show="modal.buttons | size | gt 0"> <div rv-each-button="modal.buttons"> <button type="button" class="btn" rv-add-class="button.class" rv-on-click="button.action" rv-template="modal.label"></button> </div> </div> </div> </div> </div>'}}(0,P.Z)(yh,"tagName","bs5-modal-item");function Eh(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Sh(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Eh(Object(s),!0).forEach((function(e){(0,P.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Eh(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class Ch extends He{static get observedAttributes(){return["tags","options","debug"]}constructor(){super(),(0,P.Z)(this,"autobind",!0),(0,P.Z)(this,"_debug",!0),(0,P.Z)(this,"scope",{debug:!1,tags:[],options:{popoverOptions:{},multiPopover:!1,tagOptions:{}},fillPopoverOptions:t=>Sh(Sh(Sh({},this.scope.options.popoverOptions),this.scope.options.tagOptions.popoverOptions),t),triggerOnFocus:t=>this.scope.fillPopoverOptions(t).trigger?0:null,onClick:this.onClick.bind(this),onPopoverBound:this.onPopoverBound.bind(this),onPopoverShown:this.onPopoverShown.bind(this),onPopoverHidden:this.onPopoverHidden.bind(this),updateTagPositions:It(this.updateTagPositions.bind(this))}),this.scope.options.popoverOptions.container=this}parsedAttributeChangedCallback(t,e,s){if("options"===t){this.bound?this.scope.options=s:this.scope.options=Y({deep:!0},e,s);const t=this.scope.options.popoverOptions;t&&"string"==typeof t.container&&(t.container=document.querySelector(t.container)||void 0)}}template(){return bt(this)&&this.parseChildTags(),'<img> <tag rv-each-tag="tags" rv-index="tag.index" rv-style-left="tag.left" rv-style-top="tag.top" rv-shape="tag.shape" rv-color="tag.color" rv-style---tag-color="tag.color" rv-style---tag-border-radius="tag.borderRadius" rv-style---tag-full-size="tag.fullSize" rv-style---tag-small-size="tag.smallSize" rv-bs5-popover="fillPopoverOptions | call tag.popoverOptions" rv-on-bound.bs.popover="onPopoverBound" rv-on-shown.bs.popover="onPopoverShown" rv-on-hidden.bs.popover="onPopoverHidden" rv-tabindex="triggerOnFocus | call tag.popoverOptions"> </tag> '}async beforeBind(){await super.beforeBind(),this.image=this.querySelector("img"),this.addEventListeners(),this.initTags()}addEventListeners(){const t=this.image;t.addEventListener("load",this.scope.updateTagPositions),window.addEventListener("resize",this.scope.updateTagPositions),t.addEventListener("click",this.scope.onClick)}async afterBind(){this.passImageAttributes(),await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(Ch.observedAttributes)}disconnectedCallback(){this.removeEventListener("click",this.scope.onClick),window.removeEventListener("resize",this.updateTagPositions)}parseColor(t){return t.startsWith("--")?`var(${t})`:t.startsWith("bs-")?`var(--${t})`:t}parseChildTags(){this.debug("parseChildTags()");for(const e of Array.from(this.querySelectorAll("tag"))){const s=e.getAttribute("title")||"",i=e.innerHTML,n=(t=parseFloat(e.getAttribute("x")||""),isNaN(t)?Math.random():t),o=(t=>isNaN(t)?Math.random():t)(parseFloat(e.getAttribute("y")||"")),r=e.getAttribute("shape")||void 0;let a=e.getAttribute("color")||void 0;a&&(a=this.parseColor(a));const l=e.getAttribute("border-radius")||void 0,c=e.getAttribute("full-size")||void 0,h=e.getAttribute("small-size")||void 0,d=Sh(Sh({},this.scope.options.tagOptions),{},{popoverOptions:this.scope.fillPopoverOptions({title:s,content:i,html:!0}),x:n,y:o,shape:r,color:a,borderRadius:l,fullSize:c,smallSize:h});this.scope.tags.push(d)}var t}initTags(){const t=this.scope.options.tagOptions;for(const[e,s]of this.scope.tags.entries())s.index=e,s.shape=s.shape||t.shape,s.borderRadius=s.borderRadius||t.borderRadius,s.smallSize=s.smallSize||t.smallSize,s.fullSize=s.fullSize||t.fullSize,s.color=s.color||t.color}passImageAttributes(){const t=this.image,e=this.attributes;for(let s=e.length-1;s>=0;s--)e[s].name.startsWith("img-")&&t.setAttribute(e[s].name.substr(4),e[s].value)}onClick(t){if(this.scope.debug){const e=this.image,{clientTop:s,clientLeft:i,width:n,height:o,naturalWidth:r,naturalHeight:a}=e,{clientX:l,clientY:c}=t;let h=l-i,d=c-s;const u=n/r,p=o/a;let m=n,v=o;u<p?(m=n*p/u,h+=(m-n)/2):p<u&&(v=o*u/p,d+=(v-o)/2),h*=100/m,d*=100/v,console.log({x:h,y:d})}}onPopoverBound(t){const e=t.target.getAttribute("index");if(null===e)throw new Error("popup bound on no index");const s=parseInt(e);if(isNaN(s))throw new Error(`boundIndex "${e}" is not a number!`);const i=this.scope.tags.find((t=>t.index===s));if(!i)throw new Error(`Tag with index (${s}, "${e}") not found`);i.el=t.target}onPopoverShown(t){for(const i of this.scope.tags){var e,s;if(i.el===t.target)i.el.classList.add("active");else if(!this.scope.options.multiPopover)null===(e=i.el)||void 0===e||e.classList.remove("active"),null===(s=i.el)||void 0===s||s.dispatchEvent(new CustomEvent("trigger-hide"))}}onPopoverHidden(t){const e=this.scope.tags.find((e=>e.el===t.target));var s;e&&(null===(s=e.el)||void 0===s||s.classList.remove("active"))}updateTagPositions(){const t=this.image,{width:e,height:s,naturalWidth:i,naturalHeight:n}=t,o=i/e,r=n/s,a=window.getComputedStyle(t).getPropertyValue("object-fit");if("cover"===a&&o>r||"contain"===a&&r>o)for(const t of this.scope.tags)t.top=100*t.y+"%",t.left=100*(o/r*(t.x-.5)+.5)+"%";else if("cover"===a||"contain"===a)for(const t of this.scope.tags)t.left=100*t.x+"%",t.top=100*(r/o*(t.y-.5)+.5)+"%";else for(const t of this.scope.tags)t.left=100*t.x+"%",t.top=100*t.y+"%"}}(0,P.Z)(Ch,"tagName","bs5-tagged-image");const Ah={binders:k,services:T,formatters:D,components:_,constants:A,init(){const t=Y({deep:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Cc);return _c.setSingleton(t),this}};var Th={en:{pages:{home:{title:"Hello World!"}}},de:{pages:{home:{title:"Hallo Welt!"}}}};class kh{constructor(){(0,P.Z)(this,"riba",new Ee),(0,P.Z)(this,"model",{}),(0,P.Z)(this,"localesService",new Wi(Th,void 0,!1)),console.debug("init the main application"),this.riba.module.component.regists(L),this.riba.module.binder.regists(O),this.riba.module.formatter.regists(x),this.riba.module.regist(mi.init()),this.riba.module.regist(Fi.init()),this.riba.module.regist(Kl.init({localesService:this.localesService})),this.riba.module.regist(Ah.init()),this.view=this.riba.bind(document.body,this.model)}}(t=>{if(!t||"function"!=typeof t)return new Error("The callback is required!");const e=()=>{"loading"!==document.readyState&&(t(),document.attachEvent&&document.detachEvent("onreadystatechange",e),document.removeEventListener("DOMContentLoaded",e))};document.attachEvent&&document.attachEvent("onreadystatechange",e),document.addEventListener&&document.addEventListener("DOMContentLoaded",e),e()})((()=>{new kh}))},973:function(){(()=>{if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),s}t.prototype=window.Event.prototype,window.CustomEvent=t})()},233:function(){}},s={};function i(t){var n=s[t];if(void 0!==n)return n.exports;var o=s[t]={exports:{}};return e[t].call(o.exports,o,o.exports,i),o.exports}i.m=e,t=[],i.O=function(e,s,n,o){if(!s){var r=1/0;for(h=0;h<t.length;h++){s=t[h][0],n=t[h][1],o=t[h][2];for(var a=!0,l=0;l<s.length;l++)(!1&o||r>=o)&&Object.keys(i.O).every((function(t){return i.O[t](s[l])}))?s.splice(l--,1):(a=!1,o<r&&(r=o));if(a){t.splice(h--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var h=t.length;h>0&&t[h-1][2]>o;h--)t[h]=t[h-1];t[h]=[s,n,o]},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t={179:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,o,r=s[0],a=s[1],l=s[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(l)var h=l(i)}for(e&&e(s);c<r.length;c++)o=r[c],i.o(t,o)&&t[o]&&t[o][0](),t[r[c]]=0;return i.O(h)},s=self.webpackChunk_ribajs_examples_nest_classic_theme=self.webpackChunk_ribajs_examples_nest_classic_theme||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}(),i.O(void 0,[216],(function(){return i(233)}));var n=i.O(void 0,[216],(function(){return i(490)}));n=i.O(n)}();