!function(){var t,e={749:function(t,e,s){"use strict";var i={};s.r(i),s.d(i,{AdapterService:function(){return et},BindersService:function(){return st},ComponentService:function(){return rt},CoreService:function(){return nt},FormatterService:function(){return at},HttpService:function(){return lt},LifecycleService:function(){return ot}});var n={};s.r(n),s.d(n,{dotAdapter:function(){return ht}});var o={};s.r(o),s.d(o,{AddClassBinder:function(){return Qt},AnimateStarBinder:function(){return $t},AssignBinder:function(){return te},AssignPropertyBinder:function(){return Jt},BlockBinder:function(){return ee},CheckedBinder:function(){return se},ClassStarBinder:function(){return ie},ComponentAttributeBinder:function(){return ne},DisabledBinder:function(){return oe},EachStarBinder:function(){return ue},EnabledBinder:function(){return pe},FlexSortChildsBinder:function(){return ve},HideBinder:function(){return me},HtmlBinder:function(){return ge},IfBinder:function(){return fe},MaxlengthBinder:function(){return be},NotDraggableBinder:function(){return ye},OnEventBinder:function(){return we},ParentBinder:function(){return Ee},ReadonlyBinder:function(){return Se},RemoveClassBinder:function(){return Ce},ShowBinder:function(){return ke},SrcsetSizeBinder:function(){return Te},StyleBackgroundImageBinder:function(){return Ae},StyleBinder:function(){return Le},StyleStarBinder:function(){return _e},TagStarBinder:function(){return Oe},TemplateBinder:function(){return xe},TextBinder:function(){return Pe},ToggleOnEventBinder:function(){return Ne},UncheckedBinder:function(){return Ie},UnlessBinder:function(){return De},ValueBinder:function(){return Be}});var r={};s.r(r),s.d(r,{VideoComponent:function(){return Ve}});var a={};s.r(a),s.d(a,{andFormatter:function(){return os},appendFormatter:function(){return Zs},argsFormatter:function(){return Ts},betweenFormatter:function(){return rs},booleanFormatter:function(){return ri},callFormatter:function(){return xs},callNameFormatter:function(){return Ps},capitalizeFormatter:function(){return Ms},containsFormatter:function(){return Ye},cutFormatter:function(){return Rs},debugFormatter:function(){return As},defaultFormatter:function(){return _s},digitsFormatter:function(){return ks},dividedByFormatter:function(){return bs},downcaseFormatter:function(){return Hs},egtFormatter:function(){return as},eltFormatter:function(){return us},emptyFormatter:function(){return Xe},endsWithFormatter:function(){return js},eqFormatter:function(){return ls},evenFormatter:function(){return Ss},filledFormatter:function(){return Us},firstFormatter:function(){return $e},gcdFormatter:function(){return Es},getFormatter:function(){return Ke},gtFormatter:function(){return cs},handleizeFormatter:function(){return Fs},isArrayFormatter:function(){return ai},isBooleanFormatter:function(){return li},isDefinedFormatter:function(){return ci},isDesktopFormatter:function(){return Ls},isIntegerFormatter:function(){return Xs},isLastFormatter:function(){return Qe},isMobileFormatter:function(){return Os},isNumberFormatter:function(){return hi},isObjectFormatter:function(){return di},isStringFormatter:function(){return ui},isUndefinedFormatter:function(){return pi},joinFormatter:function(){return ns},jsonFormatter:function(){return ce},lastFormatter:function(){return Je},ltFormatter:function(){return ds},mapFormatter:function(){return Ns},matchFormatter:function(){return Vs},minusFormatter:function(){return gs},moduloFormatter:function(){return ys},neFormatter:function(){return hs},notFormatter:function(){return vs},numberFormatFormatter:function(){return Ks},orFormatter:function(){return ps},osFormatter:function(){return Is},overlapsFormatter:function(){return is},padEndFormatter:function(){return zs},padStartFormatter:function(){return qs},parseFormatter:function(){return vi},pluralizeFormatter:function(){return $s},plusFormatter:function(){return ms},preferFormatter:function(){return Ds},prependFormatter:function(){return Qs},randomFormatter:function(){return ts},rangeFormatter:function(){return es},replaceFirstFormatter:function(){return ei},replaceFormatter:function(){return ti},setFormatter:function(){return ss},sizeFormatter:function(){return Ge},sliceFormatter:function(){return si},startsWithFormatter:function(){return ii},stripFormatter:function(){return ni},stripHtmlFormatter:function(){return oi},ternaryFormatter:function(){return Bs},timesFormatter:function(){return fs},toDecimalFormatter:function(){return Gs},toFloatFormatter:function(){return Ys},toIntegerFormatter:function(){return Ws},toNumberFormatter:function(){return gi},toStringFormatter:function(){return mi},unevenFormatter:function(){return Cs},upcaseFormatter:function(){return Js}});var l={};s.r(l),s.d(l,{BaseTransition:function(){return bi},BaseView:function(){return Si},CustomTransition:function(){return yi},Dom:function(){return Ci},FadeTransition:function(){return wi},HideShowTransition:function(){return Ei},Pjax:function(){return Ni},Prefetch:function(){return Ti},RouterService:function(){return Ii}});var c={};s.r(c),s.d(c,{ParentRouteClassStarBinder:function(){return Hi},RouteBackOnStarBinder:function(){return Ui},RouteBinder:function(){return Zi},RouteClassStarBinder:function(){return Mi},RoutePreloadBinder:function(){return Ri},ViewStaticBinder:function(){return Bi}});var h={};s.r(h),s.d(h,{RouterLoadScriptComponent:function(){return Fi},RouterViewComponent:function(){return Vi}});var d={};s.r(d),s.d(d,{I18nStarBinder:function(){return Wi}});var u={};s.r(u),s.d(u,{I18nService:function(){return zi},LocalesRestService:function(){return Gi},LocalesStaticService:function(){return Xi}});var p={};s.r(p),s.d(p,{ARIA_ATTRIBUTE_PATTERN:function(){return on},DATA_URL_PATTERN:function(){return an},DEFAULT_ALLOWLIST:function(){return ln},MILLISECONDS_MULTIPLIER:function(){return cn},NODE_TEXT:function(){return Ji},SAFE_URL_PATTERN:function(){return rn},TOGGLE_ATTRIBUTE:function(){return en},TOGGLE_BUTTON:function(){return tn},TOGGLE_CLASS:function(){return sn},TRANSITION_END:function(){return hn},URI_ATTRS:function(){return nn}});var v={};s.r(v),s.d(v,{Bs4Service:function(){return Qi},CollapseService:function(){return Lo},DropdownService:function(){return Jo},ModalService:function(){return kr},PopoverService:function(){return Sa},ToastService:function(){return Ma},TooltipService:function(){return ra}});var m={};s.r(m),s.d(m,{CollapseBinder:function(){return Ha},CollapseOnUrlBinder:function(){return Ra},DropdownBinder:function(){return Ua},ExpanOnUrlBinder:function(){return Fa},PopoverBinder:function(){return za},ScrollToOnEventBinder:function(){return Ja},ScrollspyClassBinder:function(){return Ga},ShowToastOnEventBinder:function(){return Ya},ToggleAttributeBinder:function(){return tl},ToggleClassBinder:function(){return el},ToggleCollapseOnEventBinder:function(){return ja},TooltipBinder:function(){return Qa}});var g={};s.r(g),s.d(g,{easeInCubic:function(){return El},easeInOutCubic:function(){return Cl},easeInOutQuad:function(){return wl},easeInOutQuart:function(){return Al},easeInOutQuint:function(){return Ol},easeInQuad:function(){return bl},easeInQuart:function(){return kl},easeInQuint:function(){return _l},easeOutCubic:function(){return Sl},easeOutQuad:function(){return yl},easeOutQuart:function(){return Tl},easeOutQuint:function(){return Ll},getScrollPosition:function(){return xl},isScrollable:function(){return Pl},linear:function(){return fl}});var f={};s.r(f),s.d(f,{Autoscroll:function(){return Il},Dragscroll:function(){return Dl},ExtrasService:function(){return Bl},FullscreenService:function(){return Zl},Gameloop:function(){return Nl},ScrollEventsService:function(){return Rl},TouchEventsService:function(){return jl}});var b={};s.r(b),s.d(b,{AutoscrollBinder:function(){return Gl},DataScrollPositionYBinder:function(){return Ul},ImageEventsBinder:function(){return ql},ScrollEventsBinder:function(){return Wl},ScrollPositionAngleBinder:function(){return Yl},ScrollbarDraggableBinder:function(){return Xl},SyncElementPropertyBinder:function(){return Kl},TouchEventsBinder:function(){return zl}});var y={};s.r(y),s.d(y,{Bs4AccordionComponent:function(){return nl},Bs4ButtonComponent:function(){return ol},Bs4CarouselComponent:function(){return rl},Bs4ColorPickerComponent:function(){return ul},Bs4ContentsComponent:function(){return pl},Bs4DropdownComponent:function(){return sl},Bs4FormComponent:function(){return rc},Bs4IconComponent:function(){return vl},Bs4ModalItemComponent:function(){return cc},Bs4NavbarComponent:function(){return ic},Bs4NotificationContainerComponent:function(){return ac},Bs4ScrollspyComponent:function(){return ml},Bs4ShareComponent:function(){return pc},Bs4SidebarComponent:function(){return gl},Bs4SlideshowComponent:function(){return ec},Bs4TabsComponent:function(){return oc},Bs4TaggedImageComponent:function(){return uc},Bs4ToastItemComponent:function(){return lc},Bs4ToggleButtonComponent:function(){return sc}});var w={};s.r(w);var E={};s.r(E),s.d(E,{allowedAttribute:function(){return Tr},children:function(){return Nn},closest:function(){return Dn},emulateTransitionEnd:function(){return fn},find:function(){return xn},findOne:function(){return Pn},findShadowRoot:function(){return En},getData:function(){return ho},getDataAttribute:function(){return Ir},getDataAttributes:function(){return Nr},getElementFromSelector:function(){return pn},getSelector:function(){return dn},getSelectorFromElement:function(){return un},getTransitionDurationFromElement:function(){return vn},getjQuery:function(){return kn},isElement:function(){return gn},isVisible:function(){return wn},makeArray:function(){return yn},matches:function(){return On},noop:function(){return Sn},off:function(){return _n},offset:function(){return Dr},on:function(){return Tn},one:function(){return An},parents:function(){return In},position:function(){return Br},prev:function(){return Bn},reflow:function(){return Cn},removeData:function(){return uo},removeDataAttribute:function(){return Pr},sanitizeHtml:function(){return Ar},setData:function(){return co},setDataAttribute:function(){return xr},toggleClass:function(){return Zr},trigger:function(){return Ln},triggerTransitionEnd:function(){return mn},typeCheckConfig:function(){return bn}});var S={};s.r(S),s.d(S,{I18nShareComponent:function(){return vc},I18nSwitcherComponent:function(){return Ki}});var C={};s.r(C),s.d(C,{tFormatter:function(){return gc}});var k={};s.r(k),s.d(k,{DEFAULT_BP_LG:function(){return jc},DEFAULT_BP_MD:function(){return Hc},DEFAULT_BP_SM:function(){return Rc},DEFAULT_BP_XL:function(){return Uc},DEFAULT_BP_XS:function(){return Mc},DEFAULT_BP_XXL:function(){return Fc},DEFAULT_MODULE_OPTIONS:function(){return Vc},TOGGLE_ATTRIBUTE:function(){return zc},TOGGLE_BUTTON:function(){return qc},TOGGLE_CLASS:function(){return Wc}});var T={};s.r(T),s.d(T,{Bs5Service:function(){return Yc},Carousel:function(){return yc},Collapse:function(){return wc},Dropdown:function(){return Lc},Modal:function(){return Dc},ModalNotification:function(){return xc},Popover:function(){return Zc},Toast:function(){return $c},ToastNotification:function(){return Gc},Tooltip:function(){return Bc}});var A={};s.r(A),s.d(A,{CollapseOnUrlBinder:function(){return Qc},DropdownBinder:function(){return th},ExpandOnUrlBinder:function(){return eh},PopoverBinder:function(){return nh},ScrollToOnEventBinder:function(){return uh},ScrollspyClassBinder:function(){return rh},ShowToastOnEventBinder:function(){return oh},ToggleAttributeBinder:function(){return ph},ToggleClassBinder:function(){return vh},ToggleCollapseOnEventBinder:function(){return Jc},TooltipBinder:function(){return dh}});var _={};s.r(_),s.d(_,{Bs5AccordionComponent:function(){return gh},Bs5ButtonComponent:function(){return fh},Bs5CarouselComponent:function(){return bh},Bs5ColorPickerComponent:function(){return Ch},Bs5ContentsComponent:function(){return kh},Bs5DropdownComponent:function(){return Ec},Bs5FormComponent:function(){return Rh},Bs5IconComponent:function(){return Th},Bs5ModalItemComponent:function(){return Uh},Bs5NavbarComponent:function(){return Bh},Bs5NotificationContainerComponent:function(){return Hh},Bs5ScrollspyComponent:function(){return Ah},Bs5ShareComponent:function(){return _h},Bs5SidebarComponent:function(){return Lh},Bs5SlideshowComponent:function(){return Ih},Bs5TabsComponent:function(){return Mh},Bs5TaggedImageComponent:function(){return qh},Bs5ToastItemComponent:function(){return jh},Bs5ToggleButtonComponent:function(){return Dh}});var L={};s.r(L);var O={};s.r(O),s.d(O,{LinkListComponent:function(){return Yh},LoggerComponent:function(){return Wh}});var x={};s.r(x);var P={};s.r(P);var N=s(866);let I;!function(t){t[t.HAVE_NOTHING=0]="HAVE_NOTHING",t[t.HAVE_METADATA=1]="HAVE_METADATA",t[t.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",t[t.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",t[t.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(I||(I={}));s(462);const D=t=>{const e={}.toString.call(t).match(/\s([a-z]+)/i);return e?e[1].toLowerCase():null},B=t=>!(!t||"string"!=typeof t)&&("{"===(t=t.trim()).charAt(0)||"["===t.charAt(0)),Z=t=>{if(!t||!B(t))return!1;try{const e=JSON.parse(t);return!(!Array.isArray(e)&&"object"!=typeof e)}catch(t){return!1}},M=t=>{let e=null;if(!B(t))return e;if(Z(t))e=JSON.parse(t)||null;else try{e=JSON.parse(t.replace(/'/g,'"'))||null}catch(t){console.warn(t)}return e},R=t=>void 0===t,H=t=>!R(t),j=t=>H(t)&&"object"==typeof t&&null!==t,U=t=>null!=t&&t.toString?t.toString():void 0,F=t=>!isNaN(parseFloat(t))&&!isNaN(t-0),V=t=>"boolean"==typeof t,q=t=>"string"==typeof t,z=t=>{if("number"==typeof t)return t;const e=t.replace(/[^-\d.]/g,"");return F(e)?Number(e):0},W=t=>{const e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""},Y=t=>t.replace(/-([a-z0-9])/g,(t=>t[1].toUpperCase())),G=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=s=>{for(const i in s)s.hasOwnProperty(i)&&(t.deep&&"[object Object]"===Object.prototype.toString.call(s[i])?e[i]=G(t,e[i],s[i]):t.keepValues?void 0===e[i]&&(e[i]=s[i]):t.onlyDefined?void 0!==s[i]&&(e[i]=s[i]):t.mergeArrays&&Array.isArray(e[i])&&Array.isArray(s[i])?e[i]=[...e[i],...s[i]]:e[i]=s[i])};for(let t=0;t<(arguments.length<=2?0:arguments.length-2);t++)s(t+2<2||arguments.length<=t+2?void 0:arguments[t+2]);return e},X=(t,e)=>Array.isArray(e)?t?e.map((t=>X(!0,t))):e.slice():j(e)?G({deep:t},{},e):e,K=t=>t.constructor;class ${constructor(t){this.elements=t}regists(t){if(!j(t))throw new Error("Elements to register must be an object of elements");for(const e in t)if(t[e]&&"__esModule"!==e){const s=t[e];this.regist(s,e)}return this.elements}}function Q(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function J(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Q(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class tt{static updateOptions(t){if(!t.adapters)throw new Error("adapters are required!");if(t.adapters&&(tt.adapters=J(J({},tt.adapters),t.adapters),tt.interfaces=Object.keys(tt.adapters)),tt.rootInterface=t.rootInterface||tt.interfaces[0],!tt.rootInterface)throw new Error("rootInterface is required!")}static tokenize(t,e){const s=[];let i,n,o={i:e,path:""};for(i=0;i<t.length;i++)n=t.charAt(i),~tt.interfaces.indexOf(n)?(s.push(o),o={i:n,path:""}):o.path+=n;return s.push(o),s}static get(t,e){return tt.adapters[t.i].get(e,t.path)}static set(t,e,s,i){t?tt.adapters[e.i].observe(s,e.path,i):tt.adapters[e.i].unobserve(s,e.path,i)}constructor(t,e,s){this.keypath=e,this.callback=s,this.objectPath=[];const i=this.parse();this.key=i.key,this.tokens=i.tokens,this.obj=this.getRootObject(t),this.target=this.realize(),j(this.target)&&tt.set(!0,this.key,this.target,this.callback)}parse(){let t,e;if(!tt.interfaces||!tt.interfaces.length)throw new Error('[Observer] Must define at least one adapter interface. interfaces: "'.concat(JSON.stringify(tt.interfaces),'" adapters: "').concat(JSON.stringify(tt.adapters),'"'));if(~tt.interfaces.indexOf(this.keypath[0])?(e=this.keypath[0],t=this.keypath.substr(1)):(e=tt.rootInterface,t=this.keypath),this.tokens=tt.tokenize(t,e),!this.tokens.length)throw new Error("[Observer] No tokens");return this.key=this.tokens.pop(),{key:this.key,tokens:this.tokens}}realize(){let t,e,s=this.obj,i=-1;for(let n=0;n<this.tokens.length;n++)e=this.tokens[n],j(s)?(void 0!==this.objectPath[n]?(t=this.objectPath[n],s!==t&&(tt.set(!1,e,t,this),tt.set(!0,e,s,this),this.objectPath[n]=s)):(tt.set(!0,e,s,this),this.objectPath[n]=s),s=tt.get(e,s)):(-1===i&&(i=n),t=this.objectPath[n],t&&tt.set(!1,e,t,this));return-1!==i&&this.objectPath.splice(i),s}sync(){let t,e;const s=this.realize();s!==this.target?(j(this.target)&&tt.set(!1,this.key,this.target,this.callback),j(s)&&tt.set(!0,this.key,s,this.callback),t=this.value(),this.target=s,e=this.value(),(e!==t||Array.isArray(e))&&this.callback.sync()):Array.isArray(s)&&this.callback.sync()}value(){if(j(this.target))return tt.get(this.key,this.target)}setValue(t){j(this.target)&&tt.adapters[this.key.i].set(this.target,this.key.path,t)}unobserve(){let t,e;for(let s=0;s<this.tokens.length;s++)e=this.tokens[s],t=this.objectPath[s],t&&tt.set(!1,e,t,this);j(this.target)&&tt.set(!1,this.key,this.target,this.callback)}getRootObject(t){let e,s;if(!t.$parent)return t;for(e=this.tokens.length?this.tokens[0].path:this.key.path,s=t;s.$parent&&void 0===s[e];)s=s.$parent;return s}}(0,N.Z)(tt,"interfaces",[]);class et extends ${constructor(t){super(t),(0,N.Z)(this,"type","adapter")}regist(t,e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e||t.name:t.name||e;if(!s)throw new Error("Adapter name not found!");this.elements[s]=t;const i={adapters:this.elements};return tt.updateOptions(i),this.elements}}class st extends ${constructor(t){super(t),(0,N.Z)(this,"type","binder")}regist(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)throw new Error("No Binder passed to register!");const i=s?e||t.key:t.key||e;if(!i)throw new Error("Binder name not found!");return this.elements[i]=t,this.elements}}class it{static getNamespaces(){return Object.keys(this.instances)}static getInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";const e=it.instances[t];return e||new this(t)}static getAllInstances(){return it.instances}static clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";const e=it.instances[t];return e.events={},e.eventsOnce={},e}static deleteInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";this.clearInstance(t),delete this.instances[t]}static clearAllInstances(){const t=this.getNamespaces();for(const e of t)this.clearInstance(e)}static deleteAllInstances(){this.clearAllInstances(),this.instances={}}get namespace(){return this._namespace}constructor(t){if((0,N.Z)(this,"events",{}),(0,N.Z)(this,"eventsOnce",{}),(0,N.Z)(this,"_namespace","anonymous"),t)return it.instances[t]||(this._namespace=t,it.instances[t]=this),it.instances[t]}once(t,e,s){this.eventsOnce[t]=this.eventsOnce[t]||[],void 0!==s?this.eventsOnce[t].push({cb:e.bind(s),orgCb:e,thisContext:s}):this.eventsOnce[t].push(e)}on(t,e,s){this.events[t]=this.events[t]||[],void 0!==s?this.events[t].push({cb:e.bind(s),orgCb:e,thisContext:s}):this.events[t].push(e)}off(t,e,s){if(void 0===t)return this.events={},void(this.eventsOnce={});if(void 0!==e)if(void 0!==s){if(t in this.events)for(const[i,n]of this.events[t].entries()){const o=n;o.orgCb===e&&o.thisContext===s&&this.events[t].splice(i,1)}if(t in this.eventsOnce)for(const[i,n]of this.eventsOnce[t].entries()){const o=n;o.orgCb===e&&o.thisContext===s&&this.eventsOnce[t].splice(i,1)}}else{if(t in this.events)for(const[s,i]of this.events[t].entries()){i===e&&this.events[t].splice(s,1)}if(t in this.eventsOnce)for(const[s,i]of this.eventsOnce[t].entries()){i===e&&this.eventsOnce[t].splice(s,1)}}else this.events[t]=[],this.eventsOnce[t]=[]}trigger(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];if(t in this.events)for(const e of this.events[t])null!=e&&e.cb?e.cb(...s):e(...s);if(t in this.eventsOnce)for(const[e,i]of this.eventsOnce[t].entries())null!=i&&i.cb?(i.cb(...s),this.eventsOnce[t].splice(e,1)):(i(...s),this.eventsOnce[t].splice(e,1))}}(0,N.Z)(it,"instances",{});class nt{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of CoreService not defined, please call setSingleton first!")}static setSingleton(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.instance)throw new Error("Singleton of CoreService already defined!");return this._options=t,this.instance=new this,this.instance}}(0,N.Z)(nt,"_options",{});class ot{constructor(){(0,N.Z)(this,"events",it.getInstance("lifecycle")),(0,N.Z)(this,"debug",!1),(0,N.Z)(this,"routerEvents",it.getInstance()),(0,N.Z)(this,"timeout",null),(0,N.Z)(this,"components",{}),this.addEventListeners(),this.reset(),ot.instance=this}static getInstance(){return ot.instance||(ot.instance=new ot),ot.instance}getEmpty(){return{components:[]}}addEventListeners(){this.events.on("Component:connected",(t=>{this.resetTimeout(),this.components[t.tagName]=this.components[t.tagName]||this.getEmpty(),this.components[t.tagName].components.push(t.component)})),this.events.on("Component:disconnected",(()=>{this.resetTimeout(),this.checkStates()})),this.events.on("Component:afterBind",(()=>{this.resetTimeout(),this.checkStates()})),this.events.on("Component:error",((t,e)=>{this.onError(t,e)})),this.routerEvents.on("newPageReady",((t,e,s,i,n,o,r)=>{this.debug&&console.debug("newPageReady",t,e,s,"firstPageLoad",r),r||this.reset()}))}getState(t){let e=0,s=0;for(const i of this.components[t].components)i.connected&&(e++,i.bound&&s++);return{connected:e,bound:s}}getStates(){const t={};for(const e in this.components){const s=this.getState(e);t[e]={state:s,components:this.components[e].components}}return t}checkStates(){let t=!0;const e=this.getStates();for(const s in e){const i=e[s].state;if(i.connected!==i.bound){t=!1;break}}return t&&this.onAllBound(),{states:e,allBound:t}}onAllBound(){this.clearTimeout(),this.events.trigger("ComponentLifecycle:allBound",this.components),this.debug&&console.debug("[ComponentLifecycle] All components bound!")}onError(t,e){this.clearTimeout(),console.error('The component "'.concat(e.tagName,'" has caused an error:'),t),this.events.trigger("ComponentLifecycle:error",t,e)}onTimeout(){this.clearTimeout();const t=this.getStates();if(Object.keys(t).length<=0)return void console.warn("No component found");let e="[ComponentLifecycle] Timeout! {count} component(s) takes too long!\nUnfinished components:\n",s=0;for(const i in t){const n=t[i].state;n.connected!==n.bound&&(s++,e+="".concat(i,": ").concat(JSON.stringify(t[i].state,null,2)," + \n"))}e=e.replace("{count}",s.toString()),this.events.trigger("ComponentLifecycle:error",new Error(e),{})}clearTimeout(){this.timeout&&window.clearTimeout(this.timeout)}resetTimeout(){var t;return this.debug&&console.debug("[ComponentLifecycle] reset timeout.."),this.clearTimeout(),this.timeout=window.setTimeout(this.onTimeout.bind(this),(null===(t=nt.options.lifecycle)||void 0===t?void 0:t.timeout)||5e3),this.timeout}reset(){this.debug&&console.debug("[ComponentLifecycle] reset!"),this.components={},this.resetTimeout()}}class rt extends ${constructor(t){super(t),(0,N.Z)(this,"type","components")}regist(t,e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e||t.tagName:t.tagName||e;return s?(this.elements[s]=t,this.elements):(console.warn(new Error("Component name not found!"),t),this.elements)}}class at extends ${constructor(t){super(t),(0,N.Z)(this,"type","formatter")}regist(t,e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e||t.name:t.name||e;if(!s)throw new Error("Formatter name not found!");return this.elements[s]=t,this.elements}}class lt{static setRequestHeaderEachRequest(t,e){this._requestHeadersEachRequest.push({name:t,value:e})}static async getJSON(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.fetch(t,"GET",e,"json",s,i)}static async post(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(t,"POST",e,s,i,n)}static async delete(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(t,"DELETE",e,s,i,n)}static async put(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(t,"PUT",e,s,i,n)}static async get(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(t,"GET",e,s,i,n)}static parseDataType(t){const e={};let s="application/x-www-form-urlencoded",i="*/*";switch(t){case"script":s="application/javascript";break;case"json":s="application/json",i="application/json, text/javascript";break;case"xml":s="application/xml",i="application/xml, text/xml";break;case"text":s="text/plain",i="text/plain";break;case"html":s="text/html",i="text/html";break;case"form":s="application/x-www-form-urlencoded"}return s&&(e["Content-Type"]=s,e.Accept=i),e}static async fetch(t){let e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!fetch)throw new Error("Your browser does not support the fetch API, use xhr instead or install a polyfill.");for(const t of this._requestHeadersEachRequest)o[t.name]=t.value;n&&(o=G({deep:!1},o,this.parseDataType(n))),r.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");const a=r.cache?r.cache:"default";if("GET"===s&&i){if(new URLSearchParams(i).toString()){const e=-1!==t.indexOf("?")?"&":"?";t=t+e+new URLSearchParams(i).toString()}}else i&&(e="form"===n?new URLSearchParams(i):JSON.stringify(i));const l=await fetch(t,{credentials:"same-origin",cache:a,method:s,body:e,headers:o,mode:r.mode||"cors"});let c=await l.text();if("string"==typeof c&&Z(c)&&(c=JSON.parse(c)),"string"==typeof c)switch(c){case"null":c=null;break;case"true":c=!0;break;case"false":c=!1;break;case"undefined":c=void 0}return{status:l.status,headers:l.headers,ok:l.ok,redirected:l.redirected,statusText:l.statusText,type:l.type,url:l.url,arrayBuffer:l.arrayBuffer,blob:l.blob,bodyUsed:l.bodyUsed,clone:l.clone,formData:l.formData,text:l.text,body:c}}}(0,N.Z)(lt,"_requestHeadersEachRequest",[]);class ct{constructor(){(0,N.Z)(this,"name","."),(0,N.Z)(this,"counter",0),(0,N.Z)(this,"weakmap",{})}weakReference(t){if(!t.hasOwnProperty("__rv")){const e=this.counter++;Object.defineProperty(t,"__rv",{value:e})}return this.weakmap[t.__rv]||(this.weakmap[t.__rv]={callbacks:{}}),this.weakmap[t.__rv]}cleanupWeakReference(t,e){Object.keys(t.callbacks).length||t.pointers&&Object.keys(t.pointers).length||delete this.weakmap[e]}stubFunction(t,e){const s=t[e],i=this.weakReference(t),n=this.weakmap;t[e]=function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];const a=s.apply(t,o);return Object.keys(i.pointers).forEach((t=>{const e=i.pointers[t];n[t]&&Array.isArray(n[t].callbacks[e])&&n[t].callbacks[e].forEach((t=>{t.sync()}))})),a}}observeMutations(t,e,s){if(Array.isArray(t)){const i=this.weakReference(t);i.pointers||(i.pointers={},ct.ARRAY_METHODS.forEach((e=>{this.stubFunction(t,e)}))),i.pointers[e]||(i.pointers[e]=[]),-1===i.pointers[e].indexOf(s)&&i.pointers[e].push(s)}}unobserveMutations(t,e,s){if(Array.isArray(t)&&null!=t.__rv){const i=this.weakmap[t.__rv];if(i){const n=i.pointers[e];if(n){const o=n.indexOf(s);o>-1&&n.splice(o,1),n.length||delete i.pointers[e],this.cleanupWeakReference(i,t.__rv)}}}}observe(t,e,s){let i;const n=this.weakReference(t).callbacks;if(!n[e]){n[e]=[];const s=Object.getOwnPropertyDescriptor(t,e);s&&(s.get||s.set||!s.configurable)||(i=t[e],Object.defineProperty(t,e,{enumerable:!0,get:()=>i,set:s=>{if(s!==i){this.unobserveMutations(i,t.__rv,e),i=s;const n=this.weakmap[t.__rv];if(n){const i=n.callbacks[e];i&&i.forEach((t=>{t.sync()})),this.observeMutations(s,t.__rv,e)}}}}))}-1===n[e].indexOf(s)&&n[e].push(s),this.observeMutations(t[e],t.__rv,e)}unobserve(t,e,s){const i=this.weakmap[t.__rv];if(i){const n=i.callbacks[e];if(n){const o=n.indexOf(s);o>-1&&(n.splice(o,1),n.length||(delete i.callbacks[e],this.unobserveMutations(t[e],t.__rv,e))),this.cleanupWeakReference(i,t.__rv)}}}get(t,e){return t[e]}set(t,e,s){t[e]=s}}(0,N.Z)(ct,"ARRAY_METHODS",["push","pop","shift","unshift","sort","reverse","splice"]);const ht=new ct,dt=()=>{const t={},e=new Promise(((e,s)=>{t.resolve=e,t.reject=s}));return t.promise=e,t},ut=t=>{let e,s,i=null,n=new Promise(((t,i)=>{e=t,s=i}));return function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return i&&cancelAnimationFrame(i),i=window.requestAnimationFrame((()=>{try{e(t(...r))}catch(t){s(t)}i=null,n=new Promise(((t,i)=>{e=t,s=i}))})),n}},pt=function(t){let e,s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=null,o=new Promise(((t,i)=>{e=t,s=i}));return function(){if(null===n){n=window.setTimeout((()=>{n=null,o=new Promise(((t,i)=>{e=t,s=i}))}),i);try{e(t(...arguments))}catch(t){s(t)}}return o}},vt=t=>{let e=t;if("true"===t)e=!0;else if("false"===t)e=!1;else if("null"===t)e=null;else if("undefined"===t)e=void 0;else if(""===t)e=void 0;else if(isNaN(Number(t))){const t=M(e);e=t||e}else e=Number(t),e>=Number.MAX_SAFE_INTEGER&&(e=t);return e},mt=t=>{const e=X(!1,t.dataset);for(const t in e)e[t]&&(e[t]=vt(e[t]));return e},gt=t=>{if(!t.hasChildNodes())return!1;const e=t.childNodes;var s;if(1===e.length&&3===e[0].nodeType&&(!e[0].nodeValue||""===(null===(s=e[0].nodeValue)||void 0===s?void 0:s.trim())))return!1;return!0},ft=t=>{const e=[];if("checkbox"===t.type)return t.checked;if("select-multiple"===t.type){const s=t.options;for(const t in s)if(s[t]){const i=s[t];i.selected&&e.push(i.value)}return e}return t.hasAttribute&&t.hasAttribute("contenteditable")?t.innerHTML:t.value},bt=async t=>new Promise((e=>{let s;const i=()=>{void 0!==s&&clearTimeout(s),s=setTimeout((()=>{e()}),100)};t.removeEventListener("scroll",i),t.addEventListener("scroll",i),i()})),yt=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vertical",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"smooth";s||(s=window);const o=bt(s);let r=0,a=0;if(s.document)if("vertical"===i){const i=s.scrollY||s.pageYOffset;r=Math.round(t.getBoundingClientRect().top+i-e)}else{const i=s.scrollX||s.pageXOffset;a=Math.round(t.getBoundingClientRect().left+i-e)}else if("vertical"===i){const i=z(window.getComputedStyle(s).marginTop);r=Math.round(t.offsetTop-e-i)}else{const i=z(window.getComputedStyle(s).marginLeft);a=Math.round(t.offsetLeft-e-i)}return s.scroll({behavior:n,left:a,top:r}),o},wt=async function(t,e){let s,i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"smooth";if(!t)return;const r=bt(t);if("vertical"===n||"both"===n)switch(e){case"start":s=0;break;case"end":if(t.document){const e=t,i=e.document;s=e.scrollMaxY||Math.max(i.body.scrollHeight,i.body.offsetHeight,i.documentElement.clientHeight,i.documentElement.scrollHeight,i.documentElement.offsetHeight)}else s=t.scrollHeight;break;default:s=e}if("horizontal"===n||"both"===n)switch(e){case"start":i=0;break;case"end":if(t.document){const e=t,s=e.document;i=e.scrollMaxX||Math.max(s.body.scrollWidth,s.body.offsetWidth,s.documentElement.clientWidth,s.documentElement.scrollWidth,s.documentElement.offsetWidth)}else i=t.scrollWidth;break;default:i=e}return t.scroll({behavior:o,top:s,left:i}),r};window.scrollToPosition=wt;const Et=t=>t.target||t.currentTarget||t.relatedTarget||t.delegateTarget||t.fromElement,St=()=>{const t=Math.max(document.documentElement?document.documentElement.clientWidth:0,window.innerWidth||0);return{h:Math.max(document.documentElement?document.documentElement.clientHeight:0,window.innerHeight||0),w:t}},Ct=function(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t)return!1;const i=t.getBoundingClientRect();if(!e){e=St().h-i.height}return i.top+i.height>=s&&i.bottom-i.height<=e},kt=t=>{do{t+=~~(1e3*Math.random())}while(document.getElementById(t));return t},Tt=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=-1!==t.localName.indexOf("-");if(i&&e&&customElements){const e=customElements.get(t.localName);return!!e&&(!s||e===t.constructor)}return i},At=async t=>(await customElements.whenDefined(t.localName),t),_t=t=>{if(!t)return-1;let e=0;do{e++,t=t.previousElementSibling}while(t);return e};let Lt=1;const Ot={};let xt=!1;const Pt="setImmediate$"+Math.random()+"$";function Nt(t){window.postMessage(Pt+t,"*")}function It(t){delete Ot[t]}function Dt(t){if(xt)setTimeout(Dt,0,t);else{const e=Ot[t];if(e){xt=!0;try{!function(t){(0,t.callback)(...t.args)}(e)}finally{It(t),xt=!1}}}}window.addEventListener("message",(function(t){t.source===window&&"string"==typeof t.data&&0===t.data.indexOf(Pt)&&Dt(+t.data.slice(Pt.length))}),!1);window.setImmediate,window.clearImmediate;const Bt=async t=>{if(navigator.clipboard)try{await navigator.clipboard.writeText(t),console.log("Copying to clipboard was successful: "+t)}catch(t){console.error("Could not copy text: ",t)}else(t=>{const e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{const e=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was ".concat(e,": ").concat(t))}catch(t){console.error("Fallback: Oops, unable to copy",t)}document.body.removeChild(e)})(t)},Zt=()=>{const t=navigator.userAgent,e=window.navigator.platform,s={windows7:/Windows NT 6.1/,windows8:/Windows NT 6.2/,windows81:/Windows NT 6.3/,windows10:/Windows NT 10.0/,windows:/windows/i,windowsPhone:/trident/i,android:/android/i,ios:/(ipad|iphone|ipod)/i,linux:/(linux)/i,unix:/(openbsd|freebsd|netbsd)/i,osxCatalina:/macintosh.+10(_|\.)15/i,osxBigSur:/macintosh.+((10(_|\.)16)|(11(_|\.)))/i,osx:/macintosh/i,mac:/mac/i},i={linux:/Linux/i,unix:/(FreeBSD|OpenBSD|X11|SunOS)/i,webOS:/webOS/i,playstation3:/playstation 3/i,playstation4:/playstation 4/i,PlaystationPortable:/psp/i,newNintendo3Ds:/new nintendo 3ds/i,nintendoDsi:/nintendo dsi/i,nintendo3Ds:/nintendo 3ds/i,nintendoWii:/nintendo wii/i,nintendoWiiU:/nintendo wiiu/i,palmos:/palmos/i,symbian:/(nokia_series_40|s60|symbian)/i};for(const e of Object.keys(s)){if(s[e].test(t))return"mac"===e&&"ontouchend"in document?"ios":e}for(const t of Object.keys(i)){if(i[t].test(e))return t}return"Unknown"},Mt=()=>{const t=Zt();let e=!1,s=!1,i=!1;switch(t){case"windows":case"windows10":case"windows7":case"windows8":case"windows81":case"osxBigSur":case"osxCatalina":case"osx":case"mac":case"linux":case"unix":s=!0;break;case"ios":case"android":case"windowsPhone":case"symbian":e=!0}return-1===t.indexOf("playstation")&&-1===t.indexOf("nintendo")||(i=!0),{isMobile:e,isDesktop:s,isGameConsole:i}},Rt=t=>{if(!t)return window.location;const e=document.createElement("a");return e.href=t,e},Ht=t=>{const e=Rt(t),s=Rt().hostname;return e.hostname===s?{url:e.pathname+e.search+e.hash,location:e}:{url:jt(t),location:e}},jt=t=>{const e=Rt(t);return e.protocol+"//"+e.host+e.pathname+e.search+e.hash},Ut=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){const s=Rt(),i=Rt(t);return(!e||s.search===i.search)&&(s.hostname===i.hostname&&s.pathname===i.pathname)}return!1},Ft=t=>t.replace(/#.*/,""),Vt=(t,e)=>{const s=Rt(e),i=void 0!==t?t:s.port,n=s.protocol;return""!==i?Number(i):"http:"===n?80:"https:"===n?443:void 0},qt=t=>{if((e=t)&&(new RegExp("^(?:[a-z]+:)?//","i").test(e)||e.startsWith("mailto:")||e.startsWith("tel:")||e.startsWith("fax:"))){const e=Rt(),s=e.protocol+"//"+e.hostname;let i=!0;return t.startsWith(s)&&(i=!1),i}var e;return!1},zt=/^'.*'$|^".*"$/,Wt=/((?:'[^']*')*(?:(?:[^|']*(?:'[^']*')+[^|']*)+|[^|]+))|^$/g;function Yt(t){let e=0,s=t;if(void 0===t)return{type:e,value:void 0};if(zt.test(t)){s=t.slice(1,-1);const e=M(s);s=e||s}else if("true"===t)s=!0;else if("false"===t)s=!1;else if("null"===t)s=null;else if("undefined"===t)s=void 0;else if(""===t)s=void 0;else if(isNaN(Number(t)))if(B(s)){const t=M(s);s=t||s}else e=1;else s=Number(t);return{type:e,value:s}}const Gt=/[^\s']+|'([^']|'[^\s])*'|"([^"]|"[^\s])*"/g,Xt=/\s+/;class Kt{constructor(t,e,s,i,n,o,r){(0,N.Z)(this,"publishes",!1),(0,N.Z)(this,"priority",0),(0,N.Z)(this,"formatterObservers",{}),this.view=t,this.el=e,this.type=s,this.name=i,this.keypath=n,this.formatters=o,this.model=void 0,this.args=r&&s?this.getStarArguments(r,s):new Array}observe(t,e,s){return new tt(t,e,s)}parseTarget(){if(this.keypath){const t=Yt(this.keypath);if(0===t.type)this.value=t.value;else{if(1!==t.type)throw new Error("[".concat(this.name,"] Unknown type in token"));this.observer=this.observe(this.view.models,this.keypath,this),this.model=this.observer.target}}else this.value=void 0}getIterationAlias(t){return"%"+t+"%"}parseFormatterArguments(t,e){return t.map(Yt).map(((t,s)=>{let{type:i,value:n}=t;if(0===i){return n}if(1===i){const t=n;this.formatterObservers[e]||(this.formatterObservers[e]={});let i=this.formatterObservers[e][s];return i||(i=this.observe(this.view.models,t,this),this.formatterObservers[e][s]=i),i.value()}throw new Error("[".concat(this.name,"] Unknown argument type"))}))}formattedValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null===this.formatters)throw new Error("[".concat(this.name," formatters is null"));let s=!1;const i=e?this.formatters.slice(e):this.formatters;return i.reduce(((e,n,o)=>{if(s)return e;const r=n.match(Gt);if(null===r)return console.warn(new Error("[".concat(this.name,'] No args matched with regex "FORMATTER_ARGS"!\nvalue: ').concat(JSON.stringify(t),"\nresult: ").concat(JSON.stringify(e),"\ndeclaration: ").concat(JSON.stringify(n),"\nindex: ").concat(o,"\n"))),e;const a=r.shift();if(!a)throw new Error("[".concat(this.name,"] No formatter id found in args!"));if(!this.view.options.formatters)throw new Error("[".concat(this.name,"] No formatters are defined!"));const l=this.view.options.formatters[a];if(!l)throw new Error("[".concat(this.name,'] No formatters with id "').concat(a,'" found!'));const c=this.parseFormatterArguments(r,o);return l&&"function"==typeof l.read&&(e=l.read.apply(this.model,[e,...c])),o<i.length-1&&e&&"function"==typeof e.then&&"function"==typeof e.catch?(s=!0,e.then((t=>this.formattedValue(t,o+1)))):e}),t)}eventHandler(t,e){const s=this.view.options.handler;return i=>{if(!s)throw new Error("No handler defined in binding.view.options.handler");s.call(t,this,i,this,e)}}set(t){try{t=this.formattedValue(t)}catch(e){return console.error(e),t}"function"==typeof this.routine&&(t&&"function"==typeof t.then&&"function"==typeof t.catch?t.then((t=>{this.routine(this.el,t)})).catch((t=>{console.error(t)})):this.routine(this.el,t))}sync(){this.observer?(this.model=this.observer.target,this.set(this.observer.value())):this.set(this.value)}publish(){if(this.observer){if(null===this.formatters)throw new Error("formatters is null");const t=this.formatters.reduceRight(((t,e,s)=>{const i=e.split(Xt),n=i.shift();if(!n)throw new Error("id not defined");if(!this.view.options.formatters)return;const o=this.view.options.formatters[n],r=this.parseFormatterArguments(i,s);return o&&"function"==typeof o.publish&&(t=o.publish(t,...r)),t}),this._getValue(this.el));this.observer.setValue(t)}}_bind(){if(this.parseTarget(),this.bind){if("function"!=typeof this.bind)throw new Error("the method bind is not a function");this.bind(this.el)}this.view.options.preloadData&&this.sync()}_unbind(){this.unbind&&this.unbind(this.el),this.observer&&this.observer.unobserve(),Object.keys(this.formatterObservers).forEach((t=>{const e=this.formatterObservers[t];Object.keys(e).forEach((t=>{e[t].unobserve()}))})),this.formatterObservers={}}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.observer&&(this.model=this.observer.target),"function"==typeof this.update&&this.update(t)}_getValue(t){return"function"==typeof this.getValue?this.getValue(t):ft(t)}getStarArguments(t,e){const s=new RegExp("^".concat(t.replace(/\*/g,"(.+)"),"$")),i=e.match(s);return i&&i.slice(1)||[]}}(0,N.Z)(Kt,"key",""),(0,N.Z)(Kt,"block",!1);class $t extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"function",!0),(0,N.Z)(this,"priority",1e3)}bind(t){const e=this.args[0];t.classList.add(e)}routine(t,e){const s=this.args[0];e?(t.classList.add(s+"-start"),t.classList.remove(s+"-done")):(t.classList.remove(s+"-start"),t.classList.add(s+"-done"))}}(0,N.Z)($t,"key","animate-*");class Qt extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"function",!0),(0,N.Z)(this,"priority",1e3)}bind(t){this.staticClasses=t.className.split(" ")}unbind(){delete this.staticClasses}routine(t,e){var s;e?-1===(null===(s=this.staticClasses)||void 0===s?void 0:s.indexOf(e))&&(t.className=this.staticClasses.join(" ")+" "+e):this.staticClasses&&(t.className=this.staticClasses.join(" "));t.className=t.className.trim()}}(0,N.Z)(Qt,"key","add-class");class Jt extends Kt{routine(t,e){const s=Y(this.args[0].trim());this.view.models[s]=e}}(0,N.Z)(Jt,"key","assign-*");class te extends Kt{routine(t,e){if("object"==typeof e)return G({deep:!1},this.view.models,e);console.warn("Value must be an object or propertyName is required")}}(0,N.Z)(te,"key","assign");class ee extends Kt{routine(){}}(0,N.Z)(ee,"key","block"),(0,N.Z)(ee,"block",!0);class se extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"publishes",!0),(0,N.Z)(this,"priority",2e3),(0,N.Z)(this,"onChange",this.publish.bind(this))}bind(t){t.addEventListener("change",this.onChange)}unbind(t){t.removeEventListener("change",this.onChange)}routine(t,e){let s;this._getValue?s=this._getValue(t):(console.warn("this._getValue is not a function, this: ",this),s=ft(t)),"radio"===t.type?t.checked=U(s)===U(e):s!==e&&(t.checked=!!e)}getValue(t){return ft(t)}}(0,N.Z)(se,"key","checked");class ie extends Kt{routine(t,e){if(null===this.args)throw new Error("args is null");const s=t.className.split(" ").filter((t=>""!==t)),i=this.args[0].trim(),n=s.indexOf(i);-1===n?e&&(t.className+=" ".concat(i)):e||(t.className=s.filter(((t,e)=>e!==n)).join(" "))}}(0,N.Z)(ie,"key","class-*");class ne extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"publishes",!0)}routineIntern(t,e){const s=this.args[0].trim();t.setBinderAttribute?void 0!==e&&t.setBinderAttribute(s,e):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",t)}async routine(t,e){Tt(t,!0,!0)?this.routineIntern(t,e):Tt(t,!0)?(await At(t),this.routineIntern(t,e)):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",t)}bindIntern(t){const e=this.args[0].trim();"function"==typeof t.observeAttribute?this.componentAttributeObserver=t.observeAttribute(e,{sync:()=>{this.publish()}}):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",t)}async bind(t){Tt(t,!0,!0)?this.bindIntern(t):Tt(t,!0)?(await At(t),this.bindIntern(t)):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",t)}unbind(){var t;null===(t=this.componentAttributeObserver)||void 0===t||t.unobserve()}getValue(t){const e=this.args[0].trim();return t.getBinderAttribute(e)}}(0,N.Z)(ne,"key","co-*");class oe extends Kt{routine(t,e){t.disabled=!!e}}(0,N.Z)(oe,"key","disabled");class re extends Kt{routine(t,e){t.data=null!=e?e:""}}function ae(t,e){let s=null;const i=t.length;let n=0,o=0;const r=e[0],a=e[1];for(;o<i;){if(n=t.indexOf(r,o),n<0){s&&s.push({type:0,value:t.slice(o)});break}{if(s=s||[],n>0&&o<n&&s.push({type:0,value:t.slice(o,n)}),o=n+r.length,n=t.indexOf(a,o),n<0){const e=t.slice(o-r.length),i=s[s.length-1];i&&0===i.type?i.value+=e:s.push({type:0,value:e});break}const e=t.slice(o,n).trim();s.push({type:1,value:e}),o=n+a.length}}return s}function le(t,e,s){let i=!1;if((e=e).nodeType===Node.TEXT_NODE){let n=null;if(e.data&&(n=ae(e.data,s)),n&&n.length){for(let s=0;s<n.length;s++){const i=n[s],o=document.createTextNode(i.value);e.parentNode&&o&&e&&e.parentNode.insertBefore(o,e),1===i.type&&t.buildBinding(o,null,i.value,re,null)}e.parentNode&&e.parentNode.removeChild(e)}i=!0}else e.nodeType===Node.ELEMENT_NODE&&(i=t.traverse(e));if(!i&&e.childNodes&&e.childNodes.length>0)for(let i=0;i<e.childNodes.length;i++){const n=e.childNodes[i];n&&le(t,n,s)}}(0,N.Z)(re,"key","mustache-text");const ce={name:"json",read(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=JSON.stringify(t,null,e);return s&&i?i.replace(/'/g,"&#39;"):i}};class he extends Kt{routine(t,e){if(!this.type)throw new Error("Can't set attribute of "+this.type);const s=t.getAttribute(this.type);let i;switch(typeof e){case"string":case"number":case"boolean":i=e;break;case"object":null===e?e=null:i=ce.read(e,0);break;default:i=e}null!=i?String(s).toString()!==String(i).toString()&&(t.setAttribute(this.type,i),t.dispatchEvent(new CustomEvent("binder-changed",{detail:{name:this.type,newValue:i,oldValue:s}}))):(t.removeAttribute(this.type),t.dispatchEvent(new CustomEvent("binder-changed",{detail:{name:this.type,newValue:i,oldValue:s}})))}}(0,N.Z)(he,"key","*");class de{static create(t,e,s){var i;const n=t.el.cloneNode(!0),o=new de(n,e,t.view.options);return o.bind(),null!=t&&null!==(i=t.marker)&&void 0!==i&&i.parentNode?t.marker.parentNode.insertBefore(n,s):console.warn("[View]: No parent node for binding!"),o}constructor(t,e,s){(0,N.Z)(this,"bindings",[]),(0,N.Z)(this,"webComponents",[]),Array.isArray(t)?this.els=t:this.els=[t],this.models=e,this.options=s,this.build()}registComponents(){for(const t in this.options.components)if(this.options.components[t]&&!customElements.get(t)){const e=this.options.components[t];this.registComponent(e,t)}}bind(){this.bindings.forEach((t=>{t._bind()}))}unbind(){Array.isArray(this.bindings)&&this.bindings.forEach((t=>{t._unbind(),t.el,this.options.removeBinderAttributes})),Array.isArray(this.webComponents)&&this.webComponents.forEach((t=>{"function"==typeof t.unbind&&t.unbind()}))}sync(){this.bindings.forEach((t=>{t.sync&&t.sync()}))}publish(){this.bindings.forEach((t=>{t.publishes&&t.publish&&t.publish()}))}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach((e=>{this.models[e]=t[e]}));for(const e of this.bindings)e._update&&e._update(t)}build(){if(this.bindings=[],!this.options.templateDelimiters)throw new Error("templateDelimiters required");const t=this.els;for(let e=0;e<t.length;e++){const s=t[e];s&&le(this,s,this.options.templateDelimiters)}this.bindings.sort(de.bindingComparator)}startsWithPrefix(t){const e=this.options.fullPrefix;if(!e)throw new Error("prefix is required");for(const s of e)if(t.startsWith(s))return s}bindBinders(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.attributeBinders,i=!1;if(!this.options.binders)return i;const n=[];for(let o=0,r=t.length;o<r;o++){let r="",a=null;const l=t[o],c=this.startsWithPrefix(l.name);if(c){let t="";if(r=l.name.slice(c.length),this.options.binders[r]&&(a=this.options.binders[r]),null===a)for(let e=0;e<s.length;e++){t=s[e];if(new RegExp("^".concat(t.replace(/\*/g,".+"),"$")).test(r)){a=this.options.binders[t];break}}if(null===a&&(this.options.binders["*"]?(a=this.options.binders["*"],t="*"):a=he),a.block)return this.buildBinding(e,r,l.value,a,t),e.removeAttribute&&this.options.removeBinderAttributes&&e.removeAttribute(l.name),i=!0,i;n.push({attr:l,Binder:a,nodeName:r,identifier:t})}}for(let t=0;t<n.length;t++){const s=n[t];this.buildBinding(e,s.nodeName,s.attr.value,s.Binder,s.identifier),e.removeAttribute&&this.options.removeBinderAttributes&&e.removeAttribute(s.attr.name)}return i}bindComponent(t){let e=!1;if(!this.options.components)return e;const s=t.nodeName.toLowerCase(),i=this.options.components[s];return i?(this.registComponent(i,s),e=!0):this.options.blockUnknownCustomElements&&Tt(t)&&!s.endsWith("-page")&&(e=!0),e}traverse(t){let e=-1!==this.options.blockNodeNames.indexOf(t.nodeName);const s=t.attributes;return s&&this.options.binders&&(e=this.bindBinders(s,t),e)||e||t._bound||!this.options.components||(e=this.bindComponent(t)),e}buildBinding(t,e,s,i,n){const o=function(t){const e=t.match(Wt);if(null===e)throw new Error("[View] No matches");const s=e.map((t=>t.trim()));return{keypath:s.shift()||void 0,pipes:s}}(s),r=o.keypath,a=o.pipes;this.bindings.push(new i(this,t,e,i.key,r,a,n))}registComponent(t,e){if(!customElements)throw console.error("customElements not supported by your browser!"),new Error("customElements not supported by your browser!");const s=e||t.tagName;customElements.get(s)||customElements.define(t.tagName,t)}}(0,N.Z)(de,"bindingComparator",((t,e)=>{const s=t.priority||0;return(e.priority||0)-s}));class ue extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"priority",4e3),(0,N.Z)(this,"iterated",[])}bind(t){var e,s,i;this.marker?this.iterated.forEach((t=>{t.bind()})):(this.marker=null===(e=window)||void 0===e||null===(s=e.document)||void 0===s?void 0:s.createComment(" riba: ".concat(this.type," ")),null!==(i=t.parentNode)&&void 0!==i&&i.insertBefore&&this.marker&&(t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)))}unbind(){this.iterated&&this.iterated.forEach((t=>{t.unbind()}))}routine(t,e){if(null===this.args)throw new Error("args is null");let s=!1;const i=Y(this.args[0].toString());if(e=e||[],Array.isArray(e)||"object"!=typeof e||null===e||(e=Object.entries(e).map((t=>{let[e,s]=t;return{key:e,value:s}})),s=!0),!Array.isArray(e))throw new Error("each-".concat(this.args[0]," needs an array or object to iterate over, but it is ").concat(typeof e));const n=t.getAttribute("index-property")||this.getIterationAlias(i);e.forEach(((t,e)=>{const o={$parent:this.view.models};s?(o[n]=t.key,o[i]=t.value):(o[n]=e,o[i]=t);let r=this.iterated[e];if(r)if(r.models[i]!==t){let s,l=this.iterated[e];for(let n=e+1;n<this.iterated.length;n++)if(l=this.iterated[n],l.models[i]===t){s=n;break}if(void 0!==s){var a;if(this.iterated.splice(s,1),!this.marker||null===(a=this.marker.parentNode)||void 0===a||!a.insertBefore)throw new Error("Marker has no parent node");l&&l.els[0]&&r.els[0]&&this.marker.parentNode.insertBefore(l.els[0],r.els[0]),l.models[n]=e}else l=de.create(this,o,r.els[0]);this.iterated.splice(e,0,l)}else r.models[n]=e;else{let t;if(this.iterated.length?t=this.iterated[this.iterated.length-1].els[0]:this.marker&&(t=this.marker),!t)return;r=de.create(this,o,t.nextSibling),this.iterated.push(r)}})),this.iterated.length>e.length&&((t,e)=>{for(let s=0;s<t;s++)e()})(this.iterated.length-e.length,(()=>{const t=this.iterated.pop();if(!t)throw new Error("view is undefined!");if(t.unbind(),!this.marker||!this.marker.parentNode)throw new Error("Marker has no parent node");this.marker.parentNode.removeChild(t.els[0])})),"OPTION"===t.nodeName&&this.view.bindings&&this.view.bindings.forEach((t=>{this.marker&&t.el===this.marker.parentNode&&"value"===t.type&&t.sync&&t.sync()}))}update(t){const e={};Object.keys(t).forEach((s=>{if(null===this.args)throw new Error("args is null");s!==this.args[0]&&(e[s]=t[s])})),this.iterated.forEach((t=>{t.update(e)}))}}(0,N.Z)(ue,"key","each-*"),(0,N.Z)(ue,"block",!0);class pe extends Kt{routine(t,e){t.disabled=!e}}(0,N.Z)(pe,"key","enabled");class ve extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"priority",9e4)}routine(t,e){const s=Array.from(t.children);s.sort(((t,s)=>t.dataset.sortBy&&s.dataset.sortBy?t.dataset.sortBy<s.dataset.sortBy?e?1:-1:t.dataset.sortBy>s.dataset.sortBy?e?-1:1:0:0));for(let t=0;t<s.length;t++){s[t].style.order=t.toString()}}}(0,N.Z)(ve,"key","flex-sort-childs");class me extends Kt{routine(t,e){t.style.display=e?"none":"",e?t.setAttribute("hidden","true"):t.removeAttribute("hidden")}}(0,N.Z)(me,"key","hide");class ge extends Kt{routine(t,e){t.innerHTML=void 0!==e?e.toString():""}}(0,N.Z)(ge,"key","html");class fe extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"priority",4e3),(0,N.Z)(this,"attached",!1)}bind(t){var e,s,i;this.marker?this.nested&&this.nested.bind():(this.marker=null===(e=window)||void 0===e||null===(s=e.document)||void 0===s?void 0:s.createComment(" riba: "+this.type+" "+this.keypath+" "),this.attached=!1,null!==(i=t.parentNode)&&void 0!==i&&i.insertBefore&&(t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)))}unbind(){this.nested&&this.nested.unbind()}routine(t,e){(e=!!e)!==this.attached&&(e?(this.nested||(this.nested=new de(t,this.view.models,this.view.options),this.nested.bind()),this.marker&&this.marker.parentNode&&this.marker.parentNode.insertBefore(t,this.marker.nextSibling),this.attached=!0):(t.parentNode&&t.parentNode.removeChild(t),this.attached=!1))}update(t){this.nested&&this.nested.update(t)}}(0,N.Z)(fe,"key","if"),(0,N.Z)(fe,"block",!0);class be extends Kt{routine(t,e){"number"==typeof e?(t.setAttribute("maxlength",e.toString()),t.maxLength=e):t.removeAttribute("maxlength")}}(0,N.Z)(be,"key","maxlength");class ye extends Kt{routine(t){t.addEventListener("dragstart",(t=>(t.preventDefault(),!1)))}}(0,N.Z)(ye,"key","not-draggable");class we extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"function",!0),(0,N.Z)(this,"priority",1e3)}unbind(t){if(this.handler){if(null===this.args)throw new Error("args is null");const e=this.args[0];t.removeEventListener(e,this.handler)}}routine(t,e){if(null===this.args)throw new Error("args is null");const s=this.args[0],i={passive:"true"===this.el.dataset.passive};this.handler&&t.removeEventListener(s,this.handler,i),this.handler=this.eventHandler(e,t).bind(this),t.addEventListener(s,this.handler,i)}}(0,N.Z)(we,"key","on-*");class Ee extends Kt{routine(){}bindIntern(t){t.setBinderAttribute?t.setBinderAttribute("$parent",this.view.models):console.warn("[parentBinder] You can only use this binder on Riba components",t.localName,customElements.get(t.localName))}async bind(t){Tt(t,!0,!0)?this.bindIntern(t):Tt(t,!0)?(console.info("[parentBinder] CustomElement ".concat(t.localName," has been defined, but is not yet upgraded. Waiting for upgrade.."),t),await At(t),this.bindIntern(t)):console.warn("[parentBinder] You can only use this binder on Riba components",t.localName)}}(0,N.Z)(Ee,"key","parent");class Se extends Kt{routine(t,e){e=!!e,t.readOnly=e,e?t.setAttribute("readonly",""):t.removeAttribute("readonly")}}(0,N.Z)(Se,"key","readonly");class Ce extends Kt{bind(t){this.staticClassesString=t.className}routine(t,e){const s=new RegExp("\\b".concat(e,"\\b"),"g");if(!this.staticClassesString)throw new Error("staticClassesString is undefined!");t.className=this.staticClassesString.replace(s,"").trim()}}(0,N.Z)(Ce,"key","remove-class");class ke extends Kt{routine(t,e){t.style.display=e?"":"none",e?t.removeAttribute("hidden"):t.setAttribute("hidden","true")}}(0,N.Z)(ke,"key","show");class Te extends Kt{routine(t,e){const s=this.args[0];let i=t.getAttribute("srcset");if("string"!=typeof i&&(i=""),"string"==typeof e&&e.length>0){const t=i.length>0?", ":"";i+="".concat(t).concat(e," ").concat(s)}else{let t=i.split(",");t=t.map((t=>t.trim())),t=t.filter((t=>!(-1!==t.indexOf(s)))),i=t.join(", ")||""}t.setAttribute("srcset",i)}}(0,N.Z)(Te,"key","srcset-*");class Ae extends Kt{routine(t,e){const s="background-image";null==e||""===e?t.style.removeProperty(s):t.style.setProperty(s,"url(".concat(e,")"))}}(0,N.Z)(Ae,"key","style-background-image");class _e extends Kt{routine(t,e){const s=this.args[0];null==e||""===e?t.style.removeProperty(s.toString()):t.style.setProperty(s.toString(),e)}}(0,N.Z)(_e,"key","style-*");class Le extends Kt{routine(t,e){if(e)if("string"==typeof e)t.setAttribute("style",e);else for(const s of Object.keys(e))t.style.setProperty(s.replace(/[A-Z]/g,(t=>"-".concat(t.toLowerCase()))),e[s]||null);else for(const e of Object.keys(t.style))t.style.removeProperty(e)}}(0,N.Z)(Le,"key","style");class Oe extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"priority",-1e3)}bind(t){this.originalTag=t.tagName.toLowerCase()}routine(t,e){if(null===this.args)throw new Error("args is null");const s=this.el.tagName.toLowerCase();let i;if(e)i=this.args[0].trim().toLowerCase();else{if(!this.originalTag)throw new Error("Tag name not found!");i=this.originalTag.toLowerCase()}if(s!==i){const e=document.createElement(i);for(;t.childNodes.length>0;)t.firstChild&&e.appendChild(t.firstChild);const s=Array.prototype.slice.call(t.attributes);for(const t of s)e.setAttribute(t.name,t.value);t.parentNode?t.parentNode.replaceChild(e,t):console.warn("No parent"),this.el=e}}}(0,N.Z)(Oe,"key","tag-*");class xe extends Kt{bind(t){this.nested=new de(t,this.view.models,this.view.options)}routine(t,e){var s,i;null===(s=this.nested)||void 0===s||s.unbind(),t.innerHTML=e||"",this.nested=new de(t,this.view.models,this.view.options),null===(i=this.nested)||void 0===i||i.bind()}unbind(){var t;null===(t=this.nested)||void 0===t||t.unbind()}update(t){var e;null===(e=this.nested)||void 0===e||e.update(t)}}(0,N.Z)(xe,"key","template");class Pe extends Kt{routine(t,e){t.textContent=null!=e?e.toString():""}}(0,N.Z)(Pe,"key","text");class Ne extends Kt{toggle(){this.propertyKey&&(this.view.models[this.propertyKey]=!this.view.models[this.propertyKey])}bind(t){const e=this.args[0],s="true"===this.el.dataset.passive;t.addEventListener(e,this.toggle,{passive:s})}unbind(t){if(null===this.args)throw new Error("args is null");const e=this.args[0];t.removeEventListener(e,this.toggle)}routine(t,e){if(null===this.args)throw new Error("args is null");this.propertyKey=e}}(0,N.Z)(Ne,"key","toggle-on-*");class Ie extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"publishes",!0),(0,N.Z)(this,"priority",2e3),(0,N.Z)(this,"onChange",this.publish.bind(this))}bind(t){t.addEventListener("change",this.onChange)}unbind(t){t.removeEventListener("change",this.onChange)}routine(t,e){"radio"===t.type?t.checked=U(t.value)!==U(e):t.checked=!e}getValue(t){return ft(t)}}(0,N.Z)(Ie,"key","unchecked");class De extends fe{routine(t,e){return super.routine(t,!e)}}(0,N.Z)(De,"key","unless");class Be extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"publishes",!0),(0,N.Z)(this,"priority",3e3),(0,N.Z)(this,"onChange",this.publish.bind(this))}getData(t){const e={type:t.type,tagName:t.tagName,contenteditable:!!t.getAttribute("contenteditable"),isRadio:!1};return e.isRadio="INPUT"===e.tagName&&"radio"===e.type,e}bind(t){if(!this.getData(t).isRadio){this.event=t.getAttribute("event-name")||"change input paste blur focus";const e=this.event.split(" ");for(const s of e)t.addEventListener(s.trim(),this.onChange,!1)}}unbind(t){if(this.event){const e=this.event.split(" ");for(const s in e)t.removeEventListener(s.trim(),this.onChange)}}routine(t,e){let s=this.getValue(t);if(Array.isArray(e)||(e=null!=e?U(e):""),Array.isArray(s)||(s=null!=s?U(s):""),s===e)return;if(this.getData(t).isRadio)t.setAttribute("value",e);else if("select-multiple"===t.type){if(Array.isArray(e))for(let s=0;s<t.options.length;s++){const i=t.options[s];i.selected=e.indexOf(i.value)>-1}}else t.getAttribute("contenteditable")?t.innerHTML=e:t.value=e}getValue(t){return ft(t)}}(0,N.Z)(Be,"key","value");class Ze{constructor(t,e,s,i){this.binder=new st(t),this.component=new rt(e),this.formatter=new at(s),this.adapter=new et(i)}regist(t){if(!t)throw console.error(t),new Error("The Riba module is falsy!");t.binders&&this.binder.regists(t.binders),t.components&&this.component.regists(t.components),t.formatters&&this.formatter.regists(t.formatters),t.adapters&&this.adapter.regists(t.adapters)}}function Me(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Re(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Me(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Me(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class He{static handler(t,e,s,i){if(!this||!this.call){const t=new Error("[rv-".concat(s.type,'="').concat(s.keypath,'"] Event handler "').concat(s.keypath,'" not found!"'));throw console.error(t,s,i,s.view.models),t}this.call(t,e,s.view.models,i)}set prefix(t){if(Array.isArray(t)){this._prefix=[],this._fullPrefix=[];for(const e of t)this._prefix.push(e),this._fullPrefix.push(e+"-")}}get prefix(){return this._prefix}get fullPrefix(){return this._fullPrefix}constructor(){if((0,N.Z)(this,"lifecycle",ot.getInstance()),(0,N.Z)(this,"binders",{}),(0,N.Z)(this,"components",{}),(0,N.Z)(this,"formatters",{}),(0,N.Z)(this,"adapters",{}),(0,N.Z)(this,"parseTemplate",ae),(0,N.Z)(this,"parseType",Yt),(0,N.Z)(this,"templateDelimiters",["{","}"]),(0,N.Z)(this,"rootInterface","."),(0,N.Z)(this,"preloadData",!0),(0,N.Z)(this,"removeBinderAttributes",!0),(0,N.Z)(this,"blockNodeNames",["SCRIPT","STYLE","TEMPLATE","CODE"]),(0,N.Z)(this,"blockUnknownCustomElements",!0),(0,N.Z)(this,"_prefix",["rv"]),(0,N.Z)(this,"_fullPrefix",["rv-"]),this.module=new Ze(this.binders,this.components,this.formatters,this.adapters),He.instance)return He.instance;He.instance=this}configure(t){if(t)for(const[e,s]of Object.entries(t))switch(e){case"binders":this.binders=Re(Re({},this.binders),s);break;case"formatters":this.formatters=Re(Re({},this.formatters),s);break;case"components":this.components=Re(Re({},this.components),s);break;case"adapters":this.adapters=Re(Re({},this.adapters),s);break;case"prefix":this.prefix=s;break;case"parseTemplate":this.parseTemplate=s;break;case"parseType":this.parseType=s;break;case"templateDelimiters":this.templateDelimiters=s;break;case"rootInterface":this.rootInterface=s;break;case"preloadData":this.preloadData=s;break;case"blockNodeNames":this.blockNodeNames=s;break;case"blockUnknownCustomElements":this.blockUnknownCustomElements=Boolean(s);break;default:console.warn("Option not supported",e,s)}}getViewOptions(t){const e={adapters:{},binders:{},components:{},formatters:{},attributeBinders:[],rootInterface:{}};if(t&&(e.binders=Re(Re({},e.binders),t.binders),e.formatters=Re(Re({},e.formatters),t.formatters),e.components=Re(Re({},e.components),t.components),e.adapters=Re(Re({},e.adapters),t.adapters)),null!=t&&t.prefix&&Array.isArray(null==t?void 0:t.prefix)){e.prefix=[],e.fullPrefix=[];for(const s of t.prefix)e.prefix.push(s),e.fullPrefix.push(s+"-")}else e.prefix=this.prefix,e.fullPrefix=this.fullPrefix;if(e.templateDelimiters=(null==t?void 0:t.templateDelimiters)||this.templateDelimiters,e.rootInterface=(null==t?void 0:t.rootInterface)||this.rootInterface,e.removeBinderAttributes="boolean"==typeof(null==t?void 0:t.removeBinderAttributes)?t.removeBinderAttributes:this.removeBinderAttributes,e.blockNodeNames=(null==t?void 0:t.blockNodeNames)||this.blockNodeNames,e.preloadData="boolean"==typeof(null==t?void 0:t.preloadData)?t.preloadData:this.preloadData,e.handler=(null==t?void 0:t.handler)||He.handler,e.binders=Re(Re({},this.binders),e.binders),e.formatters=Re(Re({},this.formatters),e.formatters),e.components=Re(Re({},this.components),e.components),e.adapters=Re(Re({},this.adapters),e.adapters),e.attributeBinders||(e.attributeBinders=[]),e.binders){const t=Object.keys(e.binders).filter((t=>t.indexOf("*")>=1));e.attributeBinders.push(...t)}return e}bind(t,e,s){const i=this.getViewOptions(s);e=e||Object.create(null),tt.updateOptions(i);const n=new de(t,e,i);return n.bind(),n}}window.Riba=He;const je=()=>{let t="#";for(let e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t};class Ue extends HTMLElement{constructor(){super(),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"templateLoaded",!1),(0,N.Z)(this,"observedAttributesToCheck",{}),(0,N.Z)(this,"observedAttributes",[]),this._debug&&(this._color=je())}remove(){this&&this.parentElement&&this.parentElement.removeChild(this)}_log(t){const e=this.constructor.name||this.tagName;this._color||(this._color=je());for(var s=arguments.length,i=new Array(s>1?s-1:0),n=1;n<s;n++)i[n-1]=arguments[n];!function(t){const e=[];t.color?(t.namespace?e.push("%c[".concat(t.namespace,"] ").concat(t.mode.toUpperCase(),": ")):e.push("%c".concat(t.mode.toUpperCase(),": ")),e.push("color: ".concat(t.color))):t.namespace?e.push("[".concat(t.namespace,"] ").concat(t.mode.toUpperCase(),": ")):e.push("".concat(t.mode.toUpperCase(),": "));for(var s=arguments.length,i=new Array(s>1?s-1:0),n=1;n<s;n++)i[n-1]=arguments[n];e.push(...i),console[t.mode](...e)}({namespace:e,color:this._color,mode:t},...i)}info(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this._log("info",...e)}debug(){if(this._debug){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this._log("debug",...e)}}error(){console.error(...arguments)}requiredAttributes(){return[]}async init(t){this.loadAttributes(t),this.getPassedObservedAttributes(t)}ready(){return this.allPassedObservedAttributesAreInitialized()&&this.checkRequiredAttributes()}attributeIsPassed(t){return this.hasAttribute(t)}getPassedObservedAttributes(t){const e=this.observedAttributesToCheck;for(const s of t)e[s]?e[s].passed||(e[s].passed=this.attributeIsPassed(s)):e[s]={passed:!1,initialized:!1}}allPassedObservedAttributesAreInitialized(){return Object.keys(this.observedAttributesToCheck).every((t=>{var e,s;return!(null!==(e=this.observedAttributesToCheck[t])&&void 0!==e&&e.passed)||(null===(s=this.observedAttributesToCheck[t])||void 0===s?void 0:s.initialized)}))}checkRequiredAttributes(){return this.requiredAttributes().every((t=>(t=Y(t),this.scope.hasOwnProperty(t)&&void 0!==this.scope[t])))}parseAttribute(t){let e=t;if("true"===t)e=!0;else if("false"===t)e=!1;else if("null"===t)e=null;else if("undefined"===t)e=void 0;else if(""===t)e=void 0;else if(isNaN(Number(t))){const t=M(e);e=t||e}else e=Number(t),e>=Number.MAX_SAFE_INTEGER&&(e=t);return e}eventHandler(t){return function(e,s,i,n){if(!this||!this.call){const t=new Error("[rv-".concat(i.type,'="').concat(i.keypath,'"] Event handler "').concat(i.keypath,'" not found!"'));throw console.error(i,n),t}this.call(t,s,i.view.models,n)}}connectedCallback(){}disconnectedCallback(){}async attributeChangedCallback(t,e,s,i){this.observedAttributesToCheck&&this.observedAttributesToCheck[t]&&(this.observedAttributesToCheck[t].initialized=!0),s=this.parseAttribute(s);const n=Y(t);this.scope&&this.scope[n]&&(e=this.scope[n]),this.scope[n]=s,this.parsedAttributeChangedCallback(n,e,s,i)}parsedAttributeChangedCallback(t,e,s,i){this.debug("parsedAttributeChangedCallback called",t,e,s,i)}adoptedCallback(t,e){this.debug("adoptedCallback called",t,e)}async loadTemplate(){return!0===this.templateLoaded?null:this.checkRequiredAttributes()?(this.templateLoaded=!0,Promise.resolve(this.template()).then((t=>(t instanceof HTMLElement?(this.innerHTML="",this.appendChild(t)):null!==t&&(this.innerHTML=t),t))).catch((t=>(console.error(t),this.templateLoaded=!1,null)))):(this.debug("Not all required attributes are set to load the template"),null)}async beforeTemplate(){}async afterTemplate(t){this.debug("afterTemplate",t)}async onReady(){}observe(t,e){return new tt(this.scope,t,e)}observeAttribute(t,e){const s=Y(t);return this.observe(s,e)}setBinderAttribute(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=Y(t),n=this.scope[i];this.attributeChangedCallback(t,n,e,s)}getBinderAttribute(t){const e=Y(t);return this.scope[e]}loadAttributes(t){const e=this.attributes;for(const s in e){const i=e[s],n=i.nodeName;if(-1!==t.indexOf(n)){const t=i.nodeValue;this.attributeChangedCallback(n,void 0,t,null)}}}}class Fe extends Ue{get binds(){return this._binds}get bound(){return this._bound}get connected(){return this._connected}get disconnected(){return this._disconnected}constructor(){super(),(0,N.Z)(this,"view",null),(0,N.Z)(this,"_binds",!1),(0,N.Z)(this,"_bound",!1),(0,N.Z)(this,"_connected",!1),(0,N.Z)(this,"_disconnected",!1),(0,N.Z)(this,"lifecycleEvents",it.getInstance("lifecycle")),(0,N.Z)(this,"autobind",!0),this.lifecycleEvents.trigger("Component:constructor",this.getLifecycleEventData()),this.lifecycleEvents.on("ComponentLifecycle:allBound",this.afterAllBind,this)}async init(t){try{return await super.init(t),this.lifecycleEvents.trigger("Component:init",this.getLifecycleEventData()),this.bindIfReady()}catch(t){this.throw(t)}}throw(t){t.message&&console.error("[".concat(this.tagName,"] ").concat(t.message)),this.lifecycleEvents.trigger("Component:error",t,this.getLifecycleEventData()),this.error(t)}async bindIfReady(){if(this.ready()){await this.beforeTemplate();const t=await this.loadTemplate();return await this.afterTemplate(t),this.autobind&&await this.bind(),void await this.onReady()}this.debug("Not all required or passed attributes are set to load and bind the template",this.observedAttributesToCheck,this.scope)}async _beforeBind(){this._binds=!0,this.debug("Start to bind Riba"),this.lifecycleEvents.trigger("Component:beforeBind",this.getLifecycleEventData())}async beforeBind(){}async _afterBind(){this._binds=!1,this._bound=!0,this.lifecycleEvents.trigger("Component:afterBind",this.getLifecycleEventData())}async afterBind(){}async afterAllBind(){}getLifecycleEventData(){return{tagName:this.tagName.toLowerCase(),component:this}}disconnectedCallback(){try{this._disconnected=!0,this._connected=!1,super.disconnectedCallback(),this.lifecycleEvents.trigger("Component:disconnected",this.getLifecycleEventData()),this.lifecycleEvents.off("ComponentLifecycle:allBound",this.afterAllBind,this)}catch(t){this.throw(t)}}connectedCallback(){try{this._disconnected=!1,this._connected=!0,super.connectedCallback(),this.lifecycleEvents.trigger("Component:connected",this.getLifecycleEventData())}catch(t){this.throw(t)}}async attributeChangedCallback(t,e,s,i){try{super.attributeChangedCallback(t,e,s,i),await this.bindIfReady()}catch(t){this.throw(t)}}callFormatterHandler(t){return{name:"call",read:function(e){for(var s=arguments.length,i=new Array(s>1?s-1:0),n=1;n<s;n++)i[n-1]=arguments[n];if(!e)throw new Error("[".concat(t.tagName,'] Can not use "call" formatter: fn is undefined!'));return e.apply(t,i)}}}argsFormatterHandler(t){return{name:"args",read:function(e){for(var s=arguments.length,i=new Array(s>1?s-1:0),n=1;n<s;n++)i[n-1]=arguments[n];return(s,n,o,r)=>{if(!e)throw new Error("[".concat(t.tagName,'] Can not use "args" formatter: fn is undefined!'));return i.push(s),i.push(n),i.push(o),i.push(r),e.apply(t,i)}}}}async bind(){if(this.binds||this.bound)return this.view;if(this.checkRequiredAttributes()){try{await this._beforeBind(),await this.beforeBind(),this.riba=new He,this.view=this.getView(),this.view&&(this.scope=this.view.models,this.view.bind()),await this._afterBind(),await this.afterBind()}catch(t){this._binds=!1,this._bound=!1,this.throw(t)}return this.view}this.debug("Not all required attributes are set for bind")}getView(){try{var t;const e=null===(t=this.riba)||void 0===t?void 0:t.getViewOptions({handler:this.eventHandler(this),formatters:{call:this.callFormatterHandler(this),args:this.argsFormatterHandler(this)}});if(e){return new de(Array.prototype.slice.call(this.childNodes),this.scope,e)}return null}catch(t){this.throw(t)}}async unbind(){try{this.view&&(this._binds=!1,this._bound=!1,this.view.unbind(),this.view=null)}catch(t){this.throw(t)}}async build(){try{this.view&&this.view.build()}catch(t){this.throw(t)}}}class Ve extends Fe{static get observedAttributes(){return["video-src","autoplay-on-min-buffer","autoplay-media-query"]}get muted(){return this.video&&this.video.muted}set muted(t){this.video.muted=t,this.scope.muted=this.video.muted,t?this.video.setAttribute("muted",""):this.video.removeAttribute("muted"),this.onUpdate()}get volume(){var t;return(null===(t=this.video)||void 0===t?void 0:t.volume)||0}set volume(t){this.video.volume=t,this.onUpdate()}get loop(){var t;return null===(t=this.video)||void 0===t?void 0:t.loop}set loop(t){this.video.loop=t,t?this.video.setAttribute("loop",""):this.video.removeAttribute("loop"),this.onUpdate()}get controls(){var t;return null===(t=this.video)||void 0===t?void 0:t.controls}set controls(t){this.video.controls=t,this.scope.controls=this.video.controls,t?(this.video.setAttribute("controls",""),this.video.dispatchEvent(new Event("mouseover")),this.video.dispatchEvent(new Event("mouseenter")),this.video.dispatchEvent(new Event("mousemove"))):this.video.removeAttribute("controls"),this.onUpdate()}get currentTime(){var t;return(null===(t=this.video)||void 0===t?void 0:t.currentTime)||0}set currentTime(t){this.video.currentTime=t,this.onUpdate()}get autoplay(){var t;return(null===(t=this.video)||void 0===t?void 0:t.autoplay)||!1}set autoplay(t){this.video.autoplay=t,this.onUpdate()}get height(){var t;return(null===(t=this.video)||void 0===t?void 0:t.height)||0}set height(t){this.video.height=t,this.onUpdate()}get width(){var t;return(null===(t=this.video)||void 0===t?void 0:t.width)||0}set width(t){this.video.width=t,this.onUpdate()}get poster(){var t;return null===(t=this.video)||void 0===t?void 0:t.poster}set poster(t){this.video.poster=t,this.onUpdate()}get preload(){var t;return null===(t=this.video)||void 0===t?void 0:t.preload}set preload(t){this.video.preload=t,this.onUpdate()}get disablePictureInPicture(){var t,e;return(null===(t=this.video)||void 0===t?void 0:t.disablePictureInPicture)||(null===(e=this.video)||void 0===e?void 0:e.hasAttribute("disablePictureInPicture"))||!1}set disablePictureInPicture(t){var e;void 0!==(null===(e=this.video)||void 0===e?void 0:e.disablePictureInPicture)&&(this.video.disablePictureInPicture=t),t?this.video.setAttribute("disablePictureInPicture",""):this.video.removeAttribute("disablePictureInPicture"),this.onUpdate()}get paused(){var t,e;return null===(t=null===(e=this.video)||void 0===e?void 0:e.paused)||void 0===t||t}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"alreadyStartedPlaying",!1),(0,N.Z)(this,"wasPaused",!1),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"scope",{muted:this.muted,volume:this.volume,loop:this.loop,controls:this.controls,currentTime:this.currentTime,videoSrc:void 0,autoplayOnMinBuffer:0,autoplayMediaQuery:"",disablePictureInPicture:this.disablePictureInPicture,paused:this.paused,loading:!1,duration:0,readyState:I.HAVE_NOTHING,buffer:0,toggleMute:this.toggleMute,toggleControls:this.toggleControls,play:this.play,pause:this.pause,togglePlay:this.togglePlay,togglePause:this.togglePause,reset:this.reset}),(0,N.Z)(this,"onUpdate",this._onUpdate.bind(this)),(0,N.Z)(this,"forceAutoplay",this._forceAutoplay.bind(this)),(0,N.Z)(this,"onMediaQueryListEvent",this._onMediaQueryListEvent.bind(this)),(0,N.Z)(this,"onVideoProgress",this._onVideoProgress.bind(this)),(0,N.Z)(this,"onLoadStart",this._onLoadStart.bind(this)),(0,N.Z)(this,"onCanPlay",this._onCanPlay.bind(this)),(0,N.Z)(this,"onCanPlayThrough",this._onCanPlayThrough.bind(this)),(0,N.Z)(this,"onWaiting",this._onWaiting.bind(this)),(0,N.Z)(this,"onDurationChange",this._onDurationChange.bind(this)),(0,N.Z)(this,"onTimeUpdate",this._onTimeUpdate.bind(this)),(0,N.Z)(this,"onPlay",this._onPlay.bind(this)),(0,N.Z)(this,"onPause",this._onPause.bind(this));const t=this.querySelector("video");this.video=t}toggleMute(){this.debug("toggleMute"),this.muted=!this.muted,this.onUpdate()}toggleControls(){this.debug("toggleControls"),this.controls=!this.controls,this.onUpdate()}play(){this.debug("play"),this.video.play()}pause(){this.debug("pause"),this.video.pause(),this.onUpdate()}togglePlay(){return this.paused?this.play():this.pause()}togglePause(){return this.debug("togglePause"),this.togglePlay()}reset(){this.debug("reset"),this.video.currentTime=0,this.onUpdate()}connectedCallback(){super.connectedCallback(),this.init(Ve.observedAttributes)}initVideoElement(){const t=this.querySelector("video");if(!t)throw new Error("The video child element is required!");this.video=t,this.addEventListeners(),this.onUpdate()}resetVideo(){this.video.innerHTML="";const t=this.video.cloneNode(!0),e=this.querySelector(".video-wrapper");this.removeEventListeners(),this.video.remove(),e?e.appendChild(t):this.appendChild(t),this.video=t,this.video.hasAttribute("muted")?this.muted=!0:this.muted=!1,this.video.hasAttribute("controls")?this.controls=!0:this.controls=!1,this.video.hasAttribute("autoplay")?this.autoplay=!0:this.autoplay=!1,this.video.hasAttribute("height")&&(this.height=z(this.video.getAttribute("height")||0)),this.video.hasAttribute("width")&&(this.width=z(this.video.getAttribute("width")||0)),this.video.hasAttribute("loop")?this.loop=!0:this.loop=!1,this.video.hasAttribute("muted")?this.muted=!0:this.muted=!1,this.video.hasAttribute("poster")&&(this.poster=this.video.getAttribute("poster")||""),this.video.hasAttribute("preload")&&(this.preload=this.video.getAttribute("preload")||""),this.video.hasAttribute("disablePictureInPicture")?this.disablePictureInPicture=!0:this.disablePictureInPicture=!1,this.scope.readyState=I.HAVE_NOTHING,this.alreadyStartedPlaying=!1,this.scope.loading=!1,this.initVideoElement()}setVideoSource(){if(this.scope.videoSrc){this.resetVideo();let t=this.video.querySelector("source");t||(t=document.createElement("source"),this.video.appendChild(t)),t.setAttribute("src",this.scope.videoSrc)}}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),this.debug("parsedAttributeChangedCallback",t),"videoSrc"===t&&this.setVideoSource()}addEventListeners(){if(this.scope.autoplayMediaQuery){const t=window.matchMedia(this.scope.autoplayMediaQuery);t.addEventListener("change",this.onMediaQueryListEvent),t.matches&&this.startAutoplay()}this.video.addEventListener("progress",this.onVideoProgress),this.video.addEventListener("loadstart",this.onLoadStart),this.video.addEventListener("canplay",this.onCanPlay),this.video.addEventListener("canplaythrough",this.onCanPlayThrough),this.video.addEventListener("waiting",this.onWaiting),this.video.addEventListener("durationchange",this.onDurationChange),this.video.addEventListener("timeupdate",this.onTimeUpdate),this.video.addEventListener("play",this.onPlay),this.video.addEventListener("pause",this.onPause)}removeEventListeners(){if(this.scope.autoplayMediaQuery){window.matchMedia(this.scope.autoplayMediaQuery).removeEventListener("change",this.onMediaQueryListEvent)}this.video.removeEventListener("progress",this.onVideoProgress),this.video.removeEventListener("loadstart",this.onLoadStart),this.video.removeEventListener("canplay",this.onCanPlay),this.video.removeEventListener("canplaythrough",this.onCanPlayThrough),this.video.removeEventListener("waiting",this.onWaiting),this.video.removeEventListener("durationchange",this.onDurationChange),this.video.removeEventListener("timeupdate",this.onTimeUpdate),this.video.removeEventListener("play",this.onPlay),this.video.removeEventListener("pause",this.onPause)}_onUpdate(){this.scope.muted!==this.video.muted&&(this.scope.muted=this.video.muted),this.scope.volume!==this.video.volume&&(this.scope.volume=this.video.volume),this.scope.loop!==this.video.loop&&(this.scope.loop=this.video.loop),this.scope.controls!==this.video.controls&&(this.scope.controls=this.video.controls),this.scope.currentTime!==this.video.currentTime&&(this.scope.currentTime=this.video.currentTime),this.scope.paused!==this.video.paused&&(this.scope.paused=this.video.paused),this.scope.duration!==this.video.duration&&(this.scope.duration=this.video.duration),this.scope.readyState!==this.video.readyState&&(this.scope.readyState=this.video.readyState)}async beforeBind(){this.initVideoElement()}startAutoplay(){this.scope.autoplayOnMinBuffer?this.forceLoad():this.forceAutoplay()}forceLoad(){this.video.setAttribute("preload","auto"),this.video.load()}_forceAutoplay(){this.alreadyStartedPlaying||(this.alreadyStartedPlaying=!0,this.video.muted=!0,this.forceLoad(),this.play())}_onMediaQueryListEvent(t){t.matches?this.alreadyStartedPlaying?this.wasPaused||this.play():this.startAutoplay():(this.wasPaused=this.video.paused,this.pause())}_onVideoProgress(){if(this.debug("_onVideoProgress"),this.alreadyStartedPlaying)return;if(isNaN(this.video.duration))return void console.warn("Video duration is NaN");let t=0;for(let e=0;e<this.video.buffered.length;e++)t+=this.video.buffered.end(e)-this.video.buffered.start(e);this.scope.buffer=t/this.video.duration,this.scope.autoplayOnMinBuffer&&this.scope.buffer>this.scope.autoplayOnMinBuffer&&this.forceAutoplay()}_onLoadStart(){this.debug("_onLoadStart"),this.scope.loading=!0,this.onUpdate()}_onCanPlay(){this.debug("_onCanPlay"),this.onUpdate()}_onCanPlayThrough(){this.scope.loading=!1,this.scope.autoplayOnMinBuffer&&this.forceAutoplay(),this.onUpdate()}_onWaiting(){this.debug("_onPlay"),this.scope.loading=!0,this.onUpdate()}_onDurationChange(){this.onUpdate()}_onTimeUpdate(){this.onUpdate()}_onPlay(){this.debug("_onPlay"),this.scope.loading=!1,this.alreadyStartedPlaying=!0,this.scope.paused=!1,this.onUpdate()}_onPause(){this.scope.paused=!0,this.onUpdate()}async init(t){return super.init(t).then((t=>t))}disconnectedCallback(){super.disconnectedCallback()}template(){return null}}function qe(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function ze(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):qe(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}(0,N.Z)(Ve,"tagName","rv-video");class We extends Fe{constructor(){super(...arguments),(0,N.Z)(this,"templateAttributes",[]),(0,N.Z)(this,"templateReady",!1)}connectedCallback(){this.addItemsByTemplate(),super.connectedCallback(),this.removeTemplates(),this.bindIfReady()}ready(){return super.ready()&&this.templateReady}transformTemplateAttribute(t,e,s){switch(s){case"number":return Number(e);case"boolean":return"true"===e;case"string":if("string"==typeof e)return e;if("function"==typeof e.toString)return e.toString();case"object":return M(e)}return Yt(e).value}transformTemplateAttributes(t,e){return t.index=t.index||e,t}getTemplateAttributes(t,e){const s={};for(const e of this.templateAttributes){"string"!=typeof t.getAttribute(e.name)&&e.required?console.error(new Error('template "'.concat(e.name,'" attribute is required!'))):s[Y(e.name)]=this.transformTemplateAttribute(e.name,t.getAttribute(e.name))}return this.transformTemplateAttributes(s,e)}addItemByTemplate(t,e){const s=this.getTemplateAttributes(t,e),i=t.innerHTML;this.scope.items||(this.scope.items=[]),this.scope.items.push(ze(ze({},s),{},{content:i}))}addItemsByTemplate(){const t=this.querySelectorAll("template, .template");for(let e=0;e<t.length;e++){const s=t[e];this.addItemByTemplate(s,e)}this.templateReady=!0}removeTemplates(){const t=this.querySelectorAll("template, .template");for(let e=0;e<t.length;e++){const s=t[e];this.removeChild(s)}}hasOnlyTemplateChilds(){return!Array.from(this.children).some((t=>{var e;return"TEMPLATE"!==t.nodeName&&!(null!==(e=t.classList)&&void 0!==e&&e.contains("template"))&&"#text"!==t.nodeName}))}}const Ye={name:"contains",read(t,e,s){if(q(t))return t.indexOf(e)>-1;if(Array.isArray(t)){if(F(e)||console.warn("[containsFormatter] The second parameter must be of type number for arrays but is "+typeof e),e=Number(e),H(e))return H(s)?t[e]===s:-1!==t.indexOf(e)}else if(j(t)&&H(e))return H(s)?t[e]===s:(q(e)||console.warn("[containsFormatter] The second parameter must be of type string for objects"+typeof e),-1!==Object.keys(t).indexOf(String(e)));return!1}},Ge={name:"size",read:t=>t&&t.length?t.length:0},Xe={name:"empty",read:t=>Ge.read(t)<=0},Ke={name:"get",read:(t,e)=>j(t)||Array.isArray(t)?t[e]:q(t)&&F(e)?t.charAt(e):null},$e={name:"first",read:t=>Ke.read(t,0)},Qe={name:"isLast",read:(t,e)=>t.length===e+1},Je={name:"last",read:t=>Ke.read(t,t.length-1)},ts={name:"random",read(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Array.isArray(t))return t[Math.floor(Math.random()*t.length)];if(F(t)){const s=t;return Math.floor(Math.random()*(s-e+1)+e)}return null}},es={name:"range",read:(t,e,s)=>(e=Number(F(e)?e:0),(s=Number(F(s)?s:t.length-1))>t.length-1&&(s=t.length-1),e>s?[]:t.slice(Number(e||0),1+s))},ss={name:"set",read:(t,e,s)=>(s||(s=e),j(t)||Array.isArray(t)?t[e]=s:t=s,t)},is={name:"overlaps",read(t,e){for(const s of t)for(const t of e){if(s.equals&&s.equals(t))return!0;if(s===t)return!0}return!1}},ns={name:"join",read:(t,e)=>t.join(e)},os={name:"and",read:(t,e)=>t&&e},rs={name:"between",read(t){return t>=(arguments.length<=1?void 0:arguments[1])&&t<=(arguments.length<=2?void 0:arguments[2])}},as={name:"egt",read:(t,e)=>t>=e},ls={name:"eq",read:(t,e)=>t===e},cs={name:"gt",read:(t,e)=>t>e},hs={name:"ne",read:(t,e)=>t!==e},ds={name:"lt",read:(t,e)=>t<e},us={name:"elt",read:(t,e)=>t<=e},ps={name:"or",read:(t,e)=>t||e},vs={name:"not",read:t=>!t},ms={name:"plus",read:(t,e)=>Number(t)+Number(e)},gs={name:"minus",read:(t,e)=>Number(t)-Number(e)},fs={name:"times",read:(t,e)=>Number(t)*Number(e)},bs={name:"dividedBy",read:(t,e)=>Number(t)/Number(e)},ys={name:"modulo",read:(t,e)=>Number(t)%Number(e)},ws=(t,e)=>0===e?t:ws(e,t%e),Es={name:"gcd",read:ws},Ss={name:"even",read:t=>t%2==0},Cs={name:"uneven",read:t=>t%2!=0},ks={name:"digits",read:t=>F(t)?t:z(t)},Ts={name:"args",read(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];return(e,i,n,o)=>(s.push(e),s.push(i),s.push(n),s.push(o),t.apply(this,s))}},As={name:"debug",read(t){return console[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug"](t),t}},_s={name:"default",read:(t,e)=>H(t)?q(t)?t.length>0?t:e:null===t?e:t:e},Ls={name:"is-desktop",read:()=>Mt().isDesktop},Os={name:"is-mobile",read:()=>Mt().isMobile},xs={name:"call",read(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];return t.apply(this,s)}},Ps={name:"call-name",read:function(t,e){for(var s=arguments.length,i=new Array(s>2?s-2:0),n=2;n<s;n++)i[n-2]=arguments[n];return t[e](...i)}},Ns={name:"map",read(t,e,s){const i=Array.prototype.slice.call(arguments);return i.splice(1,2),e[s].apply(e,i)}},Is={name:"os",read:()=>Zt()},Ds={name:"prefer",read:(t,e)=>e||t},Bs={name:"ternary",read:(t,e,s)=>t?e:s},Zs={name:"append",read:(t,e)=>t+e},Ms={name:"capitalize",read:t=>(t=>"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1))(t)},Rs={name:"cut",read(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t?"string"!=typeof t?(console.warn("[cutFormatter] Value must be of type string"),t):t.length>e?t.substring(e,-1===e?void 0:-1)+s:t:""}},Hs={name:"downcase",read:t=>t.toLowerCase()},js={name:"ends-with",read:(t,e)=>"string"!=typeof t?(console.warn("[endsWithFormatter] Value must be of type string"),t):t.endsWith(e)},Us={name:"filled",read:t=>q(t)&&!Xe.read(t.replace(/\s/g,""))},Fs={name:"handleize",read:t=>t?(t=>(t=(t=>t.replace(/ä/g,"ae").replace(/ö/g,"oe").replace(/ü/g,"ue").replace(/ß/g,"ss").replace(/Ä/g,"Ae").replace(/Ö/g,"Oe").replace(/Ü/g,"Üe"))(t=(t=>t.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,""))(t=(t=>t.replace(/\s\s+/g," "))(t=(t=t.trim()).toLowerCase())))).replace(/ /g,"-"))(t):(console.warn("[handleizeFormatter] str is not set"),"")},Vs={name:"match",read:(t,e,s)=>!(!t||!e)&&t.match(new RegExp(e,s))},qs={name:"padStart",read(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return t.padStart(e,s)}},zs={name:"padEnd",read(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return t.padEnd(e,s)}},Ws={name:"to-integer",read(t){const e=parseInt(1*t,10);return isNaN(e)?0:e}},Ys={name:"to-float",read(t){const e=parseFloat(1*t);return isNaN(e)?0:e}},Gs={name:"to-decimal",read(t){if(!Ws.read)throw new Error("toIntegerFormatter must have a read function");if(!Ys.read)throw new Error("toFloatFormatter must have a read function");const e=Ws.read(1*t),s=Ys.read(t);return e==s?e:s}},Xs={name:"is-integer",read:t=>t===+t&&t===(0|t)},Ks={name:"numberFormat",read(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"'";if(!Gs.read)throw new Error("toDecimalFormatter must have a read function");if(!Xs.read)throw new Error("isIntegerFormatter must have a read function");t=F(t)?t:Gs.read(t),Xs.read(e)||(e=2);let n=(+(Math.round(+(Math.abs(t)+"e"+e))+"e"+-e)).toFixed(e);t<0&&(n="-"+n);const o=n.split(".");return 2==o.length?o[0].replace(/\B(?=(\d{3})+(?!\d))/g,i)+s+o[1]:o[0].replace(/\B(?=(\d{3})+(?!\d))/g,i)}},$s={name:"pluralize",read:(t,e,s)=>(null===s&&(s=e+"s"),Array.isArray(t)&&(t=t.length),1===t?e:s)},Qs={name:"prepend",read:(t,e)=>e+t},Js={name:"upcase",read:t=>t.toUpperCase()},ti={name:"replace",read:(t,e,s)=>t.replace(new RegExp(e,"g"),s)},ei={name:"replaceFirst",read:(t,e,s)=>t.replace(e,s)},si={name:"slice",read:(t,e,s)=>t.slice(e,s)},ii={name:"starts-with",read:(t,e)=>"string"!=typeof t?(console.warn("[startsWithFormatter] Value must be of type string"),t):t.startsWith(e)},ni={name:"strip",read:t=>t.trim()},oi={name:"strip-html",read:t=>W(t)},ri={name:"boolean",read:t=>"true"===t||"false"!==t&&!!t},ai={name:"is-array",read:Array.isArray},li={name:"is-boolean",read:V},ci={name:"is-defined",read:H},hi={name:"is-number",read:F},di={name:"is-object",read:j},ui={name:"is-string",read:t=>q(t)},pi={name:"is-undefined",read:R},vi={name:"parse",read:t=>q(t)?M(t):j(t)||Array.isArray(t)?(console.warn("[parseFormatter] You do not need to parse the value because since it already been parsed"),t):null},mi={name:"to-string",read(t,e){if(Array.isArray(t))for(const e in t)t[e]&&(t[e]=U(t[e]));else if(j(t))for(const e in t)t[e]=U(t[e]);else t=U(t);return e?t||e:t}},gi={name:"to-number",read(t,e){const s=(i=t)?parseFloat(i):void 0;var i;return e?s||e:s}},fi={formatters:a,binders:o,services:i,components:r,adapters:n,init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nt.setSingleton(t),this}};class bi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"replace";(0,N.Z)(this,"deferred",dt()),this.action=t}async init(t,e){this.oldContainer=t,this.deferred=dt();const s=dt();return this.newContainerLoading=s.promise,this.start(),this.newContainer=await e,s.resolve(this.newContainer),this.deferred.promise}async done(){if(!this.oldContainer)throw new Error("Can't remove old container");if("replace"===this.action&&this.oldContainer.remove(),!this.newContainer)throw new Error("Can't show new container");return this.newContainer.style.visibility="visible",this.deferred.resolve()}}class yi extends bi{async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");await this.newContainerLoading,this.finish()}async finish(){return document.body.scrollTop=0,this.done()}}class wi extends bi{constructor(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];super("replace"),(0,N.Z)(this,"durationMs",200),this.scrollToTop=t}async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");this.oldContainer&&(this.oldContainer.style.transition="opacity ".concat(this.durationMs,"ms"),this.oldContainer.style.opacity="0"),this.scrollToTop&&await wt(window,"start","vertical","smooth");const t=await this.newContainerLoading;t.style.opacity="0",t.style.transition="opacity ".concat(this.durationMs,"ms"),setTimeout((()=>{this.finish(t)}),this.durationMs)}async finish(t){return t.style.opacity="1",this.done()}}class Ei extends bi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"replace",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super(t),this.action=t,this.scrollToTop=e}async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");this.oldContainer&&(this.oldContainer.style.display="none"),this.scrollToTop&&await wt(window,"start","vertical","smooth"),await this.newContainerLoading,await this.finish(),this.oldContainer&&(this.oldContainer.style.display="")}async finish(){return this.done()}}class Si{constructor(){(0,N.Z)(this,"dispatcher",it.getInstance())}extend(t){return G({deep:!1},this,t)}init(){this.dispatcher.on("initStateChange",((t,e,s)=>{s&&s.namespace===this.namespace&&this.onLeave()})),this.dispatcher.on("newPageReady",((t,e,s,i)=>{this.container=i,e.namespace===this.namespace&&this.onEnter()})),this.dispatcher.on("transitionCompleted",((t,e,s)=>{e.namespace===this.namespace&&this.onEnterCompleted(),s&&s.namespace===this.namespace&&this.onLeaveCompleted()}))}}class Ci{static getPrefetchLinkElements(t){return t.querySelectorAll('link[href][rel="dns-prefetch"], link[href][rel="preconnect"], link[href][rel="prefetch"], link[href][rel="subresource"], link[href][rel="preload"], link[href][rel="router-preload"]')}static parseTitle(t){let e="";const s=t.querySelector("title");return s&&s.innerText&&(e=s.innerText),e}static parseResponse(t,e,s){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n="",o=[];const r=document.createElement("template");r.innerHTML=t,e&&(n=this.parseTitle(r.content)),i&&(o=this.getPrefetchLinkElements(r.content));return{container:this.getContainer(r,s),title:n,prefetchLinks:o}}static parseInitial(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i="",n=[];const o=this.getContainer(document,e);return t&&(i=this.parseTitle(document)),s&&(n=this.getPrefetchLinkElements(document)),{container:o,title:i,prefetchLinks:n}}static getContainer(t,e){if(!t)throw new Error("Barba.js: [getContainer] No element to get container from, maybe the DOM is not ready!");const s=this.parseContainer(t,e);if(!s)throw new Error("[DOM] No container found");return s}static getNamespace(t){return t&&t.dataset&&t.dataset.namespace?t.dataset.namespace:null}static putContainer(t,e){(t=t).style.visibility="hidden",e.appendChild(t)}static parseContainer(t,e){if(!t){const e=new Error("New page not loaded!");throw console.error(e,t),e}let s;if(s=t.content?t.content.querySelector(e):t.querySelector(e),!s){const s=new Error('No container with selector "'.concat(e,'" found!'));throw console.error(s,t),s}return s}}const ki="router-error";class Ti{static getInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";const e=Ti.instances[t];return e||new this(t)}constructor(t){if(this.viewId=t,this.viewId=t,Ti.instances[this.viewId])return Ti.instances[this.viewId];Ti.instances[this.viewId]=this,this.onLinkEnterIntern=this.onLinkEnterIntern.bind(this)}init(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!window.history.pushState)return!1;t&&(this.deInit(),document.body.addEventListener("mouseover",this.onLinkEnterIntern,{passive:!0}),document.body.addEventListener("touchstart",this.onLinkEnterIntern,{passive:!0}))}deInit(){document.body.removeEventListener("mouseover",this.onLinkEnterIntern),document.body.removeEventListener("touchstart",this.onLinkEnterIntern)}initBinder(t,e){if(!window.history.pushState)return!1;this.deInitBinder(t,e),t.addEventListener("mouseover",this.onLinkEnter.bind(this,e,t),{passive:!0}),t.addEventListener("touchstart",this.onLinkEnter.bind(this,e,t),{passive:!0})}deInitBinder(t,e){t.removeEventListener("mouseover",this.onLinkEnter.bind(this,e,t)),t.removeEventListener("touchstart",this.onLinkEnter.bind(this,e,t))}onLinkEnter(t,e,s){if(e.classList&&(e.classList.contains("no-barba-prefetch")||e.classList.contains(ki)))return;t=Ht(t).url;const i=Ni.preventCheck(t,e,s);if(t&&i){const s=Ni.getInstance(this.viewId);s?s.loadResponseCached(t,!1,!1).catch((s=>{e.classList.add(ki),console.error(t),console.error(s)})):(console.warn('[Prefetch.onLinkEnter] No pjax instance for viewId "'.concat(this.viewId,'" found!')),e.classList.add(ki))}}url(t){t=Ht(t).url;const e=Ni.preventCheck(t);if(t&&e){const e=Ni.getInstance(this.viewId);e?e.loadResponseCached(t,!1,!1).catch((t=>{console.error(t)})):console.warn('[Prefetch.url] No pjax instance for viewId "'.concat(this.viewId,'" found!'))}}onLinkEnterIntern(t){let e=Et(t);if(!e)throw new Error("HTML Element not set");for(;e&&!Ni.getHref(e);)e=e.parentNode;if(!e)return;if("A"!==e.nodeName)return;const s=Ni.getHref(e);if(!e.classList.contains("route")&&!e.hasAttribute("rv-route")){if(s)return this.onLinkEnter(s,e,t);console.warn("Url is not defined, you can't cache the link without the url. Please make sure your element has the href attribute or pass the url directly to this function.",e)}}}(0,N.Z)(Ti,"instances",{});var Ai=s(893),_i=s.n(Ai);class Li{constructor(){this.data={}}set(t,e){return this.data[t]=e,this.data[t]}get(t){return this.data[t]}reset(){this.data={}}}var Oi=s(511);const xi={get:Oi.U2,set:Oi.t8,keys:Oi.XP,del:Oi.IV,clear:()=>(0,Oi.ZH)()};_i()({customStorage:window.ssr?void 0:xi});class Pi{constructor(){return(0,N.Z)(this,"history",[]),Pi.instance||(Pi.instance=this),Pi.instance}currentStatus(){return this.history[this.history.length-1]}prevStatus(){const t=this.history;return t.length<2?null:t[t.length-2]}add(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.history.push({namespace:e,url:t})}}class Ni{static getInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";const e=Ni.instances[t];return e||console.warn('[Pjax.getInstance] No pjax instance for viewId "'.concat(t,'" found!')),e}static preventCheckUrl(t){const e=document.createElement("a");return e.setAttribute("href",t),!!e&&(!!t&&(Ft(t)!==Ft(location.href)&&(window.location.protocol===e.protocol&&window.location.hostname===e.hostname&&Vt()===Vt(e.port))))}static preventCheck(t,e,s){if(!window.history.pushState)return!1;if(!this.preventCheckUrl(t))return!1;if(s&&(s&&s.which&&s.which>1||s.metaKey||s.ctrlKey||s.shiftKey||s.altKey))return!1;if(e){if(e.target&&"_blank"===e.target)return!1;if(e.getAttribute&&"string"==typeof e.getAttribute("download"))return!1;if(e.classList.contains("no-barba"))return!1}return!0}static getHref(t){if(t){if(t.getAttribute&&"string"==typeof t.getAttribute("xlink:href"))return t.getAttribute("xlink:href")||void 0;if("string"==typeof t.href||t.hasAttribute&&t.hasAttribute("href")){const e=t.href||t.getAttribute("href");if(!e)throw console.error("href attribute not found for element: ",t),new Error("href attribute not found!");return e}}}constructor(t){let{id:e,action:s="replace",wrapper:i,containerSelector:n="[data-namespace]",listenAllLinks:o=!1,listenPopstate:r=!0,parseTitle:a=!0,changeBrowserUrl:l=!0,prefetchLinks:c=!0,scrollToTop:h=!0,scrollToAnchorOffset:d=Ii.options.scrollToAnchorOffset}=t;(0,N.Z)(this,"history",new Pi),(0,N.Z)(this,"cacheEnabled",!0),(0,N.Z)(this,"transitionProgress",!1),(0,N.Z)(this,"viewId","main"),e&&(this.viewId=e);let u=this;return this.scrollToAnchorOffset=d||0,this.dispatcher=new it(this.viewId),this.listenAllLinks=o,this.listenPopstate=r,this.parseTitle=a,this.changeBrowserUrl=l,this.containerSelector=n,this.prefetchLinks=c,Ni.instances[this.viewId]&&(u=Ni.instances[this.viewId]),u.transition=u.transition||new Ei(s,h),u.wrapper=u.wrapper||i,u.containerSelector=u.containerSelector||n,u.listenAllLinks=V(u.listenAllLinks)?u.listenAllLinks:o,u.listenPopstate=V(u.listenPopstate)?u.listenPopstate:r,u.parseTitle=V(u.parseTitle)?u.parseTitle:a,u.changeBrowserUrl=V(u.changeBrowserUrl)?u.changeBrowserUrl:l,u.prefetchLinks=V(u.prefetchLinks)?u.prefetchLinks:c,u.wrapper&&u.wrapper.setAttribute("aria-live","polite"),Ni.instances[this.viewId]=u,Ni.instances[this.viewId]}setActiveWrapper(t){this.wrapper=t}start(){if(this.wrapper)try{this.init(this.wrapper,this.listenAllLinks,this.listenPopstate)}catch(t){console.error(t)}else console.error("Can't init pjax without wrapper")}getCurrentUrl(){return Ft(jt())}goTo(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){const e=window.open(t,"_blank");return!!e&&e.focus()}if(!t.startsWith("http"))return this.changeBrowserUrl&&window.history.pushState(null,"",t),this.onStateChange(void 0,t);this.forceGoTo(t)}getTransition(){return this.transition||new Ei}prefetchLink(t){t=Ht(t).url;if(Ni.preventCheckUrl(t))return this.loadResponseCached(t,!0,!1)}prefetchLinkElement(t,e){const s=t.getAttribute("rel"),i=Ni.getHref(t);if("router-preload"===s&&i&&this.cacheEnabled&&!t.classList.contains(ki))try{this.prefetchLink(i)}catch(e){t.classList.add(ki),console.error(e)}e.appendChild(t)}removePrefetchLinks(t){t.querySelectorAll('link[href][rel="dns-prefetch"], link[href][rel="preconnect"], link[href][rel="prefetch"], link[href][rel="subresource"], link[href][rel="preload"], link[href][rel="router-preload"]').forEach((t=>{t&&t.parentNode&&t.parentNode.removeChild(t)}))}replacePrefetchLinkElements(t){const e=document.head||document.getElementsByTagName("head")[0];this.removePrefetchLinks(e),t.forEach((t=>{this.prefetchLinkElement(t,e)}))}async loadCached(t){try{const{responsePromise:e}=await this.loadResponseCached(t,!1,!0);if(!this.wrapper)throw new Error("[Pjax] you need a wrapper!");const s=await e;return Ci.putContainer(s.container,this.wrapper),!0===this.parseTitle&&s.title&&(document.title=s.title),!0===this.prefetchLinks&&s.prefetchLinks&&this.replacePrefetchLinkElements(s.prefetchLinks),s.container}catch(e){throw console.error(e),this.forceGoTo(t),e}}async loadResponseCached(t){let e,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{if(this.cacheEnabled&&(e=Ni.cache.get(t),e))return{fromCache:!0,responsePromise:e};e=this.loadResponse(t,s),this.cacheEnabled&&e&&Ni.cache.set(t,e)}catch(e){throw console.error(e),i&&this.forceGoTo(t),e}return{fromCache:!1,responsePromise:e}}async loadResponse(t){const e=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{cache:"force-cache"}:{},s=await lt.get(t,void 0,"html",{},e);if(!s||!s.body)throw new Error("No body!");return Ci.parseResponse(s.body,this.parseTitle,this.containerSelector,this.prefetchLinks)}bindEvents(t,e){t&&document.addEventListener("click",this.onLinkClickIntern.bind(this)),e&&window.addEventListener("popstate",this.onStateChange.bind(this))}forceGoTo(t){console.warn("forceGoTo",t),t&&t.href&&(window.location=t),"string"==typeof t&&(window.location.href=t)}onLinkClickIntern(t){let e=Et(t);for(;e&&!Ni.getHref(e);)e=e.parentNode;if(!e||"A"!==e.nodeName)return;const s=Ni.getHref(e);if(!e.classList.contains("route")&&!e.hasAttribute("rv-route")){if(!s)throw new Error("Url is not defined, you can't cache the link without the url. Please make sure your element has the href attribute or pass the url directly to this function.");return!e.classList.contains("route")&&!e.hasAttribute("rv-route")&&this.onLinkClick(t,e,s)}}onLinkClick(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{url:n,location:o}=Ht(s),{location:r}=Ht();if(o.hash&&r.pathname===o.pathname){let e=o.hash.slice(1);e=decodeURI(e);const s=document.getElementById(e);if(s)return t.stopPropagation(),t.preventDefault(),this.changeBrowserUrl&&window.history.pushState(null,"",n),yt(s,this.scrollToAnchorOffset)}if(!n)throw new Error("url is falsy");Ni.preventCheck(n,e,t)&&(t.stopPropagation(),t.preventDefault(),this.dispatcher.trigger("linkClicked",e,t),this.goTo(n,i))}async onStateChange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentUrl();e=Ht(e).url;const s=Ht(this.history.currentStatus().url).url;if(this.changeBrowserUrl&&s===e)return!1;this.history.add(e),this.dispatcher.trigger("initStateChange",this.viewId,this.history.currentStatus(),this.history.prevStatus());const i=Ci.getContainer(document,this.containerSelector),n=this.loadCached(e),o=this.getTransition();this.transitionProgress=!0;const r=o.init(i,n);this.onNewContainerLoaded(await n),await r,this.onTransitionEnd()}onNewContainerLoaded(t){this.history.currentStatus().namespace=Ci.getNamespace(t);const e=mt(t);this.dispatcher.trigger("newPageReady",this.viewId,this.history.currentStatus(),this.history.prevStatus(),t,t.innerHTML,e,!1)}onTransitionEnd(){this.transitionProgress=!1,this.dispatcher.trigger("transitionCompleted",this.viewId,this.history.currentStatus(),this.history.prevStatus())}init(t,e,s){const i=Ci.parseInitial(this.parseTitle,this.containerSelector,this.prefetchLinks),n=window.location.pathname;if(this.cacheEnabled){const t=Ht(window.location.href).url;Ni.cache.get(n)||this.loadResponseCached(t,!1,!1)}this.replacePrefetchLinkElements(i.prefetchLinks),this.wrapper=t,this.history.add(this.getCurrentUrl(),Ci.getNamespace(i.container)),this.dispatcher.trigger("initStateChange",this.viewId,this.history.currentStatus());const o=mt(i.container);this.dispatcher.trigger("newPageReady",this.viewId,this.history.currentStatus(),{},i.container,i.container.innerHTML,o,!0),this.dispatcher.trigger("transitionCompleted",this.viewId,this.history.currentStatus()),this.bindEvents(e,s)}}(0,N.Z)(Ni,"cache",new Li),(0,N.Z)(Ni,"instances",{});class Ii{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of RouterService not defined, please call setSingleton first!")}static setSingleton(){var t,e;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.instance?(console.warn("Singleton of RouterService already defined!"),this.instance):(s.defaultTransition=null!==(t=s.defaultTransition)&&void 0!==t?t:new Ei,s.scrollToAnchorOffset=null!==(e=s.scrollToAnchorOffset)&&void 0!==e?e:0,this._options=s,this.instance=new this,this.instance)}}const Di=Fs.read;class Bi extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"nested",null)}async routine(t,e){const s=t;(e=e||{}).listenAllLinks=!1,e.listenPopstate=!1,e.parseTitle=!1,e.transition=e.transition||new Ei,e.viewId=e.viewId||t.getAttribute("id")||Di(e.url),e.containerSelector=e.containerSelector||"[data-namespace]",e.changeBrowserUrl=!1;const i=new Ni(e),{responsePromise:n}=await i.loadResponseCached(e.url,!1,!1),o=await n;s.replaceWith(o.container),o.container.style.visibility="visible",j(this.view.models)||(this.view.models={}),this.nested&&this.nested.unbind(),this.nested=new de(o.container,this.view.models,this.view.options),this.nested.bind()}unbind(){this.nested&&this.nested.unbind()}}(0,N.Z)(Bi,"key","view-static"),(0,N.Z)(Bi,"block",!0);class Zi extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"options",{url:"",viewId:"main",removeAfterActivation:!1,newTab:!1,newTabOnExtern:!0}),(0,N.Z)(this,"onClick",this._onClick.bind(this))}_onClick(t){const e=Ni.getInstance(this.options.viewId);if(Ut(this.options.url,!0))console.info("already on this site, do nothing"),t.stopPropagation(),t.preventDefault();else if(qt(this.options.url)){if(!e)return;t.stopPropagation(),t.preventDefault();const s=this.options.newTab||this.options.newTabOnExtern;e.goTo(this.options.url,s)}else if(this.options.url){if(!e)return;e.onLinkClick(t,this.el,this.options.url,this.options.newTab)}this.options.removeAfterActivation&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}bind(t){t.classList.add("route"),window.ssr||(this.onClick=this.onClick.bind(this),t.addEventListener("click",this.onClick))}routine(t,e){q(e)?this.options.url=e:j(e)&&(this.options=e),this.options.viewId=this.options.viewId||"main",this.prefetch=new Ti(this.options.viewId),this.options.newTab=!1;const s="A"===t.tagName;if(!this.options.url&&s){const e=t.getAttribute("href");e&&(this.options.url=e)}"_blank"===t.getAttribute("target")&&(this.options.newTab=!0),this.options.url=Ht(this.options.url).url,!s||t.href&&t.getAttribute("href")||!this.options.url||(t.setAttribute("href",this.options.url),t.href=this.options.url),this.options.newTab||this.prefetch.initBinder(t,this.options.url)}unbind(t){var e;null===(e=this.prefetch)||void 0===e||e.deInitBinder(t,this.options.url),t.removeEventListener("click",this.onClick)}}(0,N.Z)(Zi,"key","route");class Mi extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"dispatcher",new it("main")),(0,N.Z)(this,"className",""),(0,N.Z)(this,"onUrlChange",this._onUrlChange.bind(this))}_onUrlChange(){if(this.url){if(Ut(this.url))return this.el.classList.add(this.className),"radio"===this.el.getAttribute("type")&&(this.el.checked=!0),!0;this.el.classList.remove(this.className),"radio"===this.el.getAttribute("type")&&(this.el.checked=!1)}return!1}bind(){this.dispatcher.on("newPageReady",this.onUrlChange)}routine(t,e){this.url=e,this.className=this.args[0].toString()||"active";const s="A"===t.tagName;if(!e&&s){const s=t.getAttribute("href");s&&(e=s)}this.onUrlChange()}unbind(){this.dispatcher.off("newPageReady",this.onUrlChange)}}(0,N.Z)(Mi,"key","route-class-*");class Ri extends Kt{routine(t,e){if(window.ssr)return;const s="A"===t.tagName;if(!e&&s){const s=t.getAttribute("href");s&&(e=s)}var i;e&&(null===(i=Ni.getInstance())||void 0===i||i.prefetchLink(e))}}(0,N.Z)(Ri,"key","route-preload");class Hi extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"dispatcher",new it("main")),(0,N.Z)(this,"onUrlChange",this._onUrlChange.bind(this))}_onUrlChange(){if(!this.url)throw new Error("url is not defined!");if(!this.className)throw new Error("className is not defined!");return(t=>{if(t){const e=Rt(),s=e.pathname,i=e.hostname,n=Rt(t),o=n.pathname;return i===n.hostname&&s.startsWith(o)}return!1})(this.url)?(this.el.classList.add(this.className),"radio"===this.el.getAttribute("type")&&(this.el.checked=!0),!0):(this.el.classList.remove(this.className),"radio"===this.el.getAttribute("type")&&(this.el.checked=!1),!1)}routine(t,e){this.url=e,this.className=this.args[0].toString()||"active";const s="A"===t.tagName;if(!e&&s){const s=t.getAttribute("href");s&&(e=s)}this.onUrlChange()}bind(){this.dispatcher.on("newPageReady",this.onUrlChange)}unbind(){this.dispatcher.off("newPageReady",this.onUrlChange)}}(0,N.Z)(Hi,"class","parent-route-class-*");const ji=()=>{window.history.back()};class Ui extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"priority",3e3)}unbind(t){this.eventName&&t.removeEventListener(this.eventName,ji)}routine(t){if(null===this.args)throw new Error("args is null");this.eventName&&t.removeEventListener(this.eventName,ji),this.eventName=this.args[0],t.addEventListener(this.args[0],ji)}}(0,N.Z)(Ui,"key","route-back-on-*");class Fi extends Fe{static get observedAttributes(){return["src","id","async","defer"]}constructor(){super(),(0,N.Z)(this,"autobind",!1),(0,N.Z)(this,"scope",{src:"",id:"",async:!0,defer:!0})}connectedCallback(){super.connectedCallback(),super.init(Fi.observedAttributes)}async onReady(){await super.onReady(),this.scope.id||(this.scope.id=kt("script-")),async function(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];await new Promise(((n,o)=>{let r=document.getElementById(e);if(r){if(console.warn("script already loaded, do nothing."),r.hasAttribute("loaded"))return n(r)}else r=document.createElement("script"),r.type="text/javascript",r.id=e,r.src=t,s&&(r.async=!0),i&&(r.defer=!0),(document.head||document.getElementsByTagName("head")[0]).appendChild(r);r.readyState&&(r.onreadystatechange=function(){var t;"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,null===(t=r)||void 0===t||t.setAttribute("loaded","true"),n(r))}),r.addEventListener("load",(()=>{var t;null===(t=r)||void 0===t||t.setAttribute("loaded","true"),n(r)})),r.addEventListener("error",(function(){var t;const e=new Error("Error on load script "+(null===(t=r)||void 0===t?void 0:t.src));console.error(e),console.error(...arguments),o(e)}))}))}(this.scope.src,this.scope.id,this.scope.async)}requiredAttributes(){return["src"]}template(){return null}}(0,N.Z)(Fi,"tagName","router-load-script");class Vi extends Fe{static get observedAttributes(){return["id","action","container-selector","scroll-to-top","listen-all-links","listen-popstate","scroll-to-anchor-hash","scroll-to-anchor-offset","dataset-to-model","parse-title","change-browser-url","prefetch-links"]}constructor(){super(),(0,N.Z)(this,"events",it.getInstance("main")),(0,N.Z)(this,"nested",null),(0,N.Z)(this,"wrapper",null),(0,N.Z)(this,"pjax",null),(0,N.Z)(this,"prefetch",null),(0,N.Z)(this,"scope",{id:"main",action:"replace",scrollToTop:!0,listenAllLinks:!0,listenPopstate:!0,scrollToAnchorHash:!0,scrollToAnchorOffset:Ii.options.scrollToAnchorOffset,datasetToModel:!0,parseTitle:!0,changeBrowserUrl:!0,prefetchLinks:!0,transition:Ii.options.defaultTransition,dataset:{}})}connectedCallback(){super.connectedCallback(),this.init(Vi.observedAttributes)}addEventListeners(){this.events.on("newPageReady",this.onPageReady,this),this.events.on("initStateChange",this.onTransitionInit,this),this.events.on("transitionCompleted",this.onTransitionCompleted,this)}removeEventListeners(){this.events.off("newPageReady",this.onPageReady,this),this.events.off("initStateChange",this.onTransitionInit,this),this.events.off("transitionCompleted",this.onTransitionCompleted,this)}getContainerSelector(){return"main"===this.scope.id?"".concat(Vi.tagName," > *:first-child"):"".concat(Vi.tagName,"#").concat(this.scope.id," > *:first-child")}initAndStartPjax(){if(!this.scope.id)return void console.error("Id attribute is required!");const t={id:this.scope.id,action:this.scope.action,wrapper:this,containerSelector:this.getContainerSelector(),listenAllLinks:!!this.scope.listenAllLinks,listenPopstate:!!this.scope.listenPopstate,transition:this.scope.transition,parseTitle:!!this.scope.parseTitle,changeBrowserUrl:!!this.scope.changeBrowserUrl,prefetchLinks:!!this.scope.prefetchLinks,scrollToTop:!!this.scope.scrollToTop};this.pjax=new Ni(t),this.pjax.setActiveWrapper(this),this.prefetch=new Ti(this.scope.id),this.prefetch.init(t.prefetchLinks),this.pjax.start()}onPageReady(t,e,s,i,n,o,r){this.scope.datasetToModel&&(this.scope.dataset=o),r||(t===this.scope.id?(this.debug("New page ready!",this.innerHTML),this.view=this.getView(),this.view?this.view.bind():console.warn("View ist not ready!")):console.warn("not the right view",this.scope.id,t,o))}async onTransitionInit(t){t===this.scope.id&&this.setTransitionClass("init")}async onTransitionCompleted(t){if(t===this.scope.id){if(this.setTransitionClass("complete"),this.scope.scrollToAnchorHash){let t=null;if(window.location.hash.substr(1)&&(t=document.getElementById(window.location.hash.substr(1)),t))return await yt(t,this.scope.scrollToAnchorOffset,window)}return this.scope.scrollToTop?await wt(window,"start","vertical","smooth"):void 0}}setTransitionClass(t){this.classList.remove("transition-init"),this.classList.remove("transition-complete"),this.classList.add("transition-".concat(t))}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){switch(super.parsedAttributeChangedCallback(t,e,s,i),t){case"id":this.events=it.getInstance(this.scope.id)}}async beforeBind(){await super.beforeBind(),this.addEventListeners(),this.initAndStartPjax()}template(){return null}}(0,N.Z)(Vi,"tagName","router-view");const qi={binders:c,components:h,services:l,formatters:{},init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ii.setSingleton(t),this}};class zi{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of I18nService not defined, please call setSingleton first!")}static setSingleton(t){if(this.instance)throw new Error("Singleton of I18nService already defined!");return this._options=t,this.instance=new this,this.instance}}class Wi extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"priority",0),(0,N.Z)(this,"contenteditable",!1),(0,N.Z)(this,"vars",{}),(0,N.Z)(this,"langVars",{}),(0,N.Z)(this,"properties",[]),(0,N.Z)(this,"attributeName",""),(0,N.Z)(this,"translateMePathString",null),(0,N.Z)(this,"onAttributeChanged",this._onAttributeChanged.bind(this))}applyTranslation(t){if(!t){if(!this.i18n.showMissingTranslation)return;t='translation missing: "'.concat(this.properties.join("."),'"')}"string"==typeof t?"html"===this.attributeName?this.el.innerHTML=t:"text"===this.attributeName?this.el.innerText=t:"value"===this.attributeName?this.contenteditable?this.el.innerHTML=t:this.el.value=t:this.el.setAttribute(this.attributeName,t):console.warn("TODO",t)}parseVars(t){if(!this.i18n)throw new Error("LocalesService is not defined!");const e=this.i18n.parseTemplateVars(t);this.vars=G({deep:!0},this.vars,e),this.vars=G({deep:!1},this.vars,t.dataset),this.langVars=this.i18n.parseLocalVars(t)}translate(t){if(this.i18n.ready){if(t||(t=this.i18n.getLangcode()))return this.langVars&&this.langVars[t]?this.applyTranslation(this.langVars[t]):this.properties&&0!==this.properties.length||!this.langVars||!this.langVars.default?this.i18n.get([t,...this.properties],this.vars).then((t=>t&&"string"==typeof t?this.applyTranslation(t):this.langVars&&this.langVars.default?this.applyTranslation(this.langVars.default):this.applyTranslation(null))).catch((t=>{console.error(t)})):this.applyTranslation(this.langVars.default);console.error("Langcode is required",t)}}_onAttributeChanged(t){if(t.detail.name.startsWith("data-")){const e={};e[t.detail.name.slice(5)]=t.detail.newValue,this.vars=G({deep:!0},this.vars,e),this.translate()}}onLanguageChanged(t,e){e||this.translate(t)}initOnReady(t,e){e&&this.translate(t),this.i18n.event.on("changed",this.onLanguageChanged),this.el.addEventListener("binder-changed",this.onAttributeChanged)}bind(t){this.contenteditable=!!t.getAttribute("contenteditable");const e=zi.options;this.i18n=e.localesService,this.attributeName=this.args[0].toString()}routine(t,e){const s=zi.options;var i;if(null===this.translateMePathString)if(this.translateMePathString=e,this.translateMePathString&&(this.properties=this.translateMePathString.split(".")),this.parseVars(t),null!==(i=this.i18n)&&void 0!==i&&i.ready){const t=this.i18n.getLangcode(),e=this.i18n.getInitialLangcode();if(!t)throw new Error("No language code found!");this.initOnReady(t,t!==e||!s.localesService.doNotTranslateDefaultLanguage)}else this.i18n.event.on("ready",this.initOnReady);else this.translateMePathString!==e&&(this.translateMePathString=e,this.translateMePathString&&(this.properties=this.translateMePathString.split(".")),this.parseVars(t),this.translate())}unbind(){var t;this.el.removeEventListener("binder-changed",this.onAttributeChanged),null===(t=this.i18n)||void 0===t||t.event.off("changed",this.onLanguageChanged)}}(0,N.Z)(Wi,"key","i18n-*");class Yi{get ready(){return this._ready}constructor(t,e){(0,N.Z)(this,"event",new it("i18n")),(0,N.Z)(this,"showMissingTranslation",!1),(0,N.Z)(this,"_ready",!1),this.doNotTranslateDefaultLanguage=t,this.doNotTranslateDefaultLanguage=t,this.showMissingTranslation=e}async get(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.ready&&!s)throw new Error("not ready");return this.getAll().then((e=>{if(t&&t.length){let s=X(!0,e);for(const e of t){if(!e)return null;if(!s[e])return null;s=s[e]}return s}return e})).then((e=>(null===e&&t&&console.warn('WARNING translation missing: "'.concat(t.join("."),'"'),e,t),e))).then((t=>(e&&(t=this.setTranslateStringPluralization(t,e),t=this.setTranslateStringVars(t,e)),t))).catch((t=>(console.error(t),this._ready=!1,t)))}async getByCurrentLang(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;const s=this.getLangcode();if(!s)throw new Error("Langcode not found in html tag");return this.get([s,...t],e)}getBrowserLangcode(){return(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase()}getHTMLLangcode(){return document.documentElement?document.documentElement.lang:"en"}getLangcode(){return this.currentLangcode}getInitialLangcode(){return this.initialLangcode}setLangcode(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.currentLangcode!==t&&(this.currentLangcode=t,document.documentElement&&(document.documentElement.lang=t),this.event.trigger("changed",t,e))}async getAvailableLangcodes(){const t=this.getLangcode(),e=await this.get(void 0,void 0,!0),s=[];for(const i of Object.keys(e))s.push({code:i,active:i===t});return s}parseTemplateVars(t){const e=t.querySelectorAll("template"),s={};return e.forEach((t=>{const e=t.getAttribute("name");null!==e&&(s[e]=t.innerHTML.trim())})),s}parseLocalVars(t){const e=t.querySelectorAll("template"),s={};return e.forEach((t=>{const e=t.getAttribute("lang");null!==e&&(s[e]=t.innerHTML.trim())})),s}setTranslateStringVars(t,e){if(!t||0===Object.keys(e).length||"function"!=typeof t.match)return t;const s=t.match(/{{\s*?[A-Za-z0-9_-]+\s*?}}/gm);if(s)for(const i of s)if(i){const s=i.replace(/{{\s*|\s*}}/gm,"");"string"!=typeof e[s]&&"number"!=typeof e[s]||(t=t.replace(i,e[s]))}return t}async init(){if(this.initialLangcode=this.getHTMLLangcode(),this.currentLangcode=this.initialLangcode,!this.initialLangcode)throw new Error("The lang attribute on the html element is required to detect the default theme language: ".concat(this.initialLangcode));const t=this.getBrowserLangcode();return this.getAvailableLangcodes().then((e=>{let s=!1;for(const i of e)i.code===t&&(s=!0);return(!this.doNotTranslateDefaultLanguage||s&&t!==this.currentLangcode)&&this.setLangcode(t,!0),e})).then((()=>{this._ready=!0;const t=this.currentLangcode!==this.initialLangcode||!this.doNotTranslateDefaultLanguage;this.event.trigger("ready",this.currentLangcode,t)})).catch((t=>(console.error(t),this._ready=!1,t)))}setTranslateStringPluralization(t,e){if(e.count&&"object"==typeof t&&null!==t){const s=Number(e.count);if(0===s){if(t.zero)return t.zero}else if(1===s){if(t.one)return t.one}else if(2===s&&t.two)return t.two}return"object"==typeof t&&null!==t&&t.other?t.other:t}}class Gi extends Yi{static getInstance(t){return Gi.instances[t]}constructor(t){if(super(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]),(0,N.Z)(this,"locales",{}),this.url=t,this.url=t,!this.url)throw new Error("Url is required!");if(Gi.instances[this.url])return Gi.instances[this.url];this.init(),Gi.instances[this.url]=this}async getAll(t){if(t||(t=this.url),!t)throw new Error("Url is required!");if(window.Shopify.shop&&(t+="?shop=".concat(window.Shopify.shop)),this.locales[t])return this.locales[t];const e=await lt.getJSON(t);return this.locales[t]=e.body,this.locales[t]}}(0,N.Z)(Gi,"instances",{});class Xi extends Yi{static getInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return Xi.instances[t]}constructor(t,e){if(super(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3]),this.locales=t,this.id=e,e||(e="main"),this.locales=t,Xi.instances[e])return Xi.instances[e];this.init(),Xi.instances[e]=this}async getAll(){return this.locales}}(0,N.Z)(Xi,"instances",{});class Ki extends Fe{constructor(){super(...arguments),(0,N.Z)(this,"_debug",!0),(0,N.Z)(this,"scope",{langcodes:[],switch:this.switch,toggle:this.toggle,ready:!1})}static get observedAttributes(){return[]}connectedCallback(){super.connectedCallback(),this.init(Ki.observedAttributes)}setLangcode(t){var e;null===(e=this.localesService)||void 0===e||e.setLangcode(t)}requiredAttributes(){return[]}disconnectedCallback(){super.disconnectedCallback()}async beforeBind(){if(await super.beforeBind(),this.localesService=zi.options.localesService,!this.localesService)throw new Error("LocalesService not defined!");if(this.localesService.ready){const t=this.localesService.getLangcode();if(t)return await this.initLocales(t)}else{var t;null===(t=this.localesService)||void 0===t||t.event.on("ready",(async t=>{await this.initLocales(t)}))}}template(){return null}switch(t,e){e&&(e.preventDefault(),e.stopPropagation()),t.active||this.setLangcode(t.code)}toggle(t){t&&(t.preventDefault(),t.stopPropagation());for(const t in this.scope.langcodes)if(Object.prototype.hasOwnProperty.call(this.scope.langcodes,t)&&!0!==this.scope.langcodes[t].active)return void this.setLangcode(this.scope.langcodes[t].code)}async initLocales(t){var e,s;const i=await(null===(e=this.localesService)||void 0===e?void 0:e.getAvailableLangcodes());if(!i)throw new Error("No lancodes found!");return this.scope.langcodes=i,this.scope.langcodes.forEach((e=>{e.active=e.code===t})),null===(s=this.localesService)||void 0===s||s.event.on("changed",(t=>{this.scope.langcodes.forEach((e=>{e.active=e.code===t}))})),this.scope.ready=!0,this.scope.langcodes}}(0,N.Z)(Ki,"tagName","i18n-switcher");var $i='<div rv-add-class="\'drop\' | append dropdownDirection"> <div class="dropdown-toggle dropdown-toggle-share" rv-id="dropdownId" rv-template="labelTemplate"></div> <div class="dropdown-menu" rv-aria-labelledby="dropdownId"> <a rv-each-item="shareItems" rv-show="item.available" rv-download="item.type | eq \'download\'" rv-type="item.type" target="_blank" rv-on-click="shareOnService" class="dropdown-item" rv-href="item.url" rv-html="item.label"></a> </div> </div> ';class Qi{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of Bs4Service not defined, please call setSingleton first!")}static setSingleton(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.instance)throw new Error("Singleton of Bs4Service already defined!");return this._options=t,this.instance=new this,this.instance}}const Ji=3,tn={nsPrefix:"bs4-toggle-button:",eventNames:{toggle:"toggle",toggled:"toggled",init:"init",state:"state"}},en={elEventNames:{removed:"removed",added:"added"}},sn={elEventNames:{removed:"removed",added:"added"}},nn=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],on=/^aria-[\w-]*$/i,rn=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,an=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,ln={"*":["class","dir","id","lang","role",on],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},cn=1e3,hn="transitionend",dn=t=>{let e=t.getAttribute("data-target");if(!e||"#"===e){const s=t.getAttribute("href");e=s&&"#"!==s?s.trim():null}return e},un=t=>{const e=dn(t);return e&&document.querySelector(e)?e:null},pn=t=>{const e=dn(t);return e?document.querySelector(e):null},vn=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:s}=window.getComputedStyle(t);const i=parseFloat(e),n=parseFloat(s);return i||n?(e=e.split(",")[0],s=s.split(",")[0],(parseFloat(e)+parseFloat(s))*cn):0},mn=t=>{const e=document.createEvent("HTMLEvents");e.initEvent(hn,!0,!0),t.dispatchEvent(e)},gn=t=>(t[0]||t).nodeType,fn=(t,e)=>{let s=!1;const i=e+5;t.addEventListener(hn,(function e(){s=!0,t.removeEventListener(hn,e)})),setTimeout((()=>{s||mn(t)}),i)},bn=(t,e,s)=>{for(const i in s)if(Object.prototype.hasOwnProperty.call(s,i)){const n=s[i],o=e[i],r=o&&gn(o)?"element":D(o);if(!r||!new RegExp(n).test(r))throw new Error("".concat(t.toUpperCase(),": ")+'Option "'.concat(i,'" provided type "').concat(r,'" ')+'but expected type "'.concat(n,'".'))}},yn=t=>t?[].slice.call(t):[],wn=t=>{if(!t)return!1;if(t.style&&t.parentNode&&t.parentNode.style){const e=getComputedStyle(t),s=getComputedStyle(t.parentNode);return"none"!==e.display&&"none"!==s.display&&"hidden"!==e.visibility}return!1},En=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?En(t.parentNode):null},Sn=()=>function(){},Cn=t=>t.offsetHeight,kn=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-no-jquery")?t:null},Tn=(t,e,s)=>t.addEventListener(e,s,{}),An=(t,e,s)=>t.addEventListener(e,s,{once:!0}),_n=(t,e,s)=>t.removeEventListener(e,s),Ln=function(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new CustomEvent(e,{detail:s,bubbles:!0,cancelable:!0});return t.dispatchEvent(i),i},On=(t,e)=>Element.prototype.matches.call(t,e),xn=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelectorAll.call(e,t)},Pn=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(e,t)},Nn=(t,e)=>yn(t.children).filter((t=>On(t,e))),In=(t,e)=>{const s=[];let i=t.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE&&i.nodeType!==Ji;)On(i,e)&&s.push(i),i=i.parentNode;return s},Dn=(t,e)=>Element.prototype.closest.call(t,e),Bn=(t,e)=>{const s=[];let i=t.previousSibling;for(;i&&i.nodeType===Node.ELEMENT_NODE&&i.nodeType!==Ji;)On(i,e)&&s.push(i),i=i.previousSibling;return s};function Zn(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Mn(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Zn(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Zn(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Rn=".".concat("bs.carousel"),Hn=".data-api",jn={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Un={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Fn="next",Vn="prev",qn="left",zn="right",Wn={SLIDE:"slide".concat(Rn),SLID:"slid".concat(Rn),KEYDOWN:"keydown".concat(Rn),MOUSEENTER:"mouseenter".concat(Rn),MOUSELEAVE:"mouseleave".concat(Rn),TOUCHSTART:"touchstart".concat(Rn),TOUCHMOVE:"touchmove".concat(Rn),TOUCHEND:"touchend".concat(Rn),POINTERDOWN:"pointerdown".concat(Rn),POINTERUP:"pointerup".concat(Rn),DRAG_START:"dragstart".concat(Rn),LOAD_DATA_API:"load".concat(Rn).concat(Hn),CLICK_DATA_API:"click".concat(Rn).concat(Hn)},Yn="active",Gn="slide",Xn="carousel-item-right",Kn="carousel-item-left",$n="carousel-item-next",Qn="carousel-item-prev",Jn="pointer-event",to=".active",eo=".active.carousel-item",so=".carousel-item",io=".carousel-item img",no=".carousel-item-next, .carousel-item-prev",oo=".carousel-indicators",ro={TOUCH:"touch",PEN:"pen"};var ao=class{constructor(t,e){(0,N.Z)(this,"items",null),(0,N.Z)(this,"interval",null),(0,N.Z)(this,"activeElement",null),(0,N.Z)(this,"isPaused",!1),(0,N.Z)(this,"isSliding",!1),(0,N.Z)(this,"touchTimeout",null),(0,N.Z)(this,"touchStartX",0),(0,N.Z)(this,"touchDeltaX",0),this.config=this.getConfig(e),this.element=t,this.indicatorsElement=Pn(oo,this.element)||null,this.touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this.pointerEvent=!(!window.PointerEvent&&!window.MSPointerEvent),this.addEventListeners()}static get Default(){return jn}next(){this.isSliding||this.slide(Fn)}nextWhenVisible(){!document.hidden&&wn(this.element)&&this.next()}prev(){this.isSliding||this.slide(Vn)}pause(t){t||(this.isPaused=!0),Pn(no,this.element)&&(mn(this.element),this.cycle(!0)),clearInterval(this.interval||void 0),this.interval=null}cycle(t){t||(this.isPaused=!1),this.interval&&(clearInterval(this.interval),this.interval=null),this.config&&this.config.interval&&!this.isPaused&&(this.interval=window.setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this.config.interval))}to(t){if(null===this.items)throw new Error("No items found!");if(this.activeElement=Pn(eo,this.element)||null,null===this.activeElement)throw new Error("Active element not found!");const e=this.getItemIndex(this.activeElement);if(t>this.items.length-1||t<0)return;if(this.isSliding)return void An(this.element,Wn.SLID,(()=>this.to(t)));if(e===t)return this.pause(),void this.cycle();const s=t>e?Fn:Vn;this.slide(s,this.items[t])}dispose(){this.removeEventListeners(),clearTimeout(this.touchTimeout||void 0),clearInterval(this.interval||void 0)}getConfig(t){return t=Mn(Mn({},jn),t),bn("carousel",t,Un),t}handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=40)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}addEventListeners(){this.keydown=this.keydown.bind(this),this.pause=this.pause.bind(this),this.cycle=this.cycle.bind(this),this.config.keyboard&&Tn(this.element,Wn.KEYDOWN,this.keydown),"hover"===this.config.pause&&(Tn(this.element,Wn.MOUSEENTER,this.pause),Tn(this.element,Wn.MOUSELEAVE,this.cycle)),this.config.touch&&this.touchSupported&&this.addTouchEventListeners()}addTouchEventListeners(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),yn(xn(io,this.element)).forEach((t=>{Tn(t,Wn.DRAG_START,this.preventDrag)})),this.pointerEvent?(Tn(this.element,Wn.POINTERDOWN,this.onTouchStart),Tn(this.element,Wn.POINTERUP,this.onTouchEnd),this.element.classList.add(Jn)):(Tn(this.element,Wn.TOUCHSTART,this.onTouchStart),Tn(this.element,Wn.TOUCHMOVE,this.onTouchMove),Tn(this.element,Wn.TOUCHEND,this.onTouchEnd))}removeEventListeners(){this.config.keyboard&&_n(this.element,Wn.KEYDOWN,this.keydown),"hover"===this.config.pause&&(_n(this.element,Wn.MOUSEENTER,this.pause),_n(this.element,Wn.MOUSELEAVE,this.cycle)),this.removeTouchEventListeners()}removeTouchEventListeners(){yn(xn(io,this.element)).forEach((t=>{_n(t,Wn.DRAG_START,this.preventDrag)})),this.pointerEvent?(_n(this.element,Wn.POINTERDOWN,this.onTouchStart),_n(this.element,Wn.POINTERUP,this.onTouchEnd),this.element.classList.add(Jn)):(_n(this.element,Wn.TOUCHSTART,this.onTouchStart),_n(this.element,Wn.TOUCHMOVE,this.onTouchMove),_n(this.element,Wn.TOUCHEND,this.onTouchEnd))}onTouchStart(t){const e=t;this.pointerEvent&&ro[e.pointerType.toUpperCase()]?this.touchStartX=e.clientX:this.pointerEvent||(this.touchStartX=e.touches[0].clientX)}onTouchMove(t){const e=t;e.touches&&e.touches.length>1?this.touchDeltaX=0:this.touchDeltaX=e.touches[0].clientX-this.touchStartX}onTouchEnd(t){const e=t;this.pointerEvent&&ro[e.pointerType.toUpperCase()]&&(this.touchDeltaX=e.clientX-this.touchStartX),this.handleSwipe(),"hover"===this.config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=Number(setTimeout((t=>this.cycle(t)),500+(this.config.interval||0))))}preventDrag(t){t.preventDefault()}keydown(t){var e;const s=t;if(null===(e=s.target)||void 0===e||!e.tagName||!/input|textarea/i.test(s.target.tagName))switch(s.which){case 37:s.preventDefault(),this.prev();break;case 39:s.preventDefault(),this.next()}}getItemIndex(t){return t?(this.items=t&&t.parentNode?yn(xn(so,t.parentNode)):[],this.items.indexOf(t)):-1}getItemByDirection(t,e){if(null===this.items)throw new Error("No items found!");const s=t===Fn,i=t===Vn,n=this.getItemIndex(e),o=this.items.length-1;if((i&&0===n||s&&n===o)&&!this.config.wrap)return e;const r=(n+(t===Vn?-1:1))%this.items.length;return-1===r?this.items[this.items.length-1]:this.items[r]}triggerSlideEvent(t,e){const s=this.getItemIndex(t),i=this.getItemIndex(Pn(eo,this.element)||null);return Ln(this.element,Wn.SLIDE,{relatedTarget:t,direction:e,from:i,to:s})}setActiveIndicatorElement(t){if(this.indicatorsElement){const e=xn(to,this.indicatorsElement);for(let t=0;t<e.length;t++)e[t].classList.remove(Yn);const s=this.indicatorsElement.children[this.getItemIndex(t)];s&&s.classList.add(Yn)}}slide(t,e){const s=Pn(eo,this.element),i=this.getItemIndex(s),n=e||s&&this.getItemByDirection(t,s);if(!n)throw new Error("Next element not found!");const o=this.getItemIndex(n),r=Boolean(this.interval);let a,l,c;if(t===Fn?(a=Kn,l=$n,c=qn):(a=Xn,l=Qn,c=zn),n&&n.classList.contains(Yn))return void(this.isSliding=!1);if(!this.triggerSlideEvent(n,c).defaultPrevented&&s&&n){if(this.isSliding=!0,r&&this.pause(),this.setActiveIndicatorElement(n),this.element.classList.contains(Gn)){n.classList.add(l),Cn(n),s.classList.add(a),n.classList.add(a);const t=parseInt(n.getAttribute("data-interval")||"0",10);t?(this.config.defaultInterval=this.config.defaultInterval||this.config.interval,this.config.interval=t):this.config.interval=this.config.defaultInterval||this.config.interval;const e=vn(s);An(s,hn,(()=>{n.classList.remove(a),n.classList.remove(l),n.classList.add(Yn),s.classList.remove(Yn),s.classList.remove(l),s.classList.remove(a),this.isSliding=!1,setTimeout((()=>{Ln(this.element,Wn.SLID,{relatedTarget:n,direction:c,from:i,to:o})}),0)})),fn(s,e)}else s.classList.remove(Yn),n.classList.add(Yn),this.isSliding=!1,Ln(this.element,Wn.SLID,{relatedTarget:n,direction:c,from:i,to:o});r&&this.cycle()}}};const lo=(()=>{const t={};let e=1;return{set(s,i,n){void 0===s.dataset.key&&(s.dataset.key=i,s.dataset.id=e.toString(),e++),s.dataset.id&&(t[s.dataset.id]=n)},get(e,s){if(!e||void 0===e.dataset.key)return null;const i=e.dataset.key,n=e.dataset.id;return i===s&&void 0!==n?t[n]:null},delete(e,s){if(void 0===e.dataset.key)return;const i=e.dataset.key,n=e.dataset.id;i===s&&void 0!==n&&(delete t[n],delete e.dataset.key)}}})(),co=(t,e,s)=>{lo.set(t,e,s)},ho=(t,e)=>lo.get(t,e),uo=(t,e)=>{lo.delete(t,e)};function po(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function vo(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?po(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):po(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const mo="bs.collapse",go=".".concat(mo),fo={toggle:!0,parent:""},bo={toggle:"boolean",parent:"(string|element)"},yo="show".concat(go),wo="shown".concat(go),Eo="hide".concat(go),So="hidden".concat(go),Co="show",ko="collapse",To="collapsing",Ao="collapsed",_o="width";class Lo{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,N.Z)(this,"_element",null),(0,N.Z)(this,"_triggerArray",null),(0,N.Z)(this,"_selector",null),(0,N.Z)(this,"_parent",null),this._isTransitioning=!1,this._element=t,this._config=this._getConfig(s),this._triggerArray=Array.from(e),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle(),co(t,mo,this)}static get VERSION(){return"4.3.1"}static get Default(){return fo}isExpanded(){var t;return!(null===(t=this._element)||void 0===t||!t.classList.contains(Co))}isCollapsed(){return!this.isExpanded()}toggle(){this.isExpanded()?this.hide():this.show()}show(){var t;if(!this._element)return void console.warn("this._element not set!");if(this._isTransitioning||this._element.classList.contains(Co))return;let e,s=null;this._parent&&(s=Array.from(xn(".show, .collapsing",this._parent)).filter((t=>"string"==typeof this._config.parent?t.getAttribute("data-parent")===this._config.parent:t.classList.contains(ko))),0===s.length&&(s=null));const i=this._selector?Pn(this._selector):null;if(s){const t=s.filter((t=>i!==t));if(e=t[0]?ho(t[0],mo):null,e&&e._isTransitioning)return}if(Ln(this._element,yo).defaultPrevented)return;s&&s.forEach((t=>{i!==t&&Lo.collapseInterface(t,"hide"),e||co(t,mo,null)}));const n=this._getDimension();this._element.classList.remove(ko),this._element.classList.add(To),this._element.style[n]="0",null!==(t=this._triggerArray)&&void 0!==t&&t.length&&this._triggerArray.forEach((t=>{t.classList.remove(Ao),t.setAttribute("aria-expanded","true")})),this.setTransitioning(!0);const o=n[0].toUpperCase()+n.slice(1),r="scroll".concat(o),a=vn(this._element);An(this._element,hn,(()=>{this._element?(this._element.classList.remove(To),this._element.classList.add(ko,Co),this._element.style[n]="",this.setTransitioning(!1),Ln(this._element,wo)):console.warn("this._element not set!")})),fn(this._element,a),this._element.style[n]="".concat(this._element[r],"px"),!this._config.parent&&this._triggerArray&&this._addAriaAndCollapsedClass(this._element,this._triggerArray,!0)}hide(){var t;if(!this._element)return void console.warn("this._element not set!");if(this._isTransitioning||!this._element.classList.contains(Co))return;if(Ln(this._element,Eo).defaultPrevented)return;const e=this._getDimension();this._element.style[e]="".concat(this._element.getBoundingClientRect()[e],"px"),Cn(this._element),this._element.classList.add(To),this._element.classList.remove(ko,Co);const s=null===(t=this._triggerArray)||void 0===t?void 0:t.length;if(s&&this._triggerArray&&s>0)for(let t=0;t<s;t++){const e=this._triggerArray[t],s=pn(e);s&&!s.classList.contains(Co)&&(e.classList.add(Ao),e.setAttribute("aria-expanded","false"))}this.setTransitioning(!0);this._element.style[e]="";const i=vn(this._element);An(this._element,hn,(()=>{this.setTransitioning(!1),this._element?(this._element.classList.remove(To),this._element.classList.add(ko),Ln(this._element,So)):console.warn("this._element not set!")})),fn(this._element,i),!this._config.parent&&this._triggerArray&&this._addAriaAndCollapsedClass(this._element,this._triggerArray,!1)}setTransitioning(t){this._isTransitioning=t}dispose(){this._element&&uo(this._element,mo),this._config=null,this._parent=null,this._element=null,this._isTransitioning=!1}_getConfig(t){return(t=vo(vo({},fo),t)).toggle=Boolean(t.toggle),bn("collapse",t,bo),t}_getDimension(){return!!this._element&&this._element.classList.contains(_o)?_o:"height"}_getParent(){let{parent:t}=this._config;gn(t)?void 0===t.jquery&&void 0===t[0]||(t=t[0]):t=Pn(t);const e='[data-parent="'.concat(t,'"]');return xn(e,t).forEach((t=>{const e=pn(t);e?this._addAriaAndCollapsedClass(e,[t]):console.warn()})),t}_addAriaAndCollapsedClass(t,e,s){t&&("boolean"!=typeof s&&(s=t.classList.contains(Co)),e.length&&e.forEach((t=>{s?t.classList.remove(Ao):t.classList.add(Ao),t.setAttribute("aria-expanded",(!!s).toString())})))}static collapseInterface(t,e){let s=ho(t,mo);const i=vo(vo(vo({},fo),t.dataset),"object"==typeof e&&e?e:{});if(!s&&i.toggle&&/show|hide/.test(e)&&(i.toggle=!1),s||(s=new Lo(t,[],i)),"string"==typeof e){if(void 0===s[e])throw new TypeError('No method named "'.concat(e,'"'));s[e]()}}static getInstance(t){return ho(t,mo)}}var Oo=s(349);function xo(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Po(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?xo(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):xo(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const No="bs.dropdown",Io=".".concat(No),Do=".data-api",Bo=(new RegExp("".concat(38,"|").concat(40,"|").concat(27)),{HIDE:"hide".concat(Io),HIDDEN:"hidden".concat(Io),SHOW:"show".concat(Io),SHOWN:"shown".concat(Io),CLICK:"click".concat(Io),CLICK_DATA_API:"click".concat(Io).concat(Do),KEYDOWN_DATA_API:"keydown".concat(Io).concat(Do),KEYUP_DATA_API:"keyup".concat(Io).concat(Do)}),Zo="disabled",Mo="show",Ro="dropup",Ho="dropright",jo="dropleft",Uo="dropdown-menu-right",Fo="position-static",Vo=".dropdown-toggle",qo=".dropdown-menu",zo="top-start",Wo="top-end",Yo="bottom-start",Go="bottom-end",Xo="right-start",Ko="left-start",$o={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Qo={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"};class Jo{static get VERSION(){return"4.1.3"}static get Default(){return $o}static get DefaultType(){return Qo}static closeAll(){document.querySelectorAll(Vo).forEach((t=>{if(t.parentElement){const e=t.parentElement.querySelector(qo+"."+Mo)||void 0;if(e)return this.close(t,e,t)}this.close(t,t)}))}static close(t,e,s){const i={relatedTarget:t};e&&e.classList.contains(Mo)&&e.classList.remove(Mo),s&&s.classList.contains(Mo)&&(s.classList.remove(Mo),s.dispatchEvent(new CustomEvent(Bo.HIDDEN,{detail:i})));const n=t.parentElement;n&&n.classList.contains(Mo)&&(n.classList.remove(Mo),n.dispatchEvent(new CustomEvent(Bo.HIDDEN,{detail:i})))}static _clearMenus(){return this.closeAll()}constructor(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this.outsideClickListener=this.outsideClickListener.bind(this),this.closeOnClickOutside()}close(){return Jo.close(this._element,this._menu)}show(){const t={relatedTarget:this._element},e=this._element.parentElement;this._menu.classList.contains(Mo)||this._menu.classList.add(Mo),e&&!e.classList.contains(Mo)&&(e.classList.add(Mo),e.dispatchEvent(new CustomEvent(Bo.SHOWN,{detail:t})))}toggle(){if(this._element.disabled||this._element.classList.contains(Zo))return;const t=this._element.parentElement,e=this._menu.classList.contains(Mo);if(Jo._clearMenus(),e)return void this.close();const s={relatedTarget:this._element},i=new CustomEvent(Bo.SHOW,{detail:s});if(!t||(t.dispatchEvent(i),!i.defaultPrevented)){if(!this._inNavbar){if(void 0===Oo.Z)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:gn(this._config.reference)&&(e=this._config.reference,void 0!==this._config.reference.jquery&&(e=this._config.reference[0])),t&&"scrollParent"!==this._config.boundary&&t.classList.add(Fo),this._popper=new Oo.Z(e,this._menu,this._getPopperConfig())}this._element.focus(),this._element.setAttribute("aria-expanded","true"),this._menu.classList.contains(Mo)?this._menu.classList.remove(Mo):this._menu.classList.add(Mo),this._menu.dispatchEvent(new CustomEvent(Bo.SHOWN,{detail:s}))}}dispose(){this._element.removeAttribute("data-bs.dropdown"),null!==this._popper&&(this._popper.destroy(),this._popper=null),document.removeEventListener("click",this.outsideClickListener)}update(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}outsideClickListener(t){const e=t.target||t.srcElement||t.currentTarget,s=this._element.parentElement;e&&!s.contains(e)&&(this.close(),document.removeEventListener("click",this.outsideClickListener))}closeOnClickOutside(){this._element.parentElement&&document.addEventListener("click",this.outsideClickListener)}_getConfig(t){return t=Po(Po(Po({},Jo.Default),this._element.dataset),t),bn("dropdown",t,Jo.DefaultType),t}_getMenuElement(){if(!this._menu){const t=this._element.parentElement;if(t){const e=t.querySelector(qo);if(!e)throw new Error("Menu not found!");this._menu=e}}return this._menu}_getPlacement(){const t=this._element.parentElement;let e=Yo;if(!t)throw new Error("Parent of element not found!");return t.classList.contains(Ro)?(e=zo,this._menu.classList.contains(Uo)&&(e=Wo)):t.classList.contains(Ho)?e=Xo:t.classList.contains(jo)?e=Ko:this._menu.classList.contains(Uo)&&(e=Go),e}_detectNavbar(){return this._element.closest&&null!==this._element.closest(".navbar")}_getPopperConfig(){const t={};"function"==typeof this._config.offset?t.fn=t=>(t.offsets=Po(Po({},t.offsets),this._config.offset(t.offsets)||{}),t):t.offset=this._config.offset;const e={placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),e}}function tr(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function er(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?tr(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):tr(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const sr="bs.modal",ir=".".concat(sr),nr="Escape",or={backdrop:!0,keyboard:!0,focus:!0,show:!0},rr={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ar="hide".concat(ir),lr="hidePrevented".concat(ir),cr="hidden".concat(ir),hr="show".concat(ir),dr="shown".concat(ir),ur="focusin".concat(ir),pr="resize".concat(ir),vr="click.dismiss".concat(ir),mr="keydown.dismiss".concat(ir),gr="mouseup.dismiss".concat(ir),fr="mousedown.dismiss".concat(ir),br="modal-open",yr="fade",wr="show",Er="modal-static",Sr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Cr=".sticky-top";class kr{constructor(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=Pn(".modal-dialog",t),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0,co(t,sr,this)}static get VERSION(){return"5.0.0-alpha1"}static get Default(){return or}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;this._element.classList.contains(yr)&&(this._isTransitioning=!0);const e=Ln(this._element,hr,{relatedTarget:t});this._isShown||e.defaultPrevented||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),Tn(this._element,vr,(t=>this.hide(t))),this._dialog&&Tn(this._dialog,fr,(()=>{An(this._element,gr,(t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(t))))}hide(t){if(t&&t.preventDefault(),!this._isShown||this._isTransitioning)return;if(Ln(this._element,ar).defaultPrevented)return;this._isShown=!1;const e=this._element.classList.contains(yr);if(e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._element.classList.remove(wr),e){const t=vn(this._element);An(this._element,hn,(()=>this._hideModal())),fn(this._element,t)}else this._hideModal()}dispose(){uo(this._element,sr)}handleUpdate(){this._adjustDialog()}_getConfig(t){return t=er(er({},or),t),bn("modal",t,rr),t}_showElement(t){const e=this._element.classList.contains(yr),s=this._dialog?Pn(".modal-body",this._dialog):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal","true"),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,s&&(s.scrollTop=0),e&&Cn(this._element),this._element.classList.add(wr),this._config.focus&&this._enforceFocus();const i=()=>{this._config.focus&&this._element.focus(),this._isTransitioning=!1,Ln(this._element,dr,{relatedTarget:t})};if(e){if(!this._dialog)return void console.warn("Dialog element not found!");const t=vn(this._dialog);An(this._dialog,hn,i),fn(this._dialog,t)}else i()}_enforceFocus(){const t=t=>{t.target&&document!==t.target&&this._element!==t.target&&!this._element.contains(t.target)&&this._element.focus()};_n(document,ur,t),Tn(document,ur,t)}_setEscapeEvent(){const t=t=>{this._config.keyboard&&t.key===nr?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!==nr||this._triggerBackdropTransition()};this._isShown?Tn(this._element,mr,t):_n(this._element,mr,t)}_setResizeEvent(){const t=()=>this._adjustDialog();this._isShown?Tn(window,pr,t):_n(window,pr,t)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((()=>{document.body.classList.remove(br),this._resetAdjustments(),this._resetScrollbar(),Ln(this._element,cr)}))}_removeBackdrop(){var t,e;null===(t=this._backdrop)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(this._backdrop),this._backdrop=null}_showBackdrop(t){const e=this._element.classList.contains(yr)?yr:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",e&&this._backdrop.classList.add(e),document.body.appendChild(this._backdrop),Tn(this._element,vr,(t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&this._triggerBackdropTransition()})),e&&Cn(this._backdrop),this._backdrop.classList.add(wr),!e)return void t();const s=vn(this._backdrop);An(this._backdrop,hn,t),fn(this._backdrop,s)}else if(!this._isShown&&this._backdrop){this._backdrop.classList.remove(wr);const e=()=>{this._removeBackdrop(),t()};if(this._element.classList.contains(yr)){const t=vn(this._backdrop);An(this._backdrop,hn,e),fn(this._backdrop,t)}else e()}else t()}_triggerBackdropTransition(){if("static"===this._config.backdrop){if(!this._dialog)return void console.error("Dialog element not found!");if(Ln(this._element,lr).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight;t||(this._element.style.overflowY="hidden"),this._element.classList.add(Er);const e=vn(this._dialog),s=()=>{this._element.classList.remove(Er),t||(An(this._element,hn,(()=>{this._element.style.overflowY=""})),fn(this._element,e))};_n(this._element,hn,s),An(this._element,hn,s),fn(this._element,e),this._element.focus()}else this.hide()}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft="".concat(this._scrollbarWidth,"px")),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight="".concat(this._scrollbarWidth,"px"))}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}_checkScrollbar(){const t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()}_setScrollbar(){if(this._isBodyOverflowing){xn(Sr).forEach((t=>{const e=t.style.paddingRight,s=window.getComputedStyle(t)["padding-right"];t.dataset.paddingRight=e,t.style.paddingRight="".concat(parseFloat(s)+this._scrollbarWidth,"px")})),xn(Cr).forEach((t=>{const e=t.style.marginRight,s=window.getComputedStyle(t)["margin-right"];t.dataset.marginRight=e,t.style.marginRight="".concat(parseFloat(s)-this._scrollbarWidth,"px")}));const t=document.body.style.paddingRight,e=window.getComputedStyle(document.body)["padding-right"];document.body.dataset.paddingRight=t,document.body.style.paddingRight="".concat(parseFloat(e)+this._scrollbarWidth,"px")}document.body.classList.add(br)}_resetScrollbar(){xn(Sr).forEach((t=>{const e=t.dataset.paddingRight;void 0!==e&&(delete t.dataset.paddingRight,t.style.paddingRight=e)})),xn("".concat(Cr)).forEach((t=>{const e=t.dataset.marginRight;void 0!==e&&(delete t.dataset.marginRight,t.style.marginRight=e)}));const t=document.body.dataset.paddingRight;void 0===t?document.body.style.paddingRight="":(delete document.body.dataset.paddingRight,document.body.style.paddingRight=t)}_getScrollbarWidth(){const t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}static getInstance(t){return ho(t,sr)}}const Tr=(t,e)=>{const s=t.nodeName.toLowerCase();var i,n;if(-1!==e.indexOf(s))return-1===nn.indexOf(s)||Boolean((null===(i=t.nodeValue)||void 0===i?void 0:i.match(rn))||(null===(n=t.nodeValue)||void 0===n?void 0:n.match(an)));const o=e.filter((t=>t instanceof RegExp));for(let t=0,e=o.length;t<e;t++)if(s.match(o[t]))return!0;return!1};function Ar(t,e,s){if(!t.length)return t;if(s&&"function"==typeof s)return s(t);const i=(new window.DOMParser).parseFromString(t,"text/html"),n=Object.keys(e),o=Array.from(i.body.querySelectorAll("*"));for(let t=0,s=o.length;t<s;t++){const s=o[t],i=s.nodeName.toLowerCase();if(-1===n.indexOf(i)){var r;null==s||null===(r=s.parentNode)||void 0===r||r.removeChild(s);continue}const a=Array.from(s.attributes),l=e["*"]||e[i]||[];a.forEach((t=>{Tr(t,l)||s.removeAttribute(t.nodeName)}))}return i.body.innerHTML}function _r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Lr(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function Or(t){return t.replace(/[A-Z]/g,(t=>"-".concat(t.toLowerCase())))}const xr=(t,e,s)=>{t.setAttribute("data-".concat(Or(e)),s)},Pr=(t,e)=>{t.removeAttribute("data-".concat(Or(e)))},Nr=t=>{if(!t)return{};const e=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?_r(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},t.dataset);return Object.keys(e).forEach((t=>{e[t]=Lr(e[t])})),e},Ir=(t,e)=>Lr(t.getAttribute("data-".concat(Or(e)))),Dr=t=>{const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},Br=t=>({top:t.offsetTop,left:t.offsetLeft}),Zr=(t,e)=>{t&&(t.classList.contains(e)?t.classList.remove(e):t.classList.add(e))};function Mr(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Rr(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Mr(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Mr(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Hr="tooltip",jr="5.0.0-alpha1",Ur="bs.tooltip",Fr=".".concat(Ur),Vr="bs-tooltip",qr=new RegExp("(^|\\s)".concat(Vr,"\\S+"),"g"),zr=["sanitize","allowList","sanitizeFn"],Wr={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean|undefined)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean|undefined)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object)"},Yr={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Gr={animation:!0,container:void 0,delay:0,html:!1,placement:"top",selector:void 0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus",offset:0,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,allowList:ln,popperConfig:null},Xr={HIDE:"hide".concat(Fr),HIDDEN:"hidden".concat(Fr),SHOW:"show".concat(Fr),SHOWN:"shown".concat(Fr),INSERTED:"inserted".concat(Fr),CLICK:"click".concat(Fr),FOCUSIN:"focusin".concat(Fr),FOCUSOUT:"focusout".concat(Fr),MOUSEENTER:"mouseenter".concat(Fr),MOUSELEAVE:"mouseleave".concat(Fr)},Kr="fade",$r="modal",Qr="show",Jr="show",ta="out",ea=".tooltip-inner",sa="hover",ia="focus",na="click",oa="manual";class ra{constructor(t,e){if((0,N.Z)(this,"_isEnabled",!0),(0,N.Z)(this,"_timeout",0),(0,N.Z)(this,"_hoverState",""),(0,N.Z)(this,"_activeTrigger",{}),(0,N.Z)(this,"_popper",null),(0,N.Z)(this,"tip",null),void 0===Oo.Z)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org)");this.element=t,this.config=this._getConfig(e),this._setListeners(),co(t,ra.DATA_KEY,this)}static get VERSION(){return jr}static get Default(){return Gr}static get NAME(){return Hr}static get DATA_KEY(){return Ur}static get Event(){return Xr}static get EVENT_KEY(){return Fr}static get DefaultType(){return Wr}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=ra.DATA_KEY,s=Et(t);let i=ho(s,e);i||(i=new ra(s,this._getDelegateConfig()),co(s,e,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(this.getTipElement().classList.contains(Qr))return void this._leave(void 0,this);this._enter(void 0,this)}}dispose(){clearTimeout(this._timeout),uo(this.element,ra.DATA_KEY);const t=this.element.closest(".".concat($r));var e;(t&&_n(t,"hide.bs.modal",this._hideModalHandler),this.tip)&&(null===(e=this.tip.parentNode)||void 0===e||e.removeChild(this.tip));this._popper&&this._popper.destroy()}show(){if("none"===this.element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var t;const e=Ln(this.element,K(this).Event.SHOW),s=En(this.element),i=null===s?this.element.ownerDocument.documentElement.contains(this.element):s.contains(this.element);if(e.defaultPrevented||!i)return;const n=this.getTipElement(),o=kt(ra.NAME);n.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&n.classList.add(Kr);const r="function"==typeof this.config.placement?this.config.placement.call(this,n,this.element):this.config.placement,a=this._getAttachment(r||void 0);this._addAttachmentClass(a);const l=this._getContainer();co(n,ra.DATA_KEY,this),this.element.ownerDocument.documentElement.contains(this.tip)||null==l||l.appendChild(n),Ln(this.element,K(this).Event.INSERTED),this._popper=new Oo.Z(this.element,n,this._getPopperConfig(a)),n.classList.add(Qr),"ontouchstart"in document.documentElement&&Array.from(document.body.children).forEach((t=>{Tn(t,"mouseover",Sn())}));const c=()=>{this.config.animation&&this._fixTransition();const t=this._hoverState;this._hoverState="",Ln(this.element,K(this).Event.SHOWN),t===ta&&this._leave(void 0,this)};if(null!==(t=this.tip)&&void 0!==t&&t.classList.contains(Kr)){const t=vn(this.tip);An(this.tip,hn,c),fn(this.tip,t)}else c()}}hide(){var t;const e=this.getTipElement(),s=()=>{var t;this._hoverState!==Jr&&e.parentNode&&e.parentNode.removeChild(e),this._cleanTipClass(),this.element.removeAttribute("aria-describedby"),Ln(this.element,K(this).Event.HIDDEN),null===(t=this._popper)||void 0===t||t.destroy()};if(!Ln(this.element,K(this).Event.HIDE).defaultPrevented){if(e.classList.remove(Qr),"ontouchstart"in document.documentElement&&Array.from(document.body.children).forEach((t=>_n(t,"mouseover",Sn))),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,null!==(t=this.tip)&&void 0!==t&&t.classList.contains(Kr)){const t=vn(e);An(e,hn,s),fn(e,t)}else s();this._hoverState=""}}update(){null!==this._popper&&this._popper.scheduleUpdate()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");if(t.innerHTML=this.config.template,this.tip=t.children[0],!this.tip)throw new Error("Tooltip not found!");return this.tip}setContent(){const t=this.getTipElement();this.setElementContent(Pn(ea,t),this.getTitle()),t.classList.remove(Kr,Qr)}setElementContent(t,e){if(null!==t){if("object"==typeof e&&null!==e&&gn(e))return e.jquery&&(e=e[0]),e=e,void(this.config.html?e.parentNode!==t&&(t.innerHTML="",t.appendChild(e)):t.textContent=e.textContent);e=e,this.config.html&&this.config.sanitize&&(e=Ar(e,this.config.allowList,this.config.sanitizeFn||void 0)),t.innerHTML=e}}getTitle(){let t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title(this.element):this.config.title),t}_getPopperConfig(t){return Rr(Rr({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".".concat(ra.NAME,"-arrow")},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:t=>{t.originalPlacement!==t.placement&&this._handlePopperPlacementChange(t)},onUpdate:t=>this._handlePopperPlacementChange(t)}),this.config.popperConfig)}_addAttachmentClass(t){this.getTipElement().classList.add("".concat(Vr,"-").concat(t))}_getOffset(){const t={};return this.config.offset&&"function"==typeof this.config.offset?t.fn=t=>(t.offsets=Rr(Rr({},t.offsets),this.config.offset(t.offsets,this.element)||{}),t):t.offset=this.config.offset,t}_getContainer(){return this.config.container?gn(this.config.container)?this.config.container:"string"==typeof this.config.container?Pn(this.config.container):null:document.body}_getAttachment(){return Yr[(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AUTO").toUpperCase()||"BOTTOM"]}_setListeners(){this.config.trigger.split(" ").forEach((t=>{if("click"===t)Tn(this.element,"click",(t=>this.toggle(t)));else if(t!==oa){const e=t===sa?"mouseover":"focus",s=t===sa?"mouseout":"blur";Tn(this.element,e,(t=>this._enter(t))),Tn(this.element,s,(t=>this._leave(t)))}}));const t=this.element.closest(".".concat($r));t&&Tn(t,"hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=Rr(Rr({},this.config),{},{trigger:"manual",selector:""}):this._fixTitle()}_hideModalHandler(){this.element&&this.hide()}_fixTitle(){const t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))}_enter(t,e){const s=ra.DATA_KEY;if(t){const i=t.delegateTarget||Et(t);(e=e||ho(i,s))||(e=new ra(i,this._getDelegateConfig()),co(i,s,e)),e._activeTrigger["focusin"===t.type?ia:sa]=!0}e.getTipElement().classList.contains(Qr)||e._hoverState===Jr?e._hoverState=Jr:(clearTimeout(e._timeout),e._hoverState=Jr,e.config.delay&&e.config.delay.show?e._timeout=setTimeout((()=>{e._hoverState===Jr&&e.show()}),e.config.delay.show):e.show())}_leave(t,e){const s=ra.DATA_KEY;if(t){const i=t.delegateTarget||Et(t);(e=e||ho(i,s))||(e=new ra(i,this._getDelegateConfig()),co(i,s,e))}t&&(e._activeTrigger["focusout"===t.type?ia:sa]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=ta,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((()=>{e._hoverState===ta&&e.hide()}),e.config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=Nr(this.element);return Object.keys(e).forEach((t=>{-1!==zr.indexOf(t)&&delete e[t]})),t&&"object"==typeof t.container&&t.container.jquery&&(t.container=t.container[0]),"number"==typeof(t=Rr(Rr(Rr({},ra.Default),e),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),t.title&&"number"==typeof t.title&&(t.title=t.title.toString()),t.content&&"number"==typeof t.content&&(t.content=t.content.toString()),bn(Hr,t,ra.DefaultType),t.sanitize&&(t.template=Ar(t.template,t.allowList,t.sanitizeFn||void 0)||""),t}_getDelegateConfig(){const t={};if(this.config)for(const e in this.config)this.config[e]!==ra.Default[e]&&(t[e]=this.config[e]);return t}_cleanTipClass(){var t;const e=this.getTipElement(),s=null===(t=e.getAttribute("class"))||void 0===t?void 0:t.match(qr);s&&s.length>0&&s.map((t=>t.trim())).forEach((t=>e.classList.remove(t)))}_handlePopperPlacementChange(t){this.tip=t.instance.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement))}_fixTransition(){const t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(t.classList.remove(Kr),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)}static getInstance(t){return ho(t,Ur)}}(0,N.Z)(ra,"CONSTANTS",{NAME:Hr,VERSION:jr,DATA_KEY:Ur,EVENT_KEY:Fr,CLASS_PREFIX:Vr,BSCLS_PREFIX_REGEX:qr,DISALLOWED_ATTRIBUTES:zr,DefaultType:Wr,AttachmentMap:Yr,Default:Gr,Event:Xr,CLASS_NAME_FADE:Kr,CLASS_NAME_MODAL:$r,CLASS_NAME_SHOW:Qr,HOVER_STATE_SHOW:Jr,HOVER_STATE_OUT:ta,SELECTOR_TOOLTIP_INNER:ea,TRIGGER_HOVER:sa,TRIGGER_FOCUS:ia,TRIGGER_CLICK:na,TRIGGER_MANUAL:oa});function aa(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function la(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?aa(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):aa(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const ca="popover",ha="5.0.0-alpha1",da="bs.popover",ua=".".concat(da),pa="bs-popover",va=new RegExp("(^|\\s)".concat(pa,"\\S+"),"g"),ma=la(la({},ra.Default),{},{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),ga=la(la({},ra.DefaultType),{},{content:"(string|element|function)"}),fa={HIDE:"hide".concat(ua),HIDDEN:"hidden".concat(ua),SHOW:"show".concat(ua),SHOWN:"shown".concat(ua),INSERTED:"inserted".concat(ua),CLICK:"click".concat(ua),FOCUSIN:"focusin".concat(ua),FOCUSOUT:"focusout".concat(ua),MOUSEENTER:"mouseenter".concat(ua),MOUSELEAVE:"mouseleave".concat(ua)},ba="fade",ya="show",wa=".popover-header",Ea=".popover-body";class Sa extends ra{static get VERSION(){return ha}static get Default(){return ma}static get NAME(){return ca}static get DATA_KEY(){return da}static get Event(){return fa}static get EVENT_KEY(){return ua}static get DefaultType(){return ga}constructor(t,e){super(t,e),t.style.backgroundColor="#ffff00"}isWithContent(){return Boolean(this.getTitle()||this._getContent())}setContent(t){const e=this.getTipElement();this.setElementContent(Pn(wa,e),this.getTitle()),t||(t=this._getContent()),"function"==typeof t&&(t=t(this.element)),t&&this.setElementContent(Pn(Ea,e),t),e.classList.remove(ba,ya)}_addAttachmentClass(t){this.getTipElement().classList.add("".concat(pa,"-").concat(t))}_getContent(){return this.element.getAttribute("data-content")||this.config.content}_cleanTipClass(){var t;const e=this.getTipElement(),s=null==e||null===(t=e.getAttribute("class"))||void 0===t?void 0:t.match(va);s&&s.length>0&&s.map((t=>t.trim())).forEach((t=>e.classList.remove(t)))}_getPopperConfig(t){const e=super._getPopperConfig(t);return e.modifiers.arrow.element=".".concat(Sa.NAME,"-arrow"),e}static getInstance(t){return ho(t,da)}}(0,N.Z)(Sa,"CONSTANTS",{NAME:ca,VERSION:ha,DATA_KEY:da,EVENT_KEY:ua,CLASS_PREFIX:pa,BSCLS_PREFIX_REGEX:va,Default:ma,DefaultType:ga,Event:fa,CLASS_NAME_FADE:ba,CLASS_NAME_SHOW:ya,SELECTOR_TITLE:wa,SELECTOR_CONTENT:Ea});function Ca(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function ka(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ca(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ca(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Ta="bs.toast",Aa=".".concat(Ta),_a="click.dismiss".concat(Aa),La="hide".concat(Aa),Oa="hidden".concat(Aa),xa="show".concat(Aa),Pa="shown".concat(Aa),Na="hide",Ia="show",Da="showing",Ba={animation:"boolean",autohide:"boolean",delay:"number"},Za={animation:!0,autohide:!0,delay:2e3};class Ma{constructor(t,e){(0,N.Z)(this,"_config",{}),(0,N.Z)(this,"_timeout",null),this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners(),co(t,Ta,this)}static get VERSION(){return"5.0.0-alpha1-riba"}static get DefaultType(){return Ba}static get Default(){return Za}show(){if(Ln(this._element,xa).defaultPrevented)return;this._config.animation&&this._element.classList.add("fade");const t=()=>{this._element&&(this._element.classList.remove(Da),this._element.classList.add(Ia),Ln(this._element,Pa),this._config.autohide&&(this._timeout=Number(setTimeout((()=>{this.hide()}),this._config.delay))))};if(this._element.classList.remove(Na),Cn(this._element),this._element.classList.add(Da),this._config.animation){const e=vn(this._element);An(this._element,hn,t),fn(this._element,e)}else t()}hide(){if(!this._element.classList.contains(Ia))return;if(Ln(this._element,La).defaultPrevented)return;const t=()=>{this._element&&(this._element.classList.add(Na),Ln(this._element,Oa))};if(this._element.classList.remove(Ia),this._config.animation){const e=vn(this._element);An(this._element,hn,t),fn(this._element,e)}else t()}dispose(){this._timeout&&clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(Ia)&&this._element.classList.remove(Ia),uo(this._element,Ta)}_getConfig(t){var e;return t=ka(ka(ka({},Za),(null===(e=this._element)||void 0===e?void 0:e.dataset)||{}),"object"==typeof t&&t?t:{}),bn("toast",t,Ma.DefaultType),t}_setListeners(){this._element&&Tn(this._element,_a,(()=>{var t;"toast"===(null===(t=this._element)||void 0===t?void 0:t.dataset.dismiss)&&this.hide()}))}static getInstance(t){return ho(t,Ta)}}class Ra extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"dispatcher",it.getInstance("main")),(0,N.Z)(this,"checkURL",this._checkURL.bind(this))}_checkURL(){var t;return!(!this.url||!Ut(this.url))&&(null===(t=this.collapseService)||void 0===t||t.hide(),!0)}bind(t){this.collapseService=new Lo(t,[],{toggle:!1})}unbind(){this.checkURL&&this.dispatcher.off("newPageReady",this.checkURL)}routine(t,e){this.url=e,this.checkURL&&this.dispatcher.off("newPageReady",this.checkURL),this.dispatcher.on("newPageReady",this.checkURL)}}(0,N.Z)(Ra,"key","bs4-collapse-on-url");class Ha extends Kt{bind(){console.warn("bs4-collapse is deprecated, use bs4-toggle-collapse-on-click instead.")}routine(t,e){const s=document.querySelectorAll(e),i=[];s.forEach((e=>{i.push(new Lo(e,[t],{toggle:!1}))})),t.addEventListener("click",(t=>{t.preventDefault(),i.forEach((t=>{t.toggle()}))}))}}(0,N.Z)(Ha,"key","bs4-collapse");class ja extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"targets",new Map),(0,N.Z)(this,"onEvent",this._onEvent.bind(this))}_onEvent(t){t.preventDefault();for(const t of this.targets.values())t.toggle()}bind(t){if(this.onEvent=this.onEvent.bind(this),null===this.args)throw new Error("args is null");const e=this.args[0];t.addEventListener(e,this.onEvent,{passive:!0})}unbind(){const t=this.args[0];this.el.removeEventListener(t,this.onEvent)}routine(t,e){const s=Array.from(document.querySelectorAll(e));s.length<=0&&console.warn('[toggleCollapseOnEventBinder] No element with selector "'.concat(e,'" found.'));for(const t of this.targets.keys()){var i;if(!s.find((e=>e===t)))null===(i=this.targets.get(t))||void 0===i||i.dispose(),this.targets.delete(t)}for(const e of s)this.targets.has(e)||this.targets.set(e,new Lo(e,[t],{toggle:!1}))}}(0,N.Z)(ja,"key","bs4-toggle-collapse-on-*");class Ua extends Kt{bind(t){this.toggler=(t.classList.contains("dropdown-toggle")?t:t.querySelector(".dropdown-toggle"))||t}routine(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.toggler)throw new Error("No dropdown toggle element found!");this.dropdownService&&(this.dropdownService.dispose(),this.toggler.removeEventListener("click",this.dropdownService.toggle)),this.dropdownService=new Jo(this.toggler,e),this.dropdownService.toggle=this.dropdownService.toggle.bind(this.dropdownService),this.toggler.addEventListener("click",this.dropdownService.toggle)}}(0,N.Z)(Ua,"key","bs4-dropdown");class Fa extends Kt{routine(t,e){const s=new Lo(t,[],{toggle:!1}),i=new it("main"),n=t=>t&&Ut(t)?(s.show(),!0):(s.hide(),!1);i.on("newPageReady",(()=>n(e))),n(e)}}function Va(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function qa(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Va(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Va(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}(0,N.Z)(Fa,"key","bs4-expan-on-url");class za extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"listeners",{})}routine(t,e){let s={};"string"==typeof e?s.content=e:"object"==typeof e&&(s=qa({},e)),s.placement=s.placement||"auto";const i=new Sa(t,qa(qa({},Sa.Default),s));this.popover&&this.popover.dispose(),this.popover=i;const n=["show","hide","toggle","dispose","enable","disable","toggleEnabled","update"];if(this.listeners)for(const[t,e]of Object.entries(this.listeners))this.el.removeEventListener(t,e);this.listeners=Object.create(null);for(const t of n){const e="trigger-".concat(t),s=i[t].bind(i);this.el.addEventListener(e,s),this.listeners[e]=s}}bind(t){t.dispatchEvent(new CustomEvent("bound.bs.popover",{bubbles:!0,cancelable:!0}))}unbind(){if(this.popover&&this.popover.dispose(),this.listeners)for(const[t,e]of Object.entries(this.listeners))this.el.removeEventListener(t,e)}}(0,N.Z)(za,"key","bs4-popover");class Wa extends class{constructor(t,e){this.type=t,this.title=e}}{constructor(t){let{title:e,message:s,iconUrl:i,delay:n,autoHide:o,animation:r,toastService:a,contextualClass:l,channel:c,$event:h,$context:d}=t;super("toast",e),this.message=s,this.iconUrl=i,this.delay=n,this.autoHide=o,this.animation=r,this.toastService=a,this.contextualClass=l,this.channel=c,this.$event=h,this.$context=d}}class Ya extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"onEvent",this._onEvent.bind(this))}_onEvent(t){if(!this.toastData)throw new Error("Toast data not set!");this.toastData.$event=t,this.toastData.$context=this.view.models;const e=new Wa(this.toastData);new it(e.channel||"toast").trigger("show-notification",e)}bind(t){const e=this.args[0];t.addEventListener(e,this.onEvent,{passive:!0})}routine(t,e){if(null===this.args)throw new Error("args is null");this.toastData=e}unbind(t){const e=this.args[0];t.removeEventListener(e,this.onEvent)}}(0,N.Z)(Ya,"key","show-toast-on-*");class Ga extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"onScroll",ut(this._onScroll.bind(this))),(0,N.Z)(this,"isInViewport",this._isInViewport.bind(this))}_onScroll(){if(!this.target)throw new Error("No target element found!");if(!this.className)throw new Error("className not set!");this.isInViewport(this.target)?(this.el.classList.add(this.className),"radio"===this.el.type&&(this.el.checked=!0)):(this.el.classList.remove(this.className),"radio"===this.el.type&&(this.el.checked=!1))}_isInViewport(t){if(!t)return!1;const e=Number(this.el.dataset.offset||0),s=Number(this.el.dataset.offsetBottom||0);return Ct(t,e,s)}bind(){window.addEventListener("scroll",this.onScroll,{passive:!0}),this.onScroll()}routine(t,e){const s=e.replace("#","");this.target=document.getElementById(s)||void 0,this.className=this.args[0]}unbind(){window.removeEventListener("scroll",this.onScroll)}}(0,N.Z)(Ga,"key","bs4-scrollspy-*");const Xa=document.createElement("div");Xa.classList.add("tooltip"),Xa.setAttribute("role","tooltip");const Ka=document.createElement("div");Ka.classList.add("arrow"),Xa.appendChild(Ka);const $a=document.createElement("div");$a.classList.add("tooltip-inner"),Xa.appendChild($a);class Qa extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"tip",Xa.cloneNode(!0)),(0,N.Z)(this,"show",this._show.bind(this)),(0,N.Z)(this,"hide",this._hide.bind(this))}_show(){const t=this.el.dataset.placement||"top";this.popper=new Oo.Z(this.el,this.tip,{placement:t,modifiers:{offset:{offset:0},flip:{behavior:"flip"},arrow:{element:".arrow"},preventOverflow:{boundariesElement:"scrollParent"}}}),document.body.appendChild(this.tip),this.tip.classList.add("show"),this.tip.classList.add("bs-tooltip-"+t)}_hide(){this.tip.classList.remove("show"),this.popper&&this.popper.destroy()}bind(t){t.addEventListener("mouseenter",this.show),t.addEventListener("mouseleave",this.hide)}routine(t,e){this.tip.querySelector(".tooltip-inner").innerHTML=e}unbind(){this.hide(),this.el.removeEventListener("mouseenter",this.show),this.el.removeEventListener("mouseleave",this.hide)}}(0,N.Z)(Qa,"key","bs4-tooltip");class Ja extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"onEvent",this._onEvent.bind(this))}_onEvent(t){const e=Number(this.el.dataset.offset||0),s=this.el.dataset.scrollElement?document.querySelector(this.el.dataset.scrollElement):window;this.target&&(yt(this.target,e,s),t.preventDefault())}bind(t){this.onEvent=this.onEvent.bind(this);const e=this.args[0];t.addEventListener(e,this.onEvent,{passive:!0})}routine(t,e){this.target=document.querySelector(e)||void 0}unbind(t){const e=this.args[0];t.removeEventListener(e,this.onEvent)}}(0,N.Z)(Ja,"key","scroll-to-on-*");class tl extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"state","off"),(0,N.Z)(this,"triggerState",this._triggerState.bind(this)),(0,N.Z)(this,"onToggle",this._onToggle.bind(this))}_triggerState(){var t;null===(t=this.toggleButtonEvents)||void 0===t||t.trigger(tn.eventNames.state,this.state)}_onToggle(){this.toggle.bind(this)(this.el)}toggle(t){"removed"===this.state?this.add.bind(this)(t):this.remove.bind(this)(t)}remove(t){const e=this.args[0];t.removeAttribute(e),this.state="removed",t.dispatchEvent(new CustomEvent(en.elEventNames.removed,{detail:{attributeName:e}})),this.triggerState()}add(t){const e=this.args[0];t.setAttribute(e,e),this.state="added",t.dispatchEvent(new CustomEvent(en.elEventNames.added,{detail:{attributeName:e}})),this.triggerState()}bind(t){const e=this.args[0];this.state=t.hasAttribute(e)?"added":"removed"}unbind(){var t,e;null===(t=this.toggleButtonEvents)||void 0===t||t.off(tn.eventNames.toggle,this.onToggle,this),null===(e=this.toggleButtonEvents)||void 0===e||e.off(tn.eventNames.init,this.triggerState,this)}routine(t,e){this._getValue(t)&&this.toggleButtonEvents&&(this.toggleButtonEvents.off(tn.eventNames.toggle,this.onToggle,this),this.toggleButtonEvents.off(tn.eventNames.init,this.triggerState,this)),this.toggleButtonEvents||(this.toggleButtonEvents=new it(tn.nsPrefix+e),this.toggleButtonEvents.on(tn.eventNames.toggle,this.onToggle,this),this.toggleButtonEvents.on(tn.eventNames.init,this.triggerState,this))}}(0,N.Z)(tl,"key","bs4-toggle-attribute-*");class el extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"state","off"),(0,N.Z)(this,"triggerState",this._triggerState.bind(this)),(0,N.Z)(this,"onToggle",this._onToggle.bind(this))}_triggerState(){var t;null===(t=this.toggleButtonEvents)||void 0===t||t.trigger(tn.eventNames.state,this.state)}_onToggle(){this.toggle.bind(this)(this.el)}toggle(t){"removed"===this.state?this.add.bind(this)(t):this.remove.bind(this)(t)}remove(t){const e=this.args[0];t.classList.remove(e),this.state="removed",t.dispatchEvent(new CustomEvent(sn.elEventNames.removed,{detail:{className:e}})),this.triggerState()}add(t){const e=this.args[0];t.classList.add(e,e),this.state="added",t.dispatchEvent(new CustomEvent(sn.elEventNames.added,{detail:{className:e}})),this.triggerState()}bind(t){const e=this.args[0];this.state=t.classList.contains(e)?"added":"removed"}unbind(){var t,e;null===(t=this.toggleButtonEvents)||void 0===t||t.off(tn.eventNames.toggle,this.onToggle,this),null===(e=this.toggleButtonEvents)||void 0===e||e.off(tn.eventNames.init,this.triggerState,this)}routine(t,e){const s=this._getValue(t);let i=this.toggleButtonEvents;s&&i&&(i.off(tn.eventNames.toggle,this.onToggle,this),i.off(tn.eventNames.init,this.triggerState,this)),this.toggleButtonEvents||(this.toggleButtonEvents=new it(tn.nsPrefix+e),i=this.toggleButtonEvents,i.on(tn.eventNames.toggle,this.onToggle,this),i.on(tn.eventNames.init,this.triggerState,this))}}(0,N.Z)(el,"key","bs4-toggle-class-*");class sl extends Fe{static get observedAttributes(){return[]}constructor(){super(),(0,N.Z)(this,"scope",{toggle:this.toggle})}toggle(t){if(t.preventDefault(),t.stopPropagation(),!this.dropdownService)throw new Error("DropdownService not ready!");return this.dropdownService.toggle()}connectedCallback(){super.connectedCallback(),this.dropdownService=new Jo(this.querySelector(".dropdown-toggle")),this.init(sl.observedAttributes)}template(){return null}}(0,N.Z)(sl,"tagName","bs4-dropdown");const il=Fs.read;class nl extends We{static get observedAttributes(){return["collapse-icon-src","collapse-icon-size","show-only-one"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"templateAttributes",[{name:"title",required:!0},{name:"show",required:!1},{name:"icon-direction",required:!1}]),(0,N.Z)(this,"scope",{items:[],toggle:this.toggle,show:this.show,hide:this.hide,collapseIconSize:16,showOnlyOne:!0})}hide(t,e){const s=this.querySelector('[data-index="'.concat(e,'"]'));s&&(this.initItemEventListeners(t,s),new Lo(s,[this],{toggle:!1}).hide())}show(t,e){const s=this.querySelector('[data-index="'.concat(e,'"]')),i=Array.from(this.querySelectorAll('[data-index]:not([data-index="'.concat(e,'"])')));if(i&&this.scope.showOnlyOne)for(const t of i)new Lo(t,[],{toggle:!1}).hide();s&&(this.initItemEventListeners(t,s),new Lo(s,[],{toggle:!1}).show())}toggle(t,e){const s=this.querySelector('[data-index="'.concat(e,'"]')),i=Array.from(this.querySelectorAll('[data-index]:not([data-index="'.concat(e,'"])')));if(i&&this.scope.showOnlyOne)for(const t of i)new Lo(t,[],{toggle:!1}).hide();s&&(this.initItemEventListeners(t,s),new Lo(s,[],{toggle:!1}).toggle())}initItemEventListeners(t,e){e.removeEventListener(Eo,this.onHide.bind(this,e,t)),e.removeEventListener(yo,this.onShow.bind(this,e,t)),e.addEventListener(Eo,this.onHide.bind(this,e,t),{once:!0}),e.addEventListener(yo,this.onShow.bind(this,e,t),{once:!0})}getContentChildByIndex(){return this.querySelector(".card-body > *")||void 0}onShow(t,e){e.show=!0,e.iconDirection="up";const s=this.getContentChildByIndex();s&&this.triggerVisibilityChangedForElement(s,e.show)}onHide(t,e){e.show=!1,e.iconDirection="down";const s=this.getContentChildByIndex();s&&this.triggerVisibilityChangedForElement(s,e.show)}transformTemplateAttributes(t){return t.handle=t.handle||il(t.title),t.show=!!t.show,t.iconDirection=t.iconDirection||t.show?"up":"down",t}triggerVisibilityChangedForElement(t,e){setTimeout((()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:e}}))}),200)}connectedCallback(){super.connectedCallback(),this.init(nl.observedAttributes)}async init(t){return super.init(t).then((t=>t))}async beforeBind(){return await super.beforeBind()}async afterBind(){return await super.afterBind()}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback()}template(){return!gt(this)||this.hasOnlyTemplateChilds()?'<div class="accordion"> <div class="card" rv-each-item="items"> <button type="button" class="btn btn-link card-header d-flex" rv-on-click="toggle | args item %item%" rv-aria-expanded="item.show"> <span class="card-header-text mr-auto" rv-html="item.title"></span> <bs4-icon class="ml-auto" rv-show="collapseIconSrc" rv-src="collapseIconSrc" rv-size="collapseIconSize" rv-direction="item.iconDirection"></bs4-icon> </button> <div class="collapse" rv-data-index="%item%"> <div class="card-body" rv-template="item.content"></div> </div> </div> </div> ':null}}(0,N.Z)(nl,"tagName","bs4-accordion");class ol extends Fe{static get observedAttributes(){return["animation-class"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"scope",{animationClass:"btn-animation-start",onClick:this.onClick.bind(this)})}onClick(){this.startAnimation()}connectedCallback(){super.connectedCallback(),this.init(ol.observedAttributes)}startAnimation(){this.classList.add(this.scope.animationClass)}onStartAnimation(){}onEndAnimation(){setTimeout((()=>{this.classList.remove(this.scope.animationClass)}))}async init(t){return super.init(t).then((t=>(this.onStartAnimation=this.onStartAnimation.bind(this),this.addEventListener("webkitAnimationStart",this.onStartAnimation),this.addEventListener("animationstart",this.onStartAnimation),this.onEndAnimation=this.onEndAnimation.bind(this),this.addEventListener("webkitAnimationEnd",this.onEndAnimation),this.addEventListener("animationend",this.onEndAnimation),this.addEventListener("click",this.scope.onClick),t)))}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("webkitAnimationStart",this.onStartAnimation),this.removeEventListener("animationstart",this.onStartAnimation),this.removeEventListener("webkitAnimationEnd",this.onEndAnimation),this.removeEventListener("animationend",this.onEndAnimation),this.removeEventListener("click",this.scope.onClick)}template(){return null}}(0,N.Z)(ol,"tagName","bs4-button");class rl extends Fe{static get observedAttributes(){return["interval","keyboard","slide","pauseOn","wrap","touch","ride","fade"]}requiredAttributes(){return[]}constructor(){super(),(0,N.Z)(this,"scope",{interval:ao.Default.interval,keyboard:ao.Default.keyboard,slide:ao.Default.slide,pauseOn:ao.Default.pause||!1,wrap:ao.Default.wrap,touch:ao.Default.touch,ride:ao.Default.touch||!1,fade:!1,next:this.next,nextWhenVisible:this.nextWhenVisible,prev:this.prev,pause:this.pause,cycle:this.cycle,to:this.to,dispose:this.dispose}),(0,N.Z)(this,"autobind",!0)}async beforeBind(){await super.beforeBind(),this.classList.add("carousel","slide")}async afterBind(){this.carouselService=new ao(this,{interval:this.scope.interval,keyboard:this.scope.keyboard,slide:this.scope.slide,pause:this.scope.pauseOn,wrap:this.scope.wrap,touch:this.scope.touch}),this.scope.fade&&this.classList.add("carousel-fade"),this.carouselService.cycle(),await super.afterBind()}next(){this.carouselService&&this.carouselService.next()}nextWhenVisible(){this.carouselService&&this.carouselService.nextWhenVisible()}prev(){this.carouselService&&this.carouselService.prev()}pause(){this.carouselService&&this.carouselService.pause()}cycle(t){this.carouselService&&this.carouselService.cycle(t)}to(t){this.carouselService&&this.carouselService.to(t)}dispose(){this.carouselService&&this.carouselService.dispose()}connectedCallback(){super.connectedCallback(),super.init(rl.observedAttributes)}template(){return null}}(0,N.Z)(rl,"tagName","bs4-carousel");var al=s(137);class ll{constructor(){(0,N.Z)(this,"events",[])}add(t,e,s){t.addEventListener(e,s,!1),this.events.push({target:t,type:e,handler:s})}remove(t,e,s){this.events=this.events.filter((i=>{let n=!0;return t&&t!==i.target&&(n=!1),e&&e!==i.type&&(n=!1),s&&s!==i.handler&&(n=!1),n&&ll._doRemove(i.target,i.type,i.handler),!n}))}static _doRemove(t,e,s){t.removeEventListener(e,s,!1)}destroy(){this.events.forEach((t=>ll._doRemove(t.target,t.type,t.handler))),this.events=[]}}const cl=(t,e,s)=>{let i=!1;const n=(t,e,s)=>Math.max(e,Math.min(t,s)),o=(t,o,r)=>{if(r&&(i=!0),!i)return;t.preventDefault();const a=e.getBoundingClientRect(),l=a.width,c=a.height,h=o.clientX,d=o.clientY,u=n(h-a.left,0,l),p=n(d-a.top,0,c);s(u/l,p/c)},r=(t,e)=>{1===(void 0===t.buttons?t.which:t.buttons)?o(t,t,e):i=!1};function a(t,e){1===t.touches.length?o(t,t.touches[0],e):i=!1}t.add(e,"mousedown",(t=>{r(t,!0)})),t.add(e,"touchstart",(t=>{a(t,!0)})),t.add(window,"mousemove",r),t.add(e,"touchmove",a),t.add(window,"mouseup",(()=>{i=!1})),t.add(e,"touchend",(()=>{i=!1})),t.add(e,"touchcancel",(()=>{i=!1}))},hl="keydown";function dl(t){t.preventDefault(),t.stopPropagation()}class ul extends Fe{static get observedAttributes(){return["namespace","alpha","editor","editor-format","cancel-button","okay-button","color"]}constructor(){super(),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"scope",{namespace:"main",hsl:[],cssHue:"",cssHsl:"",cssHsla:"",alphaBg:"",color:"#0cf",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,okayButton:!1}),(0,N.Z)(this,"events",new ll),(0,N.Z)(this,"_domH",null),(0,N.Z)(this,"_domSL",null),(0,N.Z)(this,"_domA",null),(0,N.Z)(this,"_domEdit",null),(0,N.Z)(this,"_domSample",null),(0,N.Z)(this,"_domOkay",null),(0,N.Z)(this,"_domCancel",null)}connectedCallback(){super.connectedCallback(),super.init(ul.observedAttributes)}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.eventDispatcher=it.getInstance("bs4-colorpicker:"+this.scope.namespace),this.setColor(this.scope.color),this.updateUI(),this.bindEvents()}async afterTemplate(t){await super.afterTemplate(t),this.setElements()}onChange(t){var e;this.debug("onChange",t),null===(e=this.eventDispatcher)||void 0===e||e.trigger("change",t)}onDone(t){var e;this.debug("onDone",t),null===(e=this.eventDispatcher)||void 0===e||e.trigger("done",t)}template(){return gt(this)?null:'<div class="picker_arrow"></div> <div class="picker_hue picker_slider" rv-style-color="cssHsl"> <div class="picker_selector"></div> </div> <div class="picker_sl" rv-style-background-color="cssHue" rv-style-color="cssHsl"> <div class="picker_selector"></div> </div> <div class="picker_alpha picker_slider" rv-show="alpha" rv-style-background-image="alphaBg"> <div class="picker_selector"></div> </div> <input class="picker_editor form-control" rv-show="editor" aria-label="Type a color name or hex value" rv-value="color"/> <div class="picker_sample" rv-style-color="cssHsla"></div> <button class="btn btn-success picker_done" rv-show="okayButton">Ok</button> <button class="btn btn-danger picker_cancel" rv-show="cancelButton">Cancel</button> '}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"color"===t&&this.setColor(this.scope.color)}setColor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{silent:!1};return ut(this._setColor.bind(this))(t,e)}_setColor(t){let e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{silent:!1};if("string"==typeof t&&(t=t.trim()),t){s=s||{};try{e=new al.Z(t)}catch(t){if(s.failSilently)return;throw t}if(!this.scope.alpha){const t=e.hsla;t[3]=1,e.hsla=t}this.color=e,this.setHSLA(null,null,null,null,s)}}setElements(){this._domH=this.querySelector(".picker_hue"),this._domSL=this.querySelector(".picker_sl"),this._domA=this.querySelector(".picker_alpha"),this._domEdit=this.querySelector(".picker_editor")||null,this._domSample=this.querySelector(".picker_sample"),this._domOkay=this.querySelector(".picker_done"),this._domCancel=this.querySelector(".picker_cancel")}disconnectedCallback(){this.events.destroy()}bindEvents(){const t=this.events,e=(e,s,i)=>{t.add(e,s,i)};e(this,"click",(t=>t.preventDefault()));const s=cl.bind(this);if(!(this._domH&&this._domSL&&this._domA&&this._domEdit&&this._domOkay))throw new Error("Not ready!");s(t,this._domH,(t=>this.setHSLA(t))),s(t,this._domSL,((t,e)=>this.setHSLA(null,t,1-e))),this.scope.alpha&&s(t,this._domA,((t,e)=>this.setHSLA(null,null,null,1-e))),e(this._domEdit,"input",(t=>{const e=t.target;this.setColor(e.value,{fromEditor:!0,failSilently:!0})})),e(this._domEdit,"focus",(t=>{const e=t.target;e.selectionStart===e.selectionEnd&&e.select()}));const i=()=>{this.onDone(this.color)};e(this._domOkay,"click",i),function(t,e,s,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t.add(e,hl,(function(t){s.indexOf(t.key)>=0&&(n&&dl(t),i(t))}))}(t,this,["Enter"],i)}setHSLA(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!this.color)throw new Error("Not ready!");const o=this.color.hsla;[t,e,s,i].forEach(((t,e)=>{(t||0===t)&&(o[e]=t)})),this.color.hsla=o,this.updateUI(n),this.onChange&&!n.silent&&this.onChange(this.color)}updateUI(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ut(this._updateUI.bind(this))(t)}_updateUI(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this||!this.color)return;if(this.scope.hsl=this.color.hsla,this.scope.cssHue="hsl(".concat(360*this.scope.hsl[0],", 100%, 50%)"),this.scope.cssHsl=this.color.hslString,this.scope.cssHsla=this.color.hslaString,!this._domH||!this._domSL||!this._domA)throw new Error("Color ui elements not found!");const e=this._domH.querySelector(".picker_selector"),s=this._domSL.querySelector(".picker_selector"),i=this._domA.querySelector(".picker_selector");if(!(e&&s&&i&&this._domEdit&&this._domSample))throw console.error(e,s,i,this._domA,this._domSL,this._domH,this._domEdit,this._domSample),new Error("Not ready!");const n=(t,e,s)=>{e.style.left=100*s+"%"},o=(t,e,s)=>{e.style.top=100*s+"%"};n(this._domH,e,this.scope.hsl[0]),n(this._domSL,s,this.scope.hsl[1]),o(this._domSL,s,1-this.scope.hsl[2]),o(this._domA,i,1-this.scope.hsl[3]);const r=this.scope.cssHsl,a=r.replace("hsl","hsla").replace(")",", 0)"),l="linear-gradient(".concat([r,a],")");if(this.scope.alphaBg=l+", url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",!t.fromEditor){const t=this.scope.editorFormat,e=this.scope.alpha;let s;switch(t){case"rgb":s=this.color.printRGB(e);break;case"hsl":s=this.color.printHSL(e);break;default:s=this.color.printHex(e)}this.scope.color=s}}}(0,N.Z)(ul,"tagName","bs4-colorpicker");class pl extends Fe{static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","scroll-offset","scroll-element"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,scrollOffset:0,anchors:[]})}connectedCallback(){super.connectedCallback(),this.init(pl.observedAttributes)}getIdFromElementOrParent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.id?t.id:e<=this.scope.findHeaderIdDepth&&t.parentElement?this.getIdFromElementOrParent(t.parentElement,++e):null}pushHeaders(t,e,s,i){t.querySelectorAll("h"+e).forEach((t=>{const n=this.getIdFromElementOrParent(t);n&&(i.push({element:t,href:"#"+n,title:t.innerHTML,childs:[]}),t.parentElement&&s>=e+1&&this.pushHeaders(t.parentElement,e+1,s,i[i.length-1].childs))}))}async afterBind(){if(this.scope.headerParentSelector&&this.scope.headersStart&&this.scope.headersDepth){if(this.wrapperElement=document.querySelector(this.scope.headerParentSelector)||void 0,this.scope.anchors=[],!this.wrapperElement)return void console.error("No wrapper element found!");this.pushHeaders(this.wrapperElement,this.scope.headersStart,this.scope.headersDepth,this.scope.anchors)}await super.afterBind()}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}async attributeChangedCallback(t,e,s,i){super.attributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback(),this.scope.anchors=[]}template(){return gt(this)?null:'<ul class="list-unstyled list-contents list-contents-level-1"> <li class="nav-item nav-item-level-1" rv-each-anachor="anchors"> <a class="nav-link p-0" rv-href="anachor.href" rv-html="anachor.title" rv-scroll-to-on-click="anachor.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="anachor.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-2"> <li class="nav-item nav-item-level-2" rv-each-child="anachor.childs"> <a class="nav-link p-0" rv-href="child.href" rv-html="child.title" rv-scroll-to-on-click="child.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="child.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-3"> <li class="nav-item nav-item-level-3" rv-each-childchild="child.childs"> <a class="nav-link p-0" rv-href="childchild.href" rv-html="childchild.title" rv-scroll-to-on-click="childchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-4"> <li class="nav-item nav-item-level-4" rv-each-childchildchild="childchild.childs"> <a class="nav-link p-0" rv-href="childchildchild.href" rv-html="childchildchild.title" rv-scroll-to-on-click="childchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-5"> <li class="nav-item nav-item-level-5" rv-each-childchildchildchild="childchildchild.childs"> <a class="nav-link p-0" rv-href="childchildchildchild.href" rv-html="childchildchildchild.title" rv-scroll-to-on-click="childchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchildchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-6"> <li class="nav-item nav-item-level-6" rv-each-childchildchildchildchild="childchildchildchild.childs"> <a class="nav-link p-0" rv-href="childchildchildchildchild.href" rv-html="childchildchildchildchild.title" rv-scroll-to-on-click="childchildchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul>'}}(0,N.Z)(pl,"tagName","bs4-contents");class vl extends Ue{static get observedAttributes(){return["size","width","height","src","color","direction"]}constructor(){super(),(0,N.Z)(this,"scope",{})}async attributeChangedCallback(t,e,s,i){if(super.attributeChangedCallback(t,e,s,i),"src"===t){if(!s)return void console.warn("The src attribute must have a value!",this.scope);fetch&&fetch(s).then((t=>{var e;return 200!==t.status?(console.error(t.statusText),""):-1!==(null===(e=t.headers.get("content-type"))||void 0===e?void 0:e.indexOf("image/svg+xml"))?t.text():(console.error("[bs4-icon] Only svg's are supported! But content-type is "+t.headers.get("content-type")),"")})).then((t=>{this.innerHTML=t})).catch((t=>{console.error(t)}))}if("title"===t){const t=document.createElementNS("http://www.w3.org/2000/svg","title");t.textContent=s;const e=this.firstElementChild;e&&e.appendChild(t)}if("color"===t)if(-1!==s.indexOf(",")){if((s=s.split(",")).length>0){this.className=this.className.replace(/(^|\s)color-\S+/g,"");for(let t=0;t<s.length;t++){const e=s[t];(e.startsWith("#")||e.startsWith("rgb"))&&(this.style.color=e),this.classList.add("color-".concat(e))}}}else this.style.color=s,this.className=this.className.replace(/(^|\s)color-\S+/g,""),this.classList.add("color-".concat(s));if("size"===t){const t=s;this.style.height=t+"px",this.style.width=t+"px",this.className=this.className.replace(/(^|\s)size-\S+/g,""),this.classList.add("size-".concat(t))}if("width"===t){const t=s;this.style.width=t+"px",this.className=this.className.replace(/(^|\s)width-\S+/g,""),this.classList.add("width-".concat(t))}if("height"===t){const t=s;this.style.height=t+"px",this.className=this.className.replace(/(^|\s)height-\S+/g,""),this.classList.add("height-".concat(t))}if("direction"===t){const t=s;let e="direction-".concat(t);"left"===t?e+=" rotate-270":"left-top"===t||"left-up"===t||"top-left"===t||"up-left"===t?e+=" rotate-315":"top"===t||"up"===t?e+=" rotate-0":"top-right"===t||"up-right"===t||"right-top"===t||"right-up"===t?e+=" rotate-45":"right"===t?e+=" rotate-90":"right-bottom"===t||"right-down"===t||"bottom-right"===t||"down-right"===t?e+=" rotate-135":"bottom"===t||"down"===t?e+=" rotate-180":"left-bottom"!==t&&"left-down"!==t&&"bottom-left"!==t&&"down-left"!==t||(e+=" rotate-225"),this.className=this.className.replace(/(^|\s)direction-\S+/g,""),this.className=this.className.replace(/(^|\s)rotate-\S+/g,""),this.className+=" "+e}}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true"),this.setAttribute("role","img"),this.classList.add("iconset"),this.init(vl.observedAttributes),this.scope.direction||(this.scope.direction="up",this.attributeChangedCallback("direction",null,this.scope.direction,null))}template(){return null}}(0,N.Z)(vl,"tagName","bs4-icon");class ml extends pl{static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","offset","offset-bottom","scroll-offset"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,offset:0,offsetBottom:0,scrollOffset:0,anchors:[]})}connectedCallback(){super.connectedCallback(),this.init(ml.observedAttributes)}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}template(){return gt(this)?null:'<ul class="list-unstyled list-scrollspy list-scrollspy-level-1"> <li class="nav-item nav-item-level-1" rv-each-anachor="anchors" rv-bs4-scrollspy-active="anachor.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link" rv-href="anachor.href" rv-html="anachor.title" rv-scroll-to-on-click="anachor.href" rv-data-offset="scrollOffset"></a> <ul rv-if="anachor.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-2"> <li class="nav-item nav-item-level-2" rv-each-child="anachor.childs" rv-bs4-scrollspy-active="child.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link" rv-href="child.href" rv-html="child.title" rv-scroll-to-on-click="child.href" rv-data-offset="scrollOffset"></a> <ul rv-if="child.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-3"> <li class="nav-item nav-item-level-3" rv-each-childchild="child.childs" rv-bs4-scrollspy-active="childchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchild.href" rv-html="childchild.title" rv-scroll-to-on-click="childchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-4"> <li class="nav-item nav-item-level-4" rv-each-childchildchild="childchild.childs" rv-bs4-scrollspy-active="childchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchild.href" rv-html="childchildchild.title" rv-scroll-to-on-click="childchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-5"> <li class="nav-item nav-item-level-5" rv-each-childchildchildchild="childchildchild.childs" rv-bs4-scrollspy-active="childchildchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchildchild.href" rv-html="childchildchildchild.title" rv-scroll-to-on-click="childchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchildchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-6"> <li class="nav-item nav-item-level-6" rv-each-childchildchildchildchild="childchildchildchild.childs" rv-bs4-scrollspy-active="childchildchildchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchildchildchild.href" rv-html="childchildchildchildchild.title" rv-scroll-to-on-click="childchildchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul>'}}(0,N.Z)(ml,"tagName","bs4-scrollspy");class gl extends Fe{static get observedAttributes(){return["id","container-selector","position","width","auto-show-on-wider-than","auto-hide-on-slimmer-than","force-hide-on-location-pathnames","force-show-on-location-pathnames","overlay-on-slimmer-than","watch-new-page-ready-event"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"routerEvents",new it("main")),(0,N.Z)(this,"scope",{containerSelector:void 0,state:"hidden",oldState:"hidden",id:void 0,width:"250px",position:"left",autoShowOnWiderThan:1199,autoHideOnSlimmerThan:1200,watchNewPageReadyEvent:!0,forceHideOnLocationPathnames:[],forceShowOnLocationPathnames:[],overlayOnSlimmerThan:1200,hide:this.hide,show:this.show,toggle:this.toggle}),(0,N.Z)(this,"onEnvironmentChanges",ut(this._onEnvironmentChanges.bind(this))),this.onEnvironmentChanges=this.onEnvironmentChanges.bind(this)}setState(t){this.scope.oldState="".concat(this.scope.state),this.scope.state=t,this.onStateChange()}getState(){return this.scope.state}getShowMode(){let t;return t=St().w<this.scope.overlayOnSlimmerThan?"overlay-"+this.scope.position:"side-"+this.scope.position,t}hide(){this.setState("hidden")}show(){const t=this.getShowMode();this.setState(t)}toggle(){"hidden"===this.scope.state?this.show():this.hide()}connectedCallback(){super.connectedCallback(),this.init(gl.observedAttributes),this.computedStyle=window.getComputedStyle(this),window.addEventListener("resize",this.onEnvironmentChanges,{passive:!0}),this.onEnvironmentChanges()}initToggleButtonEventDispatcher(){this.eventDispatcher&&(this.eventDispatcher.off(tn.eventNames.toggle,this.toggle,this),this.eventDispatcher.off(tn.eventNames.init,this.triggerState,this)),this.eventDispatcher=new it(tn.nsPrefix+this.scope.id),this.eventDispatcher.on(tn.eventNames.toggle,this.toggle,this),this.eventDispatcher.on(tn.eventNames.init,this.triggerState,this)}initRouterEventDispatcher(){this.scope.watchNewPageReadyEvent&&this.routerEvents.on("newPageReady",this.onEnvironmentChanges,this)}onHidden(){this.setContainersStyle(this.scope.state);const t="left"===this.scope.position?"-100%":"100%";this.setAttribute("style","transform:translateX(".concat(t,");width:").concat(this.scope.width,";"))}onSide(t){this.setContainersStyle(t),this.setAttribute("style","transform:translateX(0);width:".concat(this.scope.width,";"))}onOverlay(t){this.setContainersStyle(t),this.setAttribute("style","transform:translateX(0);width:".concat(this.scope.width,";"))}triggerState(){var t;null===(t=this.eventDispatcher)||void 0===t||t.trigger("state",this.scope.state)}onStateChange(){switch(this.scope.state){case"side-left":case"side-right":this.onSide(this.scope.state);break;case"overlay-left":case"overlay-right":this.onOverlay(this.scope.state);break;default:this.onHidden()}this.eventDispatcher&&this.eventDispatcher.trigger(tn.eventNames.toggled,this.scope.state)}get width(){return this.offsetWidth?this.offsetWidth+"px":this.scope.width}setStateByEnvironment(){if(-1!==this.scope.forceHideOnLocationPathnames.indexOf(window.location.pathname))return this.hide();if(-1!==this.scope.forceShowOnLocationPathnames.indexOf(window.location.pathname))return this.show();const t=St().w;return this.scope.autoHideOnSlimmerThan>-1&&t<this.scope.autoHideOnSlimmerThan?this.hide():this.scope.autoShowOnWiderThan>-1&&t>this.scope.autoShowOnWiderThan?this.show():void 0}_onEnvironmentChanges(){this.setStateByEnvironment()}getContainers(){return this.scope.containerSelector?document.querySelectorAll(this.scope.containerSelector):void 0}initContainers(t){this.setContainersStyle(t)}setContainersStyle(t){const e=this.getContainers()||[];if(e)for(let s=0;s<e.length;s++){const i=e[s];this.setContainerStyle(i,t)}}setContainerStyle(t,e){const s=t.style;if(e){const i=this.width,n=window.getComputedStyle(t);switch(e){case"side-left":switch(n.position){case"fixed":s.left=i;break;default:s.marginLeft=i}break;case"side-right":switch(n.position){case"fixed":s.right=i;break;default:s.marginRight=i}break;case"hidden":switch(this.scope.oldState){case"side-left":switch(n.position){case"fixed":s.left="0";break;default:s.marginLeft="0"}break;case"side-right":switch(n.position){case"fixed":s.right="0";break;default:s.marginRight="0"}}}}t.style.transition=this.computedStyle?this.computedStyle.transition:""}async beforeBind(){return await super.beforeBind(),this.scope.oldState=this.getShowMode(),this.initRouterEventDispatcher(),this.onEnvironmentChanges()}async afterBind(){this.onEnvironmentChanges(),await super.afterBind()}requiredAttributes(){return["id"]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"containerSelector"===t&&this.initContainers(this.scope.state),"id"===t&&this.initToggleButtonEventDispatcher()}disconnectedCallback(){var t,e;super.disconnectedCallback(),null===(t=this.eventDispatcher)||void 0===t||t.off(tn.eventNames.init,this.triggerState,this),null===(e=this.eventDispatcher)||void 0===e||e.off(tn.eventNames.toggle,this.toggle,this),this.routerEvents.off("newPageReady",this.onEnvironmentChanges,this),window.removeEventListener("resize",this.onEnvironmentChanges,!1)}template(){return gt(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}}(0,N.Z)(gl,"tagName","bs4-sidebar");const fl=t=>t,bl=t=>t*t,yl=t=>t*(2-t),wl=t=>t<.5?2*t*t:(4-2*t)*t-1,El=t=>t*t*t,Sl=t=>--t*t*t+1,Cl=t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,kl=t=>t*t*t*t,Tl=t=>1- --t*t*t*t,Al=t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,_l=t=>t*t*t*t*t,Ll=t=>1+--t*t*t*t*t,Ol=t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t,xl=t=>{const e=t,s=t;if(e.document&&e.location){return{x:e.pageXOffset,y:e.pageYOffset,maxX:document.documentElement.scrollWidth-document.documentElement.clientWidth,maxY:document.documentElement.scrollHeight-document.documentElement.clientHeight}}return{x:s.scrollLeft,y:s.scrollTop,maxX:s.scrollWidth-s.clientWidth,maxY:s.scrollHeight-s.clientHeight}},Pl=t=>{const e=xl(t);return e.maxX>0||e.maxY>0};class Nl{static getFps(){return this.fps}static startLoop(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setOptions(t),this.loopStarted||(this.loopStarted=!0,window.requestAnimationFrame(this.loop.bind(this)))}static setOptions(t){this.maxFPS="number"==typeof t.maxFPS?t.maxFPS:this.maxFPS}static loop(t){if(t<this.lastFrameTimeMs+1e3/this.maxFPS)return void(this.frameID=window.requestAnimationFrame(this.loop.bind(this)));const e=t-this.lastFrameTimeMs;this.delta+=e,this.lastFrameTimeMs=t,this.begin(t,this.delta),t>this.lastFpsUpdate+1e3&&(this.fps=.25*this.framesThisSecond+.75*this.fps,this.lastFpsUpdate=t,this.framesThisSecond=0),this.framesThisSecond++;let s=0;for(;this.delta>=this.timestep;)if(this.update(this.timestep),this.delta-=this.timestep,++s>=240){this.panic();break}this.render(this.delta/this.timestep),this.end(this.fps),this.frameID=window.requestAnimationFrame(this.loop.bind(this))}static begin(t,e){this.events.trigger("begin",t,e)}static render(t){this.events.trigger("render",t)}static update(t){this.events.trigger("update",t)}static end(t){this.events.trigger("end",t)}static panic(){this.delta=0}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Nl.setOptions(t)}}(0,N.Z)(Nl,"events",new it("gameloop")),(0,N.Z)(Nl,"maxFPS",60),(0,N.Z)(Nl,"fps",60),(0,N.Z)(Nl,"timestep",1e3/60),(0,N.Z)(Nl,"loopStarted",!1),(0,N.Z)(Nl,"lastFrameTimeMs",0),(0,N.Z)(Nl,"delta",0),(0,N.Z)(Nl,"framesThisSecond",0),(0,N.Z)(Nl,"lastFpsUpdate",0),(0,N.Z)(Nl,"frameID",0);class Il{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,N.Z)(this,"touchCapable","ontouchstart"in window),(0,N.Z)(this,"direction",1),(0,N.Z)(this,"_pause",!1),(0,N.Z)(this,"velocity",.008),(0,N.Z)(this,"move",0),(0,N.Z)(this,"lastMove",0),(0,N.Z)(this,"angle","horizontal"),(0,N.Z)(this,"pauseOnHover",!0),(0,N.Z)(this,"resumeTimer",null),(0,N.Z)(this,"onResize",pt(this._onResize.bind(this))),(0,N.Z)(this,"onScroll",pt(this._onScroll.bind(this))),this.el=t,this.options=e,this.direction=this.options.direction||this.direction,this.velocity=this.options.velocity||this.velocity,this.angle=this.options.angle||this.angle,this.pauseOnHover="boolean"==typeof this.options.pauseOnHover?this.options.pauseOnHover:this.pauseOnHover,this.limit=this.getLimit(this.el),this.move=this.getPosition(),-1===this.direction?this.el.scrollLeft=this.limit:this.el.scrollLeft=0,this.addEventListeners(),Nl.startLoop({maxFPS:60})}update(){this.limit=this.getLimit(this.el),this.setPosition()}destroy(){this.removeEventListeners()}pause(){this.el.style.scrollBehavior="",this._pause=!0}resume(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._pause&&(this.stopResumeTimeout(),this.resumeTimer=window.setTimeout((()=>{this.setPosition(),this._pause=!1,this.el.style.scrollBehavior="auto"}),t))}addEventListeners(){this.removeEventListeners(),this.onResize=this.onResize.bind(this),this.onMouseIn=this.onMouseIn.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onScroll=this.onScroll.bind(this),this.render=this.render.bind(this),this.updateMove=this.updateMove.bind(this),window.addEventListener("resize",this.onResize,{passive:!0}),this.el.addEventListener("mouseenter",this.onMouseIn,{passive:!0}),this.el.addEventListener("mouseover",this.onMouseIn,{passive:!0}),this.el.addEventListener("focusin",this.onMouseIn,{passive:!0}),this.el.addEventListener("touchstart",this.onMouseIn,{passive:!0}),this.el.addEventListener("mouseleave",this.onMouseOut,{passive:!0}),this.el.addEventListener("focusout",this.onMouseOut,{passive:!0}),this.el.addEventListener("mouseup",this.onMouseUp,{passive:!0}),this.el.addEventListener("touchend",this.onMouseUp,{passive:!0}),this.touchCapable?(this.el.addEventListener("scroll",this.onMouseUp,{passive:!0}),this.el.addEventListener("scrollend",this.onMouseUp,{passive:!0}),this.el.addEventListener("scrollended",this.onMouseUp,{passive:!0})):(this.el.addEventListener("scroll",this.onScroll,{passive:!0}),this.el.addEventListener("scrollend",this.onScroll,{passive:!0}),this.el.addEventListener("scrollended",this.onScroll,{passive:!0})),Nl.events.on("render",this.render),Nl.events.on("update",this.updateMove)}removeEventListeners(){window.removeEventListener("resize",this.onResize),this.el.removeEventListener("mouseenter",this.onMouseIn),this.el.removeEventListener("mouseover",this.onMouseIn),this.el.removeEventListener("focusin",this.onMouseIn),this.el.removeEventListener("touchstart",this.onMouseIn),this.el.removeEventListener("mouseleave",this.onMouseOut),this.el.removeEventListener("focusout",this.onMouseOut),this.el.removeEventListener("mouseup",this.onMouseUp),this.el.removeEventListener("touchend",this.onMouseUp),this.touchCapable?(this.el.removeEventListener("scroll",this.onMouseUp),this.el.removeEventListener("scrollend",this.onMouseUp),this.el.removeEventListener("scrollended",this.onMouseUp)):(this.el.removeEventListener("scroll",this.onScroll),this.el.removeEventListener("scrollend",this.onScroll),this.el.removeEventListener("scrollended",this.onScroll)),Nl.events.off("render",this.render),Nl.events.off("update",this.updateMove)}onMouseIn(){this.pauseOnHover&&this.pause()}onMouseOut(){this.resume(200)}onMouseUp(){this.resume(1e3)}_onResize(){this.limit=this.getLimit(this.el),this.resume(200)}_onScroll(){this.stopResumeTimeout()}stopResumeTimeout(){null!==this.resumeTimer&&(clearTimeout(this.resumeTimer),this.resumeTimer=null)}getPosition(){return("vertical"===this.angle?this.el.scrollTop:this.el.scrollLeft)||0}setPosition(){this.move=this.getPosition()}getLimit(t){return"vertical"===this.angle?xl(t).maxY:xl(t).maxX}render(){this._pause||this.scroll(this.move)}updateMove(t){if(this._pause)return;this.lastMove=this.move;const e=this.velocity*this.direction*t;this.move+=e,this.move<=0&&1!==this.direction&&(this.direction=1),this.move>=this.limit&&-1!==this.direction&&(this.direction=-1)}scroll(t){"vertical"===this.angle?this.el.scrollTop=t:this.el.scrollLeft=t}}class Dl{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{detectGlobalMove:!0};if((0,N.Z)(this,"lastClientX",0),(0,N.Z)(this,"lastClientY",0),(0,N.Z)(this,"pushed",!1),(0,N.Z)(this,"touchCapable","ontouchstart"in window),(0,N.Z)(this,"checkDraggable",pt(this._checkDraggable.bind(this))),this.el=t,this.options=e,this.touchCapable)return this;this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.checkDraggable=this.checkDraggable.bind(this),t.removeEventListener("mousedown",this.onMouseDown),t.addEventListener("mousedown",this.onMouseDown,{passive:!0}),window.addEventListener("resize",this.checkDraggable),this.options.detectGlobalMove?(window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp,{passive:!0}),window.addEventListener("mousemove",this.onMouseMove,{passive:!0})):(t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mousemove",this.onMouseMove),t.addEventListener("mouseup",this.onMouseUp,{passive:!0}),t.addEventListener("mousemove",this.onMouseMove,{passive:!0})),this.checkDraggable()}destroy(){this.removeEventListeners(),this.el.classList.remove("draggable")}_checkDraggable(){Pl(this.el)?this.el.classList.add("draggable"):this.el.classList.remove("draggable")}onMouseDown(t){this.pushed=!0,this.lastClientX=t.clientX,this.lastClientY=t.clientY}onMouseUp(){this.pushed=!1}onMouseMove(t){let e=0,s=0;this.pushed&&(this.el.scrollLeft-=e=-this.lastClientX+(this.lastClientX=t.clientX),this.el.scrollTop-=s=-this.lastClientY+(this.lastClientY=t.clientY),this.el===document.body&&(document.documentElement&&(this.el=document.documentElement),this.el.scrollLeft-=e,this.el.scrollTop-=s))}removeEventListeners(){window.removeEventListener("resize",this.checkDraggable),this.el.removeEventListener("mousedown",this.onMouseDown),this.el.removeEventListener("mouseup",this.onMouseUp),this.el.removeEventListener("mousemove",this.onMouseMove)}}class Bl{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of ExtrasService not defined, please call setSingleton first!")}static setSingleton(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.instance)throw new Error("Singleton of ExtrasService already defined!");return this._options=t,this.instance=new this,this.instance}}class Zl{constructor(){(0,N.Z)(this,"enterK","requestFullscreen"),(0,N.Z)(this,"exitK","exitFullscreen"),(0,N.Z)(this,"elementK","fullscreenElement"),(0,N.Z)(this,"eventK","fullscreenchange");const t=document.documentElement,e="fullscreenchange";t.requestFullscreen?(this.enterK="requestFullscreen",this.exitK="exitFullscreen",this.elementK="fullscreenElement",this.eventK=e):t.mozRequestFullScreen?(this.enterK="mozRequestFullScreen",this.exitK="mozCancelFullScreen",this.elementK="mozFullScreenElement",this.eventK="moz"+e):t.webkitRequestFullscreen?(this.enterK="webkitRequestFullscreen",this.exitK="webkitExitFullscreen",this.elementK="webkitFullscreenElement",this.eventK="webkit"+e):t.msRequestFullscreen&&(this.enterK="msRequestFullscreen",this.exitK="msExitFullscreen",this.elementK="msFullscreenElement",this.eventK="MSFullscreenChange")}static getSingleton(){return Zl.instance||(Zl.instance=new Zl),Zl.instance}static supported(){const t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)}enter(t){t||(t=document.body),this.isFullscreen()||("webkitRequestFullscreen"===this.enterK?t[this.enterK](Element.ALLOW_KEYBOARD_INPUT):t[this.enterK]())}exit(){this.isFullscreen()&&document[this.exitK]()}isFullscreen(){return document[this.elementK]}toggle(t){this.isFullscreen()?this.exit():this.enter(t)}}class Ml{get isTouchCapable(){return this.touchCapable}constructor(t){(0,N.Z)(this,"touchCapable","ontouchstart"in window),this.el=t}triggerCustomEvent(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s.originalEvent=e,s.target=e.target;const i=new CustomEvent(t,{detail:s});this.el.dispatchEvent(i)}}class Rl extends Ml{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),(0,N.Z)(this,"isScrolling",!1),(0,N.Z)(this,"delay",300),(0,N.Z)(this,"startPosition",null),(0,N.Z)(this,"endPosition",null),(0,N.Z)(this,"scrollTimer",null),(0,N.Z)(this,"onScrollEvent",this._onScrollEvent.bind(this)),(0,N.Z)(this,"scroll",this._scroll.bind(this)),this.el=t,this.delay=e.delay||this.delay,this.startPosition=xl(this.el),this._scrollEvent=this.touchCapable?["touchmove","scrollend","scroll"]:["scroll","scrollend"],this.removeEventListeners(),this.addEventListeners()}destroy(){this.removeEventListeners()}get scrollEvent(){return this._scrollEvent}getScrollDir(t,e){return t&&e?t.x>e.x?"right":t.x<e.x?"left":t.y>e.y?"down":t.y<e.y?"up":"none":"unknown"}removeEventListeners(){for(const t of this._scrollEvent)this.el.removeEventListener(t,this.onScrollEvent)}addEventListeners(){for(const t of this._scrollEvent)this.el.addEventListener(t,this.onScrollEvent,{passive:!0})}_onScrollEvent(t){return!!t.target&&(null!==this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),this.isScrolling||this.scrollstart(t),this.isScrolling&&this.scroll(t),this.scrollTimer=window.setTimeout((()=>{this.scrollended(t)}),this.delay),!0)}scrollended(t){this.isScrolling=!1,this.endPosition=xl(this.el);const e=this.getScrollDir(this.startPosition,this.endPosition);this.triggerCustomEvent("scrollended",t,{startPosition:this.startPosition,endPosition:this.endPosition,direction:e})}scrollstart(t){this.isScrolling=!0,this.startPosition=xl(this.el),this.triggerCustomEvent("scrollstart",t,{startPosition:this.startPosition})}_scroll(t){const e=xl(this.el),s=this.getScrollDir(this.startPosition,e);this.triggerCustomEvent("scroll"+s,t,{startPosition:this.startPosition,currentPosition:e,direction:s}),this.triggerCustomEvent("scrolling",t,{startPosition:this.startPosition,currentPosition:e,direction:s})}}let Hl;!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.TARGET=1]="TARGET",t[t.CHANGED=2]="CHANGED"}(Hl||(Hl={}));class jl extends Ml{get isTouchCapable(){return this.settings.touchCapable}get startEvent(){return this.settings.startevent}get endEvent(){return this.settings.endevent}get moveEvent(){return this.settings.moveevent}get tapEvent(){return this.settings.tapevent}set swipeThresholdX(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");this.settings.swipeHThreshold=t}set swipeThresholdY(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");this.settings.swipeVThreshold=t}set doubleTapInt(t){if("number"!=typeof t)throw new Error("Interval parameter must be a type of number");this.settings.doubletapInterval=t}set tapHoldThreshold(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");this.settings.tapholdThreshold=t}set tapRange(t){if("number"!=typeof t)throw new Error("Ranger parameter must be a type of number");this.settings.tapPixelRange=t}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tapPixelRange:5,swipeHThreshold:50,swipeVThreshold:50,tapholdThreshold:750,doubletapInterval:500,shakeThreshold:15,touchCapable:"ontouchstart"in window,startevent:["touchstart"],endevent:["touchend"],moveevent:["touchmove"],tapevent:["tap"]};super(t),(0,N.Z)(this,"startPosition",{x:0,y:0}),(0,N.Z)(this,"endPosition",{x:0,y:0}),(0,N.Z)(this,"originalCoord",{x:0,y:0}),(0,N.Z)(this,"finalCoord",{x:0,y:0}),(0,N.Z)(this,"startEvnt",null),(0,N.Z)(this,"tapheld",!1),(0,N.Z)(this,"firstTap",null),(0,N.Z)(this,"cooling",!1),(0,N.Z)(this,"doubletapped",!1),(0,N.Z)(this,"lastTouch",0),(0,N.Z)(this,"hasSwiped",!1),(0,N.Z)(this,"tapStarted",!1),(0,N.Z)(this,"swipeStarted",!1),(0,N.Z)(this,"startTime",0),(0,N.Z)(this,"holdTimer",-1),(0,N.Z)(this,"tapTimer",-1),(0,N.Z)(this,"actionTimer",-1),this.el=t,e.startevent=e.touchCapable?["touchstart"]:["mousedown"],e.endevent=e.touchCapable?["touchend"]:["mouseup"],e.moveevent=e.touchCapable?["touchmove"]:["mousemove"],e.tapevent=e.touchCapable?["tap"]:["click"],this.settings=e,this.onStartEvent=this.onStartEvent.bind(this),this.onMoveEvent=this.onMoveEvent.bind(this),this.onEndEvent=this.onEndEvent.bind(this),this.addEventListeners()}destroy(){this.removeEventListeners()}removeEventListeners(){for(const t of this.settings.startevent)this.el.removeEventListener(t,this.onStartEvent);for(const t of this.settings.moveevent)this.el.removeEventListener(t,this.onMoveEvent);for(const t of this.settings.endevent)this.el.removeEventListener(t,this.onEndEvent)}getSwipeDir(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.settings.swipeHThreshold,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.settings.swipeVThreshold,n="";return t.y>e.y&&t.y-e.y>i&&(n="swipeup"),t.x<e.x&&e.x-t.x>s&&(n="swiperight"),t.y<e.y&&e.y-t.y>i&&(n="swipedown"),t.x>e.x&&t.x-e.x>s&&(n="swipeleft"),n}getPosition(t){let e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hl.DEFAULT,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(s){case Hl.CHANGED:e=t.changedTouches;break;case Hl.TARGET:e=t.targetTouches;break;default:e=t.touches}return{x:this.settings.touchCapable?e[i].pageX:t.pageX,y:this.settings.touchCapable?e[i].pageY:t.pageY}}getOffset(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hl.DEFAULT,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.el.getBoundingClientRect();let n;switch(e){case Hl.CHANGED:n=t.changedTouches;break;case Hl.TARGET:n=t.targetTouches;break;default:n=t.touches}return{x:this.settings.touchCapable?Math.round(n[s].pageX-(i?i.left:0)):Math.round(t.pageX-(i?i.left:0)),y:this.settings.touchCapable?Math.round(n[s].pageY-(i?i.top:0)):Math.round(t.pageY-(i?i.top:0))}}getTouchData(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hl.DEFAULT,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Hl.CHANGED;const n={position:this.getPosition(t,s),offset:this.getOffset(t,i),time:Date.now()};return e&&(n.index=_t(t.target)),n}addEventListeners(){for(const t of this.settings.startevent)this.el.addEventListener(t,this.onStartEvent,{passive:!0});for(const t of this.settings.moveevent)this.el.addEventListener(t,this.onMoveEvent,{passive:!0});for(const t of this.settings.endevent)this.el.addEventListener(t,this.onEndEvent,{passive:!0})}onStartEvent(t){return(!t.which||1===t.which)&&(this.startPosition=this.getPosition(t,Hl.TARGET),this.endPosition={x:this.startPosition.x,y:this.startPosition.y},this.startTime=Date.now(),this.doubletapped=!1,this.firstTap||(this.firstTap=this.getTouchData(t,!0,Hl.DEFAULT,Hl.CHANGED)),this.tapStarted=!0,this.swipeStarted=!0,this.originalCoord=this.getPosition(t,Hl.TARGET),this.finalCoord=this.getPosition(t,Hl.TARGET),this.startEvnt=this.getTouchData(t,!1,Hl.DEFAULT,Hl.CHANGED),this.tapstart(t),this.taphold(t),!0)}onEndEvent(t){return this.endPosition=this.getPosition(t,Hl.CHANGED),this.tapheld=!1,window.clearTimeout(this.holdTimer),this.tapend(t),this.swipeend(t),this.tap(t),this.doubletap(t),this.singletap(t),this.tapStarted=!1,this.swipeStarted=!1,this.hasSwiped=!1,!0}onMoveEvent(t){return this.endPosition=this.getPosition(t,Hl.TARGET),this.finalCoord=this.getPosition(t,Hl.TARGET),this.tapmove(t),this.swipe(t),!0}tapstart(t){return this.triggerCustomEvent("tapstart",t,this.getTouchData(t,!1,Hl.DEFAULT,Hl.CHANGED)),!0}tapmove(t){return this.triggerCustomEvent("tapmove",t,this.getTouchData(t,!1,Hl.DEFAULT,Hl.CHANGED)),!0}tapend(t){return this.triggerCustomEvent("tapend",t,this.getTouchData(t,!1,Hl.CHANGED,Hl.CHANGED)),!0}taphold(t){return this.holdTimer=window.setTimeout((()=>{const e=this.startPosition.x-this.endPosition.x,s=this.startPosition.y-this.endPosition.y;if(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||e>=-this.settings.tapPixelRange&&e<=this.settings.tapPixelRange&&s>=-this.settings.tapPixelRange&&s<=this.settings.tapPixelRange){this.tapheld=!0;const e=Date.now()-this.startTime,s=t.targetTouches?t.targetTouches.length:1,i=new Array;for(let e=0;e<s;e++){const s=this.el.getBoundingClientRect(),n={position:{x:this.settings.touchCapable?t.changedTouches[e].pageX:t.pageX,y:this.settings.touchCapable?t.changedTouches[e].pageY:t.pageY},offset:{x:this.settings.touchCapable?Math.round(t.changedTouches[e].pageX-(s?s.left:0)):Math.round(t.pageX-(s?s.left:0)),y:this.settings.touchCapable?Math.round(t.changedTouches[e].pageY-(s?s.top:0)):Math.round(t.pageY-(s?s.top:0))}};i.push(n)}const n=s>1?"taphold"+s:"taphold",o={touches:i,time:Date.now(),duration:e};this.triggerCustomEvent(n,t,o)}}),this.settings.tapholdThreshold),!0}doubletap(t){const e=Date.now(),s=e-(Number(this.lastTouch)||e+1);if(-1!==this.actionTimer&&window.clearTimeout(this.actionTimer),s<this.settings.doubletapInterval&&s>100&&this.firstTap&&_t(t.target)===this.firstTap.index){this.doubletapped=!0,window.clearTimeout(this.tapTimer);const e=this.getTouchData(t,!0,Hl.CHANGED,Hl.CHANGED),s={firstTap:this.firstTap,secondTap:e,interval:e.time-this.firstTap.time};this.cooling||(this.triggerCustomEvent("doubletap",t,s),this.firstTap=null),this.cooling=!0,window.setTimeout((()=>{this.cooling=!1}),this.settings.doubletapInterval)}else this.actionTimer=window.setTimeout((()=>{this.firstTap=null,window.clearTimeout(this.actionTimer)}),this.settings.doubletapInterval,[t]);this.lastTouch=e}singletap(t){this.tapTimer=window.setTimeout((()=>{const e=this.startPosition.x-this.endPosition.x,s=this.startPosition.y-this.endPosition.y;if(!this.doubletapped&&!this.tapheld&&(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||e>=-this.settings.tapPixelRange&&e<=this.settings.tapPixelRange&&s>=-this.settings.tapPixelRange&&s<=this.settings.tapPixelRange)){const e=this.getTouchData(t,!1,Hl.CHANGED,Hl.CHANGED);e.time-this.startTime<this.settings.tapholdThreshold&&this.triggerCustomEvent("singletap",t,e)}}),this.settings.doubletapInterval)}tap(t){const e=this.startPosition.x-this.endPosition.x,s=this.startPosition.y-this.endPosition.y;if(this.tapStarted&&Date.now()-this.startTime<this.settings.tapholdThreshold&&(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||e>=-this.settings.tapPixelRange&&e<=this.settings.tapPixelRange&&s>=-this.settings.tapPixelRange&&s<=this.settings.tapPixelRange)){const e=t.targetTouches?t.targetTouches.length:1,s=new Array;for(let i=0;i<e;i++){const e=this.el.getBoundingClientRect(),n={position:{x:this.settings.touchCapable?t.changedTouches[i].pageX:t.pageX,y:this.settings.touchCapable?t.changedTouches[i].pageY:t.pageY},offset:{x:this.settings.touchCapable?Math.round(t.changedTouches[i].pageX-(e?e.left:0)):Math.round(t.pageX-(e?e.left:0)),y:this.settings.touchCapable?Math.round(t.changedTouches[i].pageY-(e?e.top:0)):Math.round(t.pageY-(e?e.top:0))}};s.push(n)}const i={touches:s,time:Date.now()},n=e>1?"tap"+e:"tap";this.triggerCustomEvent(n,t,i)}}swipe(t){const e=this.getSwipeDir(this.originalCoord,this.finalCoord);if(e&&this.swipeStarted&&this.startEvnt){this.originalCoord.x=0,this.originalCoord.y=0,this.finalCoord.x=0,this.finalCoord.y=0,this.swipeStarted=!1;const s=this.getTouchData(t,!1,Hl.DEFAULT,Hl.CHANGED),i=Math.abs(this.startEvnt.position.x-s.position.x),n=Math.abs(this.startEvnt.position.y-s.position.y),o={startEvnt:this.startEvnt,endEvnt:s,direction:e.replace("swipe",""),xAmount:i,yAmount:n,duration:s.time-this.startEvnt.time};this.hasSwiped=!0,this.triggerCustomEvent("swipe",t,o),this.triggerCustomEvent(e,t,o)}}swipeend(t){const e=this.getTouchData(t,!1,Hl.CHANGED,Hl.CHANGED);if(this.hasSwiped&&this.startEvnt){const s=this.getSwipeDir(this.startEvnt.position,e.position),i=Math.abs(this.startEvnt.position.x-e.position.x),n=Math.abs(this.startEvnt.position.y-e.position.y),o={startEvnt:this.startEvnt,endEvnt:e,direction:s.replace("swipe",""),xAmount:i,yAmount:n,duration:e.time-this.startEvnt.time};this.triggerCustomEvent("swipeend",t,o)}}}class Ul extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"offsetTop",0),(0,N.Z)(this,"offsetBottom",0),(0,N.Z)(this,"elementSelector",""),(0,N.Z)(this,"onScroll",ut(this._onScroll.bind(this)))}_onScroll(){if("window"===this.elementSelector){const t=this.watchScrollOnElement;t.scrollY<=0+this.offsetTop?this.el.dataset.scrollPositionY="top":t.innerHeight+t.pageYOffset+this.offsetBottom>=document.body.offsetHeight?this.el.dataset.scrollPositionY="bottom":this.el.dataset.scrollPositionY="scrolled"}else{const t=this.watchScrollOnElement;t.scrollTop<=0+this.offsetTop?this.el.dataset.scrollPositionY="top":t.scrollTop+this.offsetBottom>=t.scrollHeight-t.clientHeight?this.el.dataset.scrollPositionY="bottom":this.el.dataset.scrollPositionY="scrolled"}}routine(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"window";this.watchScrollOnElement&&this.watchScrollOnElement.removeEventListener("scroll",this.onScroll),this.watchScrollOnElement="window"===e?window:"this"===e?this.el:document.querySelector(e)||void 0,this.watchScrollOnElement&&this.watchScrollOnElement.addEventListener("scroll",this.onScroll,{passive:!0}),this.offsetTop=Number(this.el.dataset.offsetTop)||10,this.offsetBottom=Number(this.el.dataset.offsetBottom)||10,this.elementSelector=e,this.onScroll()}unbind(){this.watchScrollOnElement&&this.watchScrollOnElement.removeEventListener("scroll",this.onScroll)}}(0,N.Z)(Ul,"key","data-scroll-position-y");var Fl=s(311),Vl=s.n(Fl);class ql extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"onAlways",this._onEvent.bind(this,"load-always")),(0,N.Z)(this,"onDone",this._onEvent.bind(this,"load-done")),(0,N.Z)(this,"onFail",this._onEvent.bind(this,"load-fail")),(0,N.Z)(this,"onProgress",this._onEvent.bind(this,"load-progress"))}_onEvent(t,e,s){this.el.dispatchEvent(new CustomEvent(t,{detail:{load:e,image:s}}))}bind(t){this.events=Vl()(t),this.events.on("always",this.onAlways),this.events.on("done",this.onDone),this.events.on("fail",this.onFail),this.events.on("progress",this.onProgress)}unbind(){this.events&&(this.events.off("always",this.onAlways),this.events.off("done",this.onDone),this.events.off("fail",this.onFail),this.events.off("progress",this.onProgress))}routine(){}}(0,N.Z)(ql,"key","image-events");class zl extends Kt{bind(t){this.touchEventService=new jl(t)}unbind(){this.touchEventService&&this.touchEventService.destroy()}routine(){}}(0,N.Z)(zl,"key","touch-events");class Wl extends Kt{bind(t){this.touchEventService=new Rl(t)}unbind(){this.touchEventService&&this.touchEventService.destroy()}routine(){}}(0,N.Z)(Wl,"key","scroll-events");class Yl extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"onResize",this._onResize.bind(this))}_onResize(){if(!this.position)throw new Error("postion not defined!");if(!this.angle)throw new Error("angle not defined!");wt(this.el,this.position,this.angle)}routine(t,e){this.position=e,this.angle=this.args[0],"x"===this.angle&&(this.angle="horizontal"),"y"===this.angle&&(this.angle="vertical"),window.addEventListener("resize",this.onResize,{passive:!0}),wt(t,this.position,this.angle)}}(0,N.Z)(Yl,"key","scroll-position-*");class Gl extends Kt{routine(t,e){e&&e.width&&q(e.width)&&(e.width,t.style.width=e.width),t.classList.add("rv-autoscroll-".concat(e.angle)),setTimeout((()=>{this.autoscroll&&this.autoscroll.destroy(),this.autoscroll=new Il(t,e)}),1e3)}unbind(){this.autoscroll&&this.autoscroll.destroy()}}(0,N.Z)(Gl,"key","autoscroll");class Xl extends Kt{routine(t,e){this.dragscroll&&this.dragscroll.destroy(),this.dragscroll=new Dl(t,e)}unbind(){this.dragscroll&&this.dragscroll.destroy()}}(0,N.Z)(Xl,"key","scrollbar-draggable");class Kl extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"function",!0),(0,N.Z)(this,"priority",1e3),(0,N.Z)(this,"syncWidth",pt((()=>{var t;this.el.style.width=((null===(t=this.elToSync)||void 0===t?void 0:t.clientWidth)||0)+"px"}))),(0,N.Z)(this,"syncHeight",pt((()=>{var t;this.el.style.height=((null===(t=this.elToSync)||void 0===t?void 0:t.clientHeight)||0)+"px"})))}unbind(){const t=this.args[0];this.elToSync&&this.elToSync.removeEventListener("resize","width"===t?this.syncWidth:this.syncHeight)}routine(t,e){if(null===this.args)throw new Error("args is null");const s=this.args[0];this.elToSync&&this.elToSync.removeEventListener("resize","width"===s?this.syncWidth:this.syncHeight);const i=document.getElementById(e);if(i)switch(this.elToSync=i,s){case"height":t.style.height=i.clientHeight+"px",window.addEventListener("resize",this.syncHeight);break;case"width":t.style.width=i.clientWidth+"px",window.addEventListener("resize",this.syncWidth);break;default:console.warn("[syncElementPropertyBinder] Unknown property: "+s)}else console.warn("[syncElementPropertyBinder] Could not find element with id: "+e)}}(0,N.Z)(Kl,"key","sync-element-*");function $l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Ql(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?$l(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):$l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Jl=".slideshow-inner",tc="".concat(Jl," > .slide");class ec extends We{get slideshowInner(){if(this._slideshowInner||(this._slideshowInner=this.querySelector(Jl)),!this._slideshowInner)throw new Error("Child element with selector ".concat(Jl," not found!"));return this._slideshowInner}get slideElements(){if(this._slideElements||(this._slideElements=this.querySelectorAll(tc)),!this._slideElements)throw new Error("Child element with selector ".concat(tc," not found!"));return this._slideElements}get controlsElements(){return this._controlsElements||(this._controlsElements=this.querySelectorAll(".slideshow-control-prev, .slideshow-control-next")),this._controlsElements}get indicatorsElement(){return this._indicatorsElement||(this._indicatorsElement=this.querySelector(".slideshow-indicators")),this._indicatorsElement}static get observedAttributes(){return["min-width","slides-to-show","slides-to-scroll","controls","controls-position","drag","autoplay","autoplay-interval","autoplay-velocity","control-prev-icon-src","control-next-icon-src","indicator-inactive-icon-src","indicator-active-icon-src","angle","set-active-slide","pause-on-hover","sticky","indicators","indicators-position","pause","sm-min-width","sm-slides-to-show","sm-slides-to-scroll","sm-controls","sm-controls-position","sm-drag","sm-autoplay","sm-autoplay-interval","sm-autoplay-velocity","sm-control-prev-icon-src","sm-control-next-icon-src","sm-indicator-inactive-icon-src","sm-indicator-active-icon-src","sm-angle","sm-set-active-slide","sm-pause-on-hover","sm-sticky","sm-indicators","sm-indicators-position","sm-pause","md-min-width","md-slides-to-show","md-slides-to-scroll","md-controls","md-controls-position","md-drag","md-autoplay","md-autoplay-interval","md-autoplay-velocity","md-control-prev-icon-src","md-control-next-icon-src","md-indicator-inactive-icon-src","md-indicator-active-icon-src","md-angle","md-set-active-slide","md-pause-on-hover","md-sticky","md-indicators","sm-indicators-position","md-pause","lg-min-width","lg-slides-to-show","lg-slides-to-scroll","lg-controls","lg-controls-position","lg-drag","lg-autoplay","lg-autoplay-interval","lg-autoplay-velocity","lg-control-prev-icon-src","lg-control-next-icon-src","lg-indicator-inactive-icon-src","lg-indicator-active-icon-src","lg-angle","lg-set-active-slide","lg-pause-on-hover","lg-sticky","lg-indicators","lg-indicators-position","lg-pause","xl-min-width","xl-slides-to-show","xl-slides-to-scroll","xl-controls","xl-controls-position","xl-drag","xl-autoplay","xl-autoplay-interval","xl-autoplay-velocity","xl-control-prev-icon-src","xl-control-next-icon-src","xl-indicator-inactive-icon-src","xl-indicator-active-icon-src","xl-angle","xl-set-active-slide","xl-pause-on-hover","xl-sticky","xl-indicators","xl-indicators-position","xl-pause"]}constructor(){super(),(0,N.Z)(this,"templateAttributes",[{name:"class",required:!1},{name:"handle",required:!1},{name:"type",required:!0},{name:"active",type:"boolean",required:!1},{name:"index",type:"number",required:!1}]),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"_slideshowInner",null),(0,N.Z)(this,"_slideElements",null),(0,N.Z)(this,"_controlsElements",null),(0,N.Z)(this,"_indicatorsElement",null),(0,N.Z)(this,"templateControls",'<button rv-show="controls" class="btn btn-link slideshow-controls slideshow-control-prev" rv-add-class="controlsPositionClass" role="button" data-slide="prev" rv-on-click="prev"> <bs4-icon rv-if="controlPrevIconSrc" rv-src="controlPrevIconSrc" direction="left" size="24"></bs4-icon> <span rv-hide="controlPrevIconSrc" class="btn btn-link slideshow-control-fallback-prev-icon" aria-hidden="true"></span> <span class="sr-only">Previous</span> </button> <button rv-show="controls" class="btn btn-link slideshow-controls slideshow-control-next" rv-add-class="controlsPositionClass" role="button" data-slide="next" rv-on-click="next"> <bs4-icon rv-if="controlNextIconSrc" rv-src="controlNextIconSrc" direction="right" size="24"></bs4-icon> <span rv-hide="controlNextIconSrc" class="slideshow-control-fallback-next-icon" aria-hidden="true"></span> <span class="sr-only">Next</span> </button> '),(0,N.Z)(this,"templateIndicators",'<ol rv-if="indicators" class="slideshow-indicators" rv-add-class="indicatorsPositionClass"> <li rv-each-slide="items" rv-class-active="slide.active" rv-on-click="goTo | args slide.index"> <bs4-icon rv-hide="slide.active" rv-src="indicatorInactiveIconSrc" size="16"></bs4-icon> <bs4-icon rv-show="slide.active" rv-src="indicatorActiveIconSrc" size="16"></bs4-icon> </li> </ol> '),(0,N.Z)(this,"autoplayIntervalIndex",null),(0,N.Z)(this,"continuousAutoplayIntervalIndex",null),(0,N.Z)(this,"resumeTimer",null),(0,N.Z)(this,"routerEvents",new it("main")),(0,N.Z)(this,"breakpoint","xs"),(0,N.Z)(this,"scope",{next:this.next.bind(this),prev:this.prev.bind(this),goTo:this.goTo.bind(this),items:new Array,slidesToScroll:1,controls:!0,controlsPosition:"inside-middle",pauseOnHover:!0,sticky:!1,indicators:!0,indicatorsPosition:"inside-bottom",pause:!1,drag:!0,autoplay:!1,autoplayInterval:0,autoplayVelocity:.8,controlPrevIconSrc:"",controlNextIconSrc:"",indicatorActiveIconSrc:"",indicatorInactiveIconSrc:"",angle:"horizontal",xs:{minWidth:0},sm:{minWidth:576},md:{minWidth:768},lg:{minWidth:992},xl:{minWidth:1200},controlsPositionClass:"",indicatorsPositionClass:""}),(0,N.Z)(this,"onViewChanges",ut(this._onViewChanges.bind(this))),(0,N.Z)(this,"onScroll",ut(this._onScroll.bind(this))),(0,N.Z)(this,"onMouseUp",pt(this._onMouseUp.bind(this))),this.onViewChanges=this.onViewChanges.bind(this),this.onVisibilityChanged=this.onVisibilityChanged.bind(this),this.onScroll=this.onScroll.bind(this),this.onScrollend=this.onScrollend.bind(this),this.onMouseIn=this.onMouseIn.bind(this),this.onMouseOut=this.onMouseOut.bind(this)}next(){this.scrollToNextSlide()}prev(){this.scrollToPrevSlide()}goTo(t){this.setSlidePositions();let e=0,s=0;if(this.scope.items[t]){if("vertical"===this.scope.angle){if(0===this.scope.items[t].position.centerY)return;e=this.slideshowInner.scrollTop+this.scope.items[t].position.centerY}else{if(0===this.scope.items[t].position.centerX)return;s=this.slideshowInner.scrollLeft+this.scope.items[t].position.centerX}this.slideElements[t]&&("function"==typeof this.slideshowInner.scroll?this.slideshowInner.scroll({behavior:"smooth",left:s,top:e}):"vertical"===this.scope.angle?this.slideshowInner.scrollTop=e:this.slideshowInner.scrollLeft=s)}else console.error('Slide with index "'.concat(t,'" not found!'),this.scope.items[t])}setOptions(t,e){t.slidesToScroll=void 0!==e.slidesToScroll?X(!1,e.slidesToScroll):t.slidesToScroll,t.controls=void 0!==e.controls?X(!1,e.controls):t.controls,t.controlsPosition=void 0!==e.controlsPosition?X(!1,e.controlsPosition):t.controlsPosition,t.drag=void 0!==e.drag?X(!1,e.drag):t.drag,t.autoplay=void 0!==e.autoplay?X(!1,e.autoplay):t.autoplay,t.autoplayInterval=void 0!==e.autoplayInterval?X(!1,e.autoplayInterval):t.autoplayInterval,t.autoplayVelocity=void 0!==e.autoplayVelocity?X(!1,e.autoplayVelocity):t.autoplayVelocity,t.controlPrevIconSrc=void 0!==e.controlPrevIconSrc?X(!1,e.controlPrevIconSrc):t.controlPrevIconSrc,t.controlNextIconSrc=void 0!==e.controlNextIconSrc?X(!1,e.controlNextIconSrc):t.controlNextIconSrc,t.indicatorActiveIconSrc=void 0!==e.indicatorActiveIconSrc?X(!1,e.indicatorActiveIconSrc):t.indicatorActiveIconSrc,t.indicatorInactiveIconSrc=void 0!==e.indicatorInactiveIconSrc?X(!1,e.indicatorInactiveIconSrc):t.indicatorInactiveIconSrc,t.angle=void 0!==e.angle?X(!1,e.angle):t.angle,t.pauseOnHover=void 0!==e.pauseOnHover?X(!1,e.pauseOnHover):t.pauseOnHover,t.sticky=void 0!==e.sticky?X(!1,e.sticky):t.sticky,t.indicators=void 0!==e.indicators?X(!1,e.indicators):t.indicators,t.indicatorsPosition=void 0!==e.indicatorsPosition?X(!1,e.indicatorsPosition):t.indicatorsPosition,t.pause=void 0!==e.pause?X(!1,e.pause):t.pause}setOptionsIfUndefined(t,e){t.slidesToScroll=void 0===t.slidesToScroll?e.slidesToScroll:t.slidesToScroll,t.controls=void 0===t.controls?e.controls:t.controls,t.controlsPosition=void 0===t.controlsPosition?e.controlsPosition:t.controlsPosition,t.drag=void 0===t.drag?e.drag:t.drag,t.autoplay=void 0===t.autoplay?e.autoplay:t.autoplay,t.autoplayInterval=void 0===t.autoplayInterval?e.autoplayInterval:t.autoplayInterval,t.autoplayVelocity=void 0===t.autoplayVelocity?e.autoplayVelocity:t.autoplayVelocity,t.controlPrevIconSrc=void 0===t.controlPrevIconSrc?e.controlPrevIconSrc:t.controlPrevIconSrc,t.controlNextIconSrc=void 0===t.controlNextIconSrc?e.controlNextIconSrc:t.controlNextIconSrc,t.indicatorActiveIconSrc=void 0===t.indicatorActiveIconSrc?e.indicatorActiveIconSrc:t.indicatorActiveIconSrc,t.indicatorInactiveIconSrc=void 0===t.indicatorInactiveIconSrc?e.indicatorInactiveIconSrc:t.indicatorInactiveIconSrc,t.angle=void 0===t.angle?e.angle:t.angle,t.pauseOnHover=void 0===t.pauseOnHover?e.pauseOnHover:t.pauseOnHover,t.sticky=void 0===t.sticky?e.sticky:t.sticky,t.indicators=void 0===t.indicators?e.indicators:t.indicators,t.indicatorsPosition=void 0===t.indicatorsPosition?e.indicatorsPosition:t.indicatorsPosition,t.pause=void 0===t.pause?e.pause:t.pause}initResponsiveOptions(){this.setOptions(this.scope.xs,this.scope),this.setOptionsIfUndefined(this.scope.sm,this.scope.xs),this.setOptionsIfUndefined(this.scope.md,this.scope.sm),this.setOptionsIfUndefined(this.scope.lg,this.scope.md),this.setOptionsIfUndefined(this.scope.xl,this.scope.lg),this.breakpoint=this.getBreakpoint(),this.setOptionsByBreakpoint(this.breakpoint)}setControlsOptions(){var t,e,s,i,n;const o=null===(t=this.scope.xs.controlsPosition)||void 0===t?void 0:t.split("-"),r=null===(e=this.scope.sm.controlsPosition)||void 0===e?void 0:e.split("-"),a=null===(s=this.scope.md.controlsPosition)||void 0===s?void 0:s.split("-"),l=null===(i=this.scope.lg.controlsPosition)||void 0===i?void 0:i.split("-"),c=null===(n=this.scope.xl.controlsPosition)||void 0===n?void 0:n.split("-");this.scope.controlsPositionClass="control-".concat(o[0]," control-").concat(o[1]," control-sm-").concat(r[0]," control-sm-").concat(r[1]," control-md-").concat(a[0]," control-md-").concat(a[1]," control-lg-").concat(l[0]," control-lg-").concat(l[1]," control-xl-").concat(c[0]," control-xl-").concat(c[1])}setIndicatorsOptions(){var t,e,s,i,n;const o=null===(t=this.scope.xs.indicatorsPosition)||void 0===t?void 0:t.split("-"),r=null===(e=this.scope.sm.indicatorsPosition)||void 0===e?void 0:e.split("-"),a=null===(s=this.scope.md.indicatorsPosition)||void 0===s?void 0:s.split("-"),l=null===(i=this.scope.lg.indicatorsPosition)||void 0===i?void 0:i.split("-"),c=null===(n=this.scope.xl.indicatorsPosition)||void 0===n?void 0:n.split("-");this.scope.indicatorsPositionClass="indicators-".concat(o[0]," indicators-").concat(o[1]," indicators-sm-").concat(r[0]," indicators-sm-").concat(r[1]," indicators-md-").concat(a[0]," indicators-md-").concat(a[1]," indicators-lg-").concat(l[0]," indicators-lg-").concat(l[1]," indicators-xl-").concat(c[0]," indicators-xl-").concat(c[1])}getBreakpoint(){const t=window.innerWidth;return t>=this.scope.xs.minWidth&&t<this.scope.sm.minWidth?"xs":t>=this.scope.sm.minWidth&&t<this.scope.md.minWidth?"sm":t>=this.scope.md.minWidth&&t<this.scope.lg.minWidth?"md":t>=this.scope.lg.minWidth&&t<this.scope.xl.minWidth?"lg":"xl"}setOptionsByBreakpoint(t){this.setOptions(this.scope,this.scope[t]),this.scope.autoplay?this.enableAutoplay():this.disableAutoplay(),this.scope.drag?this.enableDesktopDragscroll():this.disableDesktopDragscroll(),this.setControlsOptions(),this.setIndicatorsOptions()}onBreakpointChanges(){this.setOptionsByBreakpoint(this.breakpoint)}_onViewChanges(){this.debug("onViewChanges");const t=this.getBreakpoint();t!==this.breakpoint&&(this.breakpoint=t,this.onBreakpointChanges()),this.setSlidePositions();const e=this.setCenteredSlideActive();this.scope.sticky&&this.goTo(e)}onVisibilityChanged(t){var e,s;t.detail.visible&&(null===(e=this.dragscrollService)||void 0===e||e.checkDraggable(),null===(s=this.continuousAutoplayService)||void 0===s||s.update())}_onScroll(){this.resume(1e3)}onScrollend(){this.setSlidePositions(),this.setCenteredSlideActive(),this.scope.sticky&&this.scrollToNearestSlide(),this.resume(1e3)}onMouseIn(){this.scope.pauseOnHover&&(this.scope.pause=!0)}onMouseOut(){this.resume(200)}_onMouseUp(){this.resume(1e3)}resume(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.scope.pause&&(null!==this.resumeTimer&&(clearTimeout(this.resumeTimer),this.resumeTimer=null),this.resumeTimer=window.setTimeout((()=>{this.setSlidePositions(),this.scope.pause=!1}),t))}connectedCallback(){return super.connectedCallback(),this.init(ec.observedAttributes)}addEventListeners(){var t;(this.routerEvents.on("newPageReady",this.onBreakpointChanges,this),window.ResizeObserver)?(this.resizeObserver=new window.ResizeObserver(this.onViewChanges),null===(t=this.resizeObserver)||void 0===t||t.observe(this)):window.addEventListener("resize",this.onViewChanges,{passive:!0});this.addEventListener("visibility-changed",this.onVisibilityChanged),this.slideshowInner.addEventListener("scroll",this.onScroll,{passive:!0}),this.slideshowInner.addEventListener("scrollended",this.onScrollend,{passive:!0}),this.addEventListener("mouseenter",this.onMouseIn,{passive:!0}),this.addEventListener("mouseover",this.onMouseIn,{passive:!0}),this.addEventListener("focusin",this.onMouseIn,{passive:!0}),this.addEventListener("touchstart",this.onMouseIn,{passive:!0}),this.addEventListener("mouseout",this.onMouseOut,{passive:!0}),this.addEventListener("mouseleave",this.onMouseOut,{passive:!0}),this.addEventListener("focusout",this.onMouseOut,{passive:!0}),this.addEventListener("mouseup",this.onMouseUp,{passive:!0}),this.addEventListener("touchend",this.onMouseUp,{passive:!0}),this.addEventListener("scroll",this.onMouseUp,{passive:!0}),this.addEventListener("scrollend",this.onMouseUp,{passive:!0}),this.addEventListener("scrollended",this.onMouseUp,{passive:!0}),this.onViewChanges(),this.onScrollend()}removeEventListeners(){var t;this.routerEvents.off("newPageReady",this.onBreakpointChanges,this),window.removeEventListener("resize",this.onViewChanges),null===(t=this.resizeObserver)||void 0===t||t.unobserve(this),this.removeEventListener("visibility-changed",this.onVisibilityChanged),this.slideshowInner.removeEventListener("scroll",this.onScroll),this.slideshowInner.removeEventListener("scrollended",this.onScrollend),this.removeEventListener("mouseenter",this.onMouseIn),this.removeEventListener("mouseover",this.onMouseIn),this.removeEventListener("focusin",this.onMouseIn),this.removeEventListener("touchstart",this.onMouseIn),this.removeEventListener("mouseout",this.onMouseOut),this.removeEventListener("mouseleave",this.onMouseOut),this.removeEventListener("focusout",this.onMouseOut),this.removeEventListener("mouseup",this.onMouseUp),this.removeEventListener("touchend",this.onMouseUp),this.removeEventListener("scroll",this.onMouseUp),this.removeEventListener("scrollend",this.onMouseUp),this.removeEventListener("scrollended",this.onMouseUp)}async beforeBind(){return await super.beforeBind()}async afterBind(){this.initSlideshowInner(),this.initResponsiveOptions(),this.addEventListeners(),await super.afterBind()}initSlideshowInner(){this.initSlideshowInnerSlides(),this.scrollEventsService=new Rl(this.slideshowInner)}enableDesktopDragscroll(){if(!this.dragscrollService){const t={detectGlobalMove:!0};this.dragscrollService=new Dl(this.slideshowInner,t)}}disableDesktopDragscroll(){this.dragscrollService&&(this.dragscrollService.destroy(),this.dragscrollService=void 0)}enableContinuousAutoplay(){if(!this.continuousAutoplayService){const t={velocity:this.scope.autoplayVelocity,angle:this.scope.angle,pauseOnHover:this.scope.pauseOnHover};this.continuousAutoplayService=new Il(this.slideshowInner,t)}if(!this.continuousAutoplayIntervalIndex){const t=1e4*this.scope.autoplayVelocity;this.continuousAutoplayIntervalIndex=window.setInterval(this.onScrollend.bind(this),t)}}disableContinuousAutoplay(){this.continuousAutoplayService&&(this.continuousAutoplayService.destroy(),this.continuousAutoplayService=void 0),this.continuousAutoplayIntervalIndex&&(window.clearInterval(this.continuousAutoplayIntervalIndex),this.continuousAutoplayIntervalIndex=null)}enableIntervalAutoplay(){null===this.autoplayIntervalIndex&&(this.autoplayIntervalIndex=window.setInterval((()=>{this.scope.pause||this.next()}),this.scope.autoplayInterval))}disableIntervalAutoplay(){this.autoplayIntervalIndex&&(window.clearInterval(this.autoplayIntervalIndex),this.autoplayIntervalIndex=null)}disableAutoplay(){this.disableIntervalAutoplay(),this.disableContinuousAutoplay()}enableAutoplay(){this.scope.autoplayInterval<=0?this.enableContinuousAutoplay():this.enableIntervalAutoplay()}initSlideshowInnerSlides(){if(!this.slideElements)throw new Error("No slides found!");0===this.scope.items.length&&this.addItemsByChilds()}transformTemplateAttributes(t,e){return(t=super.transformTemplateAttributes(t,e)).handle=t.handle||e.toString(),t.index=e,t.class=t.class||"",t.class+=" slide",t}addItemByTemplate(t,e){const s=this.getTemplateAttributes(t,e),i=t.innerHTML;s.type&&("slide"===s.type&&this.scope.items.push(Ql(Ql({},s),{},{content:i})),"controls"===s.type&&(this.templateControls=i),"indicators"===s.type&&(this.templateIndicators=i))}addItemsByChilds(){this.slideElements&&this.slideElements.forEach(((t,e)=>{const s=t.getAttribute("handle")||t.getAttribute("id")||e.toString();t.setAttribute("index",e.toString());const i={handle:s,active:!1,content:t.innerHTML,index:e,position:Ql(Ql({},t.getBoundingClientRect()),{},{centerY:0,centerX:0})};this.scope.items.push(i)}))}getScrollPosition(){return xl(this.slideshowInner)}getCurrentClosestNumber(t,e,s){return Math.abs(e-t)<Math.abs(s-t)?e:s}getMostCenteredSlideIndex(){if(this.scope.items.length<=0)return-1;let t=Math.abs("vertical"===this.scope.angle?this.scope.items[0].position.centerY:this.scope.items[0].position.centerX),e=0;for(let s=1;s<this.scope.items.length;s++){const i=Math.abs("vertical"===this.scope.angle?this.scope.items[s].position.centerY:this.scope.items[s].position.centerX);t=this.getCurrentClosestNumber(0,i,t),t===i&&(e=s)}return e}setAllSlidesInactive(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(this.slideElements)for(let e=0;e<this.scope.items.length;e++)e!==t&&(this.scope.items[e]&&(this.scope.items[e].active=!1),this.slideElements[e]&&this.slideElements[e].classList&&this.slideElements[e].classList.remove("active"))}setCenteredSlideActive(){const t=this.getMostCenteredSlideIndex();return this.setAllSlidesInactive(t),this.scope.items[t]?(this.scope.items[t].active=!0,this.slideElements&&this.slideElements[t].classList&&this.slideElements[t].classList.add("active"),t):-1}isScrollableToIndex(t){if(!this.scope.items[t])return!1;const e="vertical"===this.scope.angle?this.getScrollPosition().maxY:this.getScrollPosition().maxX,s="vertical"===this.scope.angle?this.slideshowInner.scrollTop+this.scope.items[t].position.centerY:this.slideshowInner.scrollLeft+this.scope.items[t].position.centerX;return s<=e&&s>=0}scrollToNextSlide(){this.setSlidePositions();let t=this.getMostCenteredSlideIndex()+this.scope.slidesToScroll;return t>=this.slideElements.length&&(t-=this.slideElements.length),this.goTo(t)}scrollToPrevSlide(){this.setSlidePositions();let t=this.getMostCenteredSlideIndex()-this.scope.slidesToScroll;return t<0&&(t=this.slideElements.length-1+(t+1)),this.goTo(t)}scrollToNearestSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex();return this.goTo(t)}setSlidePositions(){var t,e;if(this.scope.items.length!==(null===(t=this.slideElements)||void 0===t?void 0:t.length))return void console.warn("The slide objects must be the same size as the slide elements! ".concat(this.scope.items.length," !== ").concat(null===(e=this.slideElements)||void 0===e?void 0:e.length));const s=this.slideshowInner.getBoundingClientRect();for(let t=0;t<this.scope.items.length;t++){const e=this.slideElements[t],i=this.scope.items[t],n=e.getBoundingClientRect();n.x-=s.x,n.y-=s.y,i.position={x:n.x,y:n.y,width:n.width,height:n.height,bottom:n.bottom,left:n.left,right:n.right,top:n.top,toJSON:n.toJSON,centerY:n.y+n.height/2-s.height/2,centerX:n.x+n.width/2-s.width/2}}}requiredAttributes(){return[]}async attributeChangedCallback(t,e,s,i){let n="xs",o=this.scope;this.observedAttributesToCheck&&this.observedAttributesToCheck[t]&&(this.observedAttributesToCheck[t].initialized=!0),s=this.parseAttribute(s),t.startsWith("sm-")?(n="sm",o=this.scope.sm,t=t.slice(3)):t.startsWith("md-")?(n="md",o=this.scope.md,t=t.slice(3)):t.startsWith("lg-")?(n="lg",o=this.scope.lg,t=t.slice(3)):t.startsWith("xl-")&&(n="xl",o=this.scope.xl,t=t.slice(3));const r=Y(t);o&&o[r]&&(e=o[r]),o[r]=s,this.parsedAttributeChangedCallback(n+r,e,s,i),this.bindIfReady()}parsedAttributeChangedCallback(t,e,s,i){return super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){var t;return this.removeEventListeners(),null===(t=this.scrollEventsService)||void 0===t||t.destroy(),this.disableAutoplay(),this.disableDesktopDragscroll(),super.disconnectedCallback()}template(){return!gt(this)||this.hasOnlyTemplateChilds()?'<div class="slideshow-inner"> <div rv-each-slide="items" rv-class="slide.class" rv-class-active="slide.active" rv-id="\'slide-\' | append slide.handle" rv-index="slide.index" rv-html="slide.content"></div> </div> '+this.templateControls+this.templateIndicators:(this.controlsElements.length<=0&&(this.innerHTML+=this.templateControls),this.indicatorsElement||(this.innerHTML+=this.templateIndicators),null)}}(0,N.Z)(ec,"tagName","bs4-slideshow");class sc extends Fe{static get observedAttributes(){return["target-id"]}requiredAttributes(){return["targetId"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"scope",{targetId:void 0,toggle:this.toggle,state:"undefined",isActive:!0,isClosed:!1})}toggle(){this.eventDispatcher&&this.eventDispatcher.trigger(tn.eventNames.toggle,this.scope.targetId)}async afterBind(){var t;null===(t=this.eventDispatcher)||void 0===t||t.trigger(tn.eventNames.init,this.scope.targetId),await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(sc.observedAttributes)}onToggledEvent(t){this.scope.state=t,this.scope.isActive="hidden"!==t&&"removed"!==t,this.scope.isClosed=!this.scope.isActive}initEventDispatcher(t){this.eventDispatcher&&this.eventDispatcher.off(tn.eventNames.toggled,this.onToggledEvent,this),this.eventDispatcher=new it(tn.nsPrefix+t),this.eventDispatcher.on(tn.eventNames.toggled,this.onToggledEvent,this),this.eventDispatcher.on(tn.eventNames.state,this.onToggledEvent,this)}async attributeChangedCallback(t,e,s,i){super.attributeChangedCallback(t,e,s,i)}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"targetId"===t&&s&&this.initEventDispatcher(s)}disconnectedCallback(){super.disconnectedCallback(),this.eventDispatcher&&this.eventDispatcher.off(tn.eventNames.toggled,this.onToggledEvent,this)}template(){return gt(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}}(0,N.Z)(sc,"tagName","bs4-toggle-button");class ic extends Fe{static get observedAttributes(){return["collapse-selector"]}constructor(){super(),(0,N.Z)(this,"scope",{toggle:this.toggle,show:this.show,hide:this.hide,isCollapsed:!0,collapseSelector:".navbar-collapse"}),(0,N.Z)(this,"collapseTargets",new Map),this.onStateChange=this.onStateChange.bind(this)}async afterBind(){this.hide(),await super.afterBind()}toggle(t){for(const t of this.collapseTargets.values())t.toggle();t&&(t.preventDefault(),t.stopPropagation())}show(t){for(const t of this.collapseTargets.values())t.show();t&&(t.preventDefault(),t.stopPropagation())}hide(t){for(const t of this.collapseTargets.values())t.hide();t&&(t.preventDefault(),t.stopPropagation())}connectedCallback(){super.connectedCallback(),this.routerEvents=new it("main"),this.routerEvents.on("newPageReady",this.onNewPageReady,this),this.setCollapseElement(),this.onStateChange(),this.init(ic.observedAttributes)}setCollapseElement(){const t=Array.from(this.querySelectorAll(this.scope.collapseSelector)||[]);for(const e of this.collapseTargets.keys())t.find((t=>t===e))||this.disposeCollapseTarget(e);for(const e of t)this.collapseTargets.has(e)||(this.collapseTargets.set(e,new Lo(e,[this],{toggle:!1})),e.addEventListener(wo,this.onStateChange),e.addEventListener(So,this.onStateChange));this.hide()}disposeCollapseTargets(){for(const t of this.collapseTargets.keys())this.disposeCollapseTarget(t)}disposeCollapseTarget(t){const e=this.collapseTargets.get(t);e&&e.dispose(),this.collapseTargets.delete(t),t.removeEventListener(wo,this.onStateChange),t.removeEventListener(So,this.onStateChange)}disconnectedCallback(){super.disconnectedCallback(),this.disposeCollapseTargets(),this.routerEvents&&this.routerEvents.off("newPageReady",this.onNewPageReady,this)}onStateChange(){var t;this.scope.isCollapsed=null===(t=this.collapseTargets.values().next().value)||void 0===t?void 0:t.isCollapsed(),this.scope.isCollapsed?(this.classList.add(Ao),this.setAttribute("aria-expanded","false")):(this.classList.remove(Ao),this.setAttribute("aria-expanded","true"))}onNewPageReady(){this.hide()}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"collapseSelector"===t&&this.setCollapseElement()}template(){return null}}(0,N.Z)(ic,"tagName","bs4-navbar");const nc=Fs.read;class oc extends We{static get observedAttributes(){return["option-tabs-auto-height","option-tabs-angle","tab-0-title","tab-0-content","tab-0-handle","tab-1-title","tab-1-content","tab-1-handle","tab-2-title","tab-2-content","tab-2-handle","tab-3-title","tab-3-content","tab-3-handle","tab-4-title","tab-4-content","tab-4-handle","tab-5-title","tab-5-content","tab-5-handle","tab-6-title","tab-6-content","tab-6-handle","tab-7-title","tab-7-content","tab-7-handle","tab-8-title","tab-8-content","tab-8-handle","tab-9-title","tab-9-content","tab-9-handle","tab-10-title","tab-10-content","tab-10-handle","tab-11-title","tab-11-content","tab-11-handle","tab-12-title","tab-12-content","tab-12-handle","tab-13-title","tab-13-content","tab-13-handle","tab-14-title","tab-14-content","tab-14-handle","tab-15-title","tab-15-content","tab-15-handle","tab-16-title","tab-16-content","tab-16-handle","tab-17-title","tab-17-content","tab-17-handle","tab-18-title","tab-18-content","tab-18-handle","tab-19-title","tab-19-content","tab-19-handle"]}constructor(){super(),(0,N.Z)(this,"templateAttributes",[{name:"title",required:!0},{name:"handle",required:!1},{name:"type",required:!1},{name:"active",required:!1},{name:"index",required:!1}]),(0,N.Z)(this,"scope",{items:new Array,activate:this.activate,deactivate:this.deactivate,deactivateAll:this.deactivateAll,optionTabsAutoHeight:!1,optionTabsAngle:"horizontal"}),(0,N.Z)(this,"onResize",ut(this._onResize.bind(this)))}_onResize(){this.setHeight()}setHeight(){if(this.scope.optionTabsAutoHeight)return;this.setElements();let t=0;this.tabPanes&&(this.tabPanes.forEach((e=>{if(!e.style)return;e.style.height="auto",e.style.display="block";const s=e.offsetHeight||0;s>t&&(t=s)})),this.tabPanes.forEach((e=>{e.style&&(e.style.display="",t>0&&(e.style.height=t+"px"))})))}deactivateAll(){for(let t=0;t<this.scope.items.length;t++){const e=this.scope.items[t];this.deactivate(e)}}deactivate(t){t.active=!1;const e=this.getTabContentChildByIndex(t.index);e&&this.triggerVisibilityChangedForElement(e,t.active)}activate(t){this.deactivateAll(),t.active=!0;const e=this.getTabContentChildByIndex(t.index);e&&this.triggerVisibilityChangedForElement(e,t.active)}activateFirstTab(){this.scope.items.length>0&&this.activate(this.scope.items[0])}getTabContentChildByIndex(t){return this.querySelector(".tab-content .tab-pane:nth-child(".concat(t+1,") > *"))||void 0}triggerVisibilityChangedForElement(t,e){setTimeout((()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:e}}))}),200)}connectedCallback(){super.connectedCallback(),this.initTabs(),this.activateFirstTab(),this.init(oc.observedAttributes)}disconnectedCallback(){this.tabs&&this.tabs.forEach((t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler)})),window.removeEventListener("resize",this.onResize)}setElements(){this.tabs=this.querySelectorAll('[role="tab"]'),this.tabPanes=this.querySelectorAll('[role="tabpanel"]'),this.scrollable=this.querySelector("[scrollable]")}resizeTabsArray(t){for(;t>this.scope.items.length;)this.scope.items.push({handle:"",title:"",content:"",active:!1,index:this.scope.items.length-1})}onTabShownEventHandler(t){const e=t.target||t.srcElement;if(e&&this.scrollable){const t=e.getBoundingClientRect(),s=this.scrollable.scrollLeft||0+t.left;this.scrollable.scrollLeft=s}}initTabs(){this.setElements(),this.tabs&&this.tabs.forEach((t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler),t.addEventListener("shown.bs.tab",this.onTabShownEventHandler)})),this.scope.optionTabsAutoHeight&&(window.removeEventListener("resize",this.onResize),window.addEventListener("resize",this.onResize,{passive:!0}),this.setHeight())}addTabByAttribute(t,e){const s=Number(t.replace(/[^0-9]/g,""));s>=this.scope.items.length&&this.resizeTabsArray(s+1),this.scope.items[s].index=s,t.endsWith("Content")&&(this.scope.items[s].content=e),t.endsWith("Title")&&(this.scope.items[s].title=e,this.scope.items[s].handle=this.scope.items[s].handle||nc(this.scope.items[s].title)),t.endsWith("Handle")&&(this.scope.items[s].handle=e),this.scope.items.length>0&&this.scope.items[0]&&this.scope.items[0].content.length>0&&this.scope.items[0].title.length>0&&this.scope.items[0].handle.length>0&&this.activateFirstTab()}transformTemplateAttributes(t,e){return!(t=super.transformTemplateAttributes(t,e)).handle&&t.title&&(t.handle=nc(t.title)),t.active=t.active||!1,t}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),t.startsWith("tab")&&(this.addTabByAttribute(t,s),this.initTabs())}async afterBind(){setTimeout((()=>{this.scope.optionTabsAutoHeight&&this.setHeight()}),500),await super.afterBind()}template(){return!gt(this)||this.hasOnlyTemplateChilds()?"horizontal"===this.scope.optionTabsAngle?'<ul rv-scrollbar-draggable rv-aria-orientation="optionTabsAngle" role="tablist" class="nav nav-tabs flex-scrollbar-x-auto scrollbar-y-hidden"> <li class="nav-item" rv-each-tab="items"> <button role="tab" class="btn btn-link nav-link" rv-class-active="tab.active" rv-id="\'tab-title-\' | append tab.handle" rv-aria-controls="\'tab-content-\' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button> </li> </ul> <div class="tab-content"> <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="\'tab-content-\' | append tab.handle" rv-aria-labelledby="\'tab-title-\' | append tab.handle" rv-template="tab.content"></div> </div> ':'<div class="row"> <div class="col-auto"> <div class="nav flex-column nav-pills" role="tablist" rv-aria-orientation="optionTabsAngle"> <div class="nav-item" rv-each-tab="items"> <button class="btn btn-link nav-link" role="tab" rv-class-active="tab.active" rv-id="\'tab-title-\' | append tab.handle" rv-aria-controls="\'tab-content-\' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button> </div> </div> </div> <div class="col-auto"> <div class="tab-content"> <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="\'tab-content-\' | append tab.handle" rv-aria-labelledby="\'tab-title-\' | append tab.handle" rv-template="tab.content"></div> </div> </div> </div> ':null}}(0,N.Z)(oc,"tagName","bs4-tabs");class rc extends Fe{static get observedAttributes(){return["id","disable-submit-until-change","use-ajax","ajax-request-type","auto-set-form-data","strip-html","scroll-invalid-element","animate-invalid-element"]}getDefaultScope(){return{id:kt("form"),form:{fields:{},valid:!1,error:void 0},disableSubmitUntilChange:!1,submitDisabled:!1,onSubmit:this.onSubmit,useAjax:!0,ajaxRequestType:"form",autoSetFormData:!0,stripHtml:!0,scrollToInvalidElement:!0,animateInvalidElement:!0}}constructor(){super(),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"formEl",null),(0,N.Z)(this,"scope",this.getDefaultScope()),this.enableSubmit=this.enableSubmit.bind(this)}connectedCallback(){super.connectedCallback(),this.init(rc.observedAttributes),this.addEventListeners()}addEventListeners(){this.scope.disableSubmitUntilChange&&this.addEventListener("input",this.enableSubmit)}removeEventListeners(){this.removeEventListener("input",this.enableSubmit)}enableSubmit(){this.scope.submitDisabled=!1}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.id=this.scope.id}async afterBind(){await super.afterBind()}stripHtml(){for(const t in this.scope.form.fields)this.scope.form.fields[t]&&"string"==typeof this.scope.form.fields[t]&&(this.scope.form.fields[t]=W(this.scope.form.fields[t]))}onSubmit(t,e){if(this.debug("onSubmit",t,e),!this.formEl)return console.warn("No form found"),!1;if(this.scope.autoSetFormData&&this.getFormValues(),this.scope.stripHtml&&this.stripHtml(),this.validate(this.formEl,this.scope.form),!this.scope.form.valid)return void this.onInvalidForm(t);const s=this.getSubmitSettings(t);if("_blank"===(null==s?void 0:s.target))return!0;this.scope.useAjax&&(t.preventDefault(),t.stopPropagation(),this.ajaxSubmit(t,e))}async ajaxSubmit(t,e){this.debug("onSubmit",t,e,this.scope);const s=this.getSubmitSettings(t);if(s){this.scope.autoSetFormData&&this.getFormValues();try{const t=await lt.fetch(s.action,s.method,this.scope.form.fields,s.type);if(!t||!t.body)return this.onErrorSubmit("500","Error","Empty body!");const e=t.body&&t.body.message?t.body.message:"";return Number(t.status)>=400&&this.onErrorSubmit(t.status.toString(),e,t.body),this.onSuccessSubmit(t.status.toString(),e,t.body)}catch(t){this.onErrorSubmit(t.status,t.body.message,t.body)}}else console.warn("Can't get submit settings")}getSubmitSettings(t){var e;if(!this.formEl)return console.warn("No form found"),null;let s=this.formEl.action,i=this.formEl.method,n=this.formEl.method;if(null!=t&&null!==(e=t.originalEvent)&&void 0!==e&&e.submitter){var o;const e=null==t||null===(o=t.originalEvent)||void 0===o?void 0:o.submitter;s=(null==e?void 0:e.formAction)||s,i=(null==e?void 0:e.formMethod)||i,n=(null==e?void 0:e.formTarget)||n}return{action:s,method:i.toUpperCase(),target:n,type:this.scope.ajaxRequestType}}onInvalidForm(t){if(this.debug("Form not valid",this.scope),t.preventDefault(),t.stopPropagation(),!this.formEl)return void console.warn("No form found");const e=this.formEl.querySelectorAll(":invalid");if(e&&e.length){const t=e[0];this.scope.scrollToInvalidElement&&this.scrollToElement(t),this.scope.animateInvalidElement&&this.scrollToElement(t)}this.dispatchEvent(new CustomEvent("invalid",{detail:{elements:e}}))}scrollToElement(t){const e=St().h/2;yt(t,e,window),this.animateInvalidElement(t)}animateInvalidElement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;t.classList.add("invalid-flashing-animation"),setTimeout((()=>{t.classList.remove("invalid-flashing-animation")}),e)}onErrorSubmit(t,e,s){this.debug("onErrorSubmit"),this.dispatchEvent(new CustomEvent("submit-error",{detail:{status:t,message:e,response:s}}))}onSuccessSubmit(t,e,s){this.debug("onSuccessSubmit"),this.scope.disableSubmitUntilChange&&(this.scope.submitDisabled=!0),this.dispatchEvent(new CustomEvent("submit-success",{detail:{status:t,message:e,response:s}}))}validate(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validation-error";e.valid=t.checkValidity(),e.error=t.validationMessage,e.valid||(this.dispatchEvent(new CustomEvent(s)),t.classList.add("was-validated"))}getFormValues(){return this.formEl?(this.scope.form.fields=new FormData(this.formEl),this.scope.form.fields):(console.warn("No form found"),null)}initForm(){const t=this.querySelector("form");t&&t.length>0?(this.formEl=t,this.formEl.classList.add("needs-validation"),this.formEl.setAttribute("novalidate","")):console.warn("bs4 form without children found")}template(){return gt(this)?(this.initForm(),null):"<form> </form>"}}(0,N.Z)(rc,"tagName","bs4-form");class ac extends Fe{static get observedAttributes(){return["icon-url","position-class","channel-name"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"scope",{notifications:[],positionClass:"absolute-bottom absolute-center",channelName:"toast",onItemHide:this.onItemHide})}connectedCallback(){super.connectedCallback(),this.init(ac.observedAttributes)}onItemHide(t,e,s,i){s>-1?this.notifications.splice(s,1):console.warn("Notification not found",i)}onShowNotification(t){this.debug("Received notification container on "+this.scope.channelName,this.scope,t),this.scope.notifications.push(t)}async afterBind(){this.notificationDispatcher=new it(this.scope.channelName),this.notificationDispatcher.on("show-notification",this.onShowNotification,this),await super.afterBind()}disconnectedCallback(){super.disconnectedCallback(),this.notificationDispatcher.off("show-notification",this.onShowNotification,this)}requiredAttributes(){return[]}template(){return gt(this)?null:'<div class="toast-container"> <div aria-live="polite" aria-atomic="true" class="toast-item-container" rv-add-class="positionClass"> <div rv-each-toast="notifications"> <div rv-if="toast.type | eq \'toast\'"> <bs4-toast-item rv-index="%toast%" rv-parent rv-icon-url="iconUrl" rv-co-toast="toast"></bs4-toast-item> </div> </div> </div> </div> <div rv-each-modal="notifications"> <div rv-if="modal.type | eq \'modal\'"> <bs4-modal-item rv-index="%modal%" rv-parent rv-icon-url="iconUrl" rv-co-modal="modal"></bs4-modal-item> </div> </div>'}}(0,N.Z)(ac,"tagName","bs4-notification-container");class lc extends Fe{static get observedAttributes(){return["toast","icon-url","index"]}requiredAttributes(){return["toast"]}constructor(){super(),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this),toast:void 0})}connectedCallback(){super.connectedCallback(),this.init(lc.observedAttributes)}async afterBind(){this.initToastService(),await super.afterBind()}initToastService(){const t=this.scope.toast,e=this.firstElementChild;t&&e&&(this.toastService=new Ma(e,{delay:void 0!==t.delay?t.delay:Ma.Default.delay,autohide:void 0!==t.autoHide?t.autoHide:Ma.Default.autohide,animation:void 0!==t.animation?t.animation:Ma.Default.animation}),e.addEventListener(Oa,this.scope.onHidden,{once:!0}),this.toastService.show())}dismiss(){var t;null===(t=this.toastService)||void 0===t||t.hide()}onHidden(t,e){var s;e||(e=Et(t));const i=(null===(s=this.scope.$parent)||void 0===s?void 0:s.$parent)||null;"function"==typeof(null==i?void 0:i.onItemHide)&&this.scope.toast&&e&&i.onItemHide(t,e,this.scope.index,this.scope.toast)}template(){return'<div class="toast my-1" rv-add-class="toast.contextualClass | prepend \'toast-\'" role="alert" aria-live="assertive" aria-atomic="true"> <div class="toast-header" rv-show="toast.title"> <bs4-icon rv-if="iconUrl" rv-src="iconUrl" size="16" rv-color="toast.contextualClass" class="mr-2" alt="toast icon"></bs4-icon> <strong class="mr-auto" rv-template="toast.title"></strong> <button type="button" class="ml-2 mb-1 close" rv-on-click="dismiss" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> </div> <div class="toast-body" rv-template="toast.message"></div> </div>'}}(0,N.Z)(lc,"tagName","bs4-toast-item");class cc extends Fe{static get observedAttributes(){return["modal","index"]}requiredAttributes(){return["modal"]}constructor(){super(),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this)})}connectedCallback(){super.connectedCallback(),this.init(cc.observedAttributes)}async afterBind(){this.initModalService(),await super.afterBind()}initModalService(){const t=this.scope.modal,e=this.firstElementChild;t&&e&&(this.modalService=new kr(e,{focus:void 0!==t.focus?t.focus:kr.Default.focus,keyboard:void 0!==t.keyboard?t.keyboard:kr.Default.keyboard,backdrop:void 0!==t.backdrop?t.backdrop:kr.Default.backdrop,show:void 0!==t.show?t.show:kr.Default.show}),e.addEventListener(cr,this.scope.onHidden,{once:!0}),this.modalService.show(this))}dismiss(t){var e;null===(e=this.modalService)||void 0===e||e.hide(t)}onHidden(t,e){var s;e||(e=Et(t));const i=(null===(s=this.scope.$parent)||void 0===s?void 0:s.$parent)||null;"function"==typeof(null==i?void 0:i.onItemHide)&&this.scope.modal&&e&&i.onItemHide(t,e,this.scope.index,this.scope.modal)}template(){return'<div class="modal fade" tabindex="-1" role="dialog" rv-add-class="modal.contextualClass | prepend \'modal-\'"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header" rv-show="modal.title"> <h5 class="modal-title" rv-template="modal.title"></h5> <button type="button" class="close" aria-label="Close" rv-on-click="dismiss"> <span aria-hidden="true">&times;</span> </button> </div> <div class="modal-body"> <p rv-template="modal.message"></p> </div> <div class="modal-footer" rv-show="modal.buttons | size | gt 0"> <div rv-each-button="modal.buttons"> <button type="button" class="btn" rv-add-class="button.class" rv-on-click="button.action" rv-template="modal.label"></button> </div> </div> </div> </div> </div>'}}(0,N.Z)(cc,"tagName","bs4-modal-item");function hc(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function dc(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?hc(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):hc(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class uc extends Fe{static get observedAttributes(){return["tags","options","debug"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"_debug",!0),(0,N.Z)(this,"scope",{debug:!1,tags:[],options:{popoverOptions:{},multiPopover:!1,tagOptions:{}},fillPopoverOptions:t=>dc(dc(dc({},this.scope.options.popoverOptions),this.scope.options.tagOptions.popoverOptions),t),triggerOnFocus:t=>this.scope.fillPopoverOptions(t).trigger?0:null,onClick:this.onClick.bind(this),onPopoverBound:this.onPopoverBound.bind(this),onPopoverShown:this.onPopoverShown.bind(this),onPopoverHidden:this.onPopoverHidden.bind(this),updateTagPositions:ut(this.updateTagPositions.bind(this))}),this.scope.options.popoverOptions.container=this}parsedAttributeChangedCallback(t,e,s){if("options"===t){this.bound?this.scope.options=s:this.scope.options=G({deep:!0},e,s);const t=this.scope.options.popoverOptions;t&&"string"==typeof t.container&&(t.container=document.querySelector(t.container)||void 0)}}template(){return gt(this)&&this.parseChildTags(),'<img> <tag rv-each-tag="tags" rv-index="tag.index" rv-style-left="tag.left" rv-style-top="tag.top" rv-shape="tag.shape" rv-color="tag.color" rv-style---tag-color="tag.color" rv-style---tag-border-radius="tag.borderRadius" rv-style---tag-full-size="tag.fullSize" rv-style---tag-small-size="tag.smallSize" rv-bs4-popover="fillPopoverOptions | call tag.popoverOptions" rv-on-bound.bs.popover="onPopoverBound" rv-on-shown.bs.popover="onPopoverShown" rv-on-hidden.bs.popover="onPopoverHidden" rv-tabindex="triggerOnFocus | call tag.popoverOptions"> </tag> '}async beforeBind(){await super.beforeBind(),this.image=this.querySelector("img"),this.addEventListeners(),this.initTags()}addEventListeners(){const t=this.image;t.addEventListener("load",this.scope.updateTagPositions),t.addEventListener("click",this.scope.onClick),window.addEventListener("resize",this.scope.updateTagPositions,{passive:!0})}removeEventListeners(){const t=this.image;t.removeEventListener("load",this.scope.updateTagPositions),t.removeEventListener("click",this.scope.onClick),window.removeEventListener("resize",this.scope.updateTagPositions)}async afterBind(){this.passImageAttributes(),await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(uc.observedAttributes)}disconnectedCallback(){this.removeEventListener("click",this.scope.onClick),window.removeEventListener("resize",this.scope.updateTagPositions)}parseChildTags(){this.debug("parseChildTags()");for(const e of Array.from(this.querySelectorAll("tag"))){const s=e.getAttribute("title")||"",i=e.innerHTML,n=(t=parseFloat(e.getAttribute("x")||""),isNaN(t)?Math.random():t),o=(t=>isNaN(t)?Math.random():t)(parseFloat(e.getAttribute("y")||"")),r=e.getAttribute("shape")||void 0,a=e.getAttribute("color")||void 0,l=e.getAttribute("border-radius")||void 0,c=e.getAttribute("full-size")||void 0,h=e.getAttribute("small-size")||void 0,d=dc(dc({},this.scope.options.tagOptions),{},{popoverOptions:this.scope.fillPopoverOptions({title:s,content:i,html:!0}),x:n,y:o,shape:r,color:a,borderRadius:l,fullSize:c,smallSize:h});this.scope.tags.push(d)}var t}initTags(){const t=this.scope.options.tagOptions;for(const[e,s]of this.scope.tags.entries())s.index=e,s.shape=s.shape||t.shape,s.borderRadius=s.borderRadius||t.borderRadius,s.smallSize=s.smallSize||t.smallSize,s.fullSize=s.fullSize||t.fullSize,s.color=s.color||t.color}passImageAttributes(){const t=this.image,e=this.attributes;for(let s=e.length-1;s>=0;s--)e[s].name.startsWith("img-")&&t.setAttribute(e[s].name.substr(4),e[s].value)}onClick(t){if(this.scope.debug){const e=this.image,{clientTop:s,clientLeft:i,width:n,height:o,naturalWidth:r,naturalHeight:a}=e,{clientX:l,clientY:c}=t;let h=l-i,d=c-s;const u=n/r,p=o/a;let v=n,m=o;u<p?(v=n*p/u,h+=(v-n)/2):p<u&&(m=o*u/p,d+=(m-o)/2),h*=100/v,d*=100/m,console.log({x:h,y:d})}}onPopoverBound(t){const e=t.target.getAttribute("index");if(null===e)throw new Error("popup bound on no index");const s=parseInt(e);if(isNaN(s))throw new Error('boundIndex "'.concat(e,'" is not a number!'));const i=this.scope.tags.find((t=>t.index===s));if(!i)throw new Error("Tag with index (".concat(s,', "').concat(e,'") not found'));i.el=t.target}onPopoverShown(t){for(const i of this.scope.tags){var e,s;if(i.el===t.target)i.el.classList.add("active");else if(!this.scope.options.multiPopover)null===(e=i.el)||void 0===e||e.classList.remove("active"),null===(s=i.el)||void 0===s||s.dispatchEvent(new CustomEvent("trigger-hide"))}}onPopoverHidden(t){const e=this.scope.tags.find((e=>e.el===t.target));var s;e&&(null===(s=e.el)||void 0===s||s.classList.remove("active"))}updateTagPositions(){const t=this.image,{width:e,height:s,naturalWidth:i,naturalHeight:n}=t,o=i/e,r=n/s,a=window.getComputedStyle(t).getPropertyValue("object-fit");if("cover"===a&&o>r||"contain"===a&&r>o)for(const t of this.scope.tags)t.top=100*t.y+"%",t.left=100*(o/r*(t.x-.5)+.5)+"%";else if("cover"===a||"contain"===a)for(const t of this.scope.tags)t.left=100*t.x+"%",t.top=100*(r/o*(t.y-.5)+.5)+"%";else for(const t of this.scope.tags)t.left=100*t.x+"%",t.top=100*t.y+"%"}}(0,N.Z)(uc,"tagName","bs4-tagged-image");class pc extends Fe{static get observedAttributes(){return["type","title","text","url","media-url","label","dropdown-direction"]}constructor(){super(),(0,N.Z)(this,"_debug",!1),this.scope=this.getScopeDefaults(),this.debug("constructor",this.scope),pc.count++,this.onExternalOpenEvent=this.onExternalOpenEvent.bind(this),this.onExternalCloseEvent=this.onExternalCloseEvent.bind(this)}getDefaultShareServices(){const t="%0A";return[{id:"facebook",label:"Facebook",urlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{url}}",mediaUrlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{media_url}}",type:"popup",url:"",availableFor:["page","image","video"]},{id:"twitter",label:"Twitter",urlTemplate:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}",mediaUrlTemplate:"https://twitter.com/intent/tweet?text={{text}}&url={{media_url}}".concat(t,"({{url}})"),url:"",availableFor:["page","image","video"]},{id:"pinterest",label:"Pinterest",urlTemplate:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{media_url}}&description={{text}}",type:"popup",url:"",availableFor:["image","video"]},{id:"whatsapp",label:"WhatsApp",urlTemplate:"https://api.whatsapp.com/send?text={{text}}".concat(t).concat(t,"{{url}}"),mediaUrlTemplate:"https://api.whatsapp.com/send?text={{text}}".concat(t).concat(t,"{{media_url}}").concat(t,"({{url}})"),type:"popup",url:"",availableFor:["page","image","video"]},{id:"telegram",label:"Telegram",urlTemplate:"https://telegram.me/share/url?url={{media_url}}&text={{text}}",mediaUrlTemplate:"https://telegram.me/share/url?url={{media_url}}&text={{text}}".concat(t,"({{url}})"),type:"popup",url:"",availableFor:["page","image","video"]},{id:"email",label:"Email",urlTemplate:"mailto:?subject={{title}}&body={{text}}".concat(t).concat(t,"{{url}}"),mediaUrlTemplate:"mailto:?subject={{title}}&body={{text}}".concat(t).concat(t,"{{media_url}}").concat(t,"({{url}})"),type:"href",url:"",availableFor:["page","image","video"]},{id:"download",label:"Download image",urlTemplate:"{{raw_media_url}}",type:"download",url:"",availableFor:["image","video"]}]}isIos(){return null!==navigator.userAgent.match(/iPhone|iPad|iPod/i)}isAndroid(){return null!==navigator.userAgent.match(/Android/i)}browserSupportsNativeShare(){return"function"==typeof navigator.share}getScopeDefaults(){const t={type:"page",title:document.title,text:"Look at this! 👀🤩",url:window.location.href,label:"Share",labelTemplate:'<div class="share-label" rv-on-click="share" role="button" aria-haspopup="true" aria-expanded="false" rv-text="label"></div> ',isAndroid:this.isAndroid(),isIos:this.isIos(),isDesktop:!1,isNative:this.browserSupportsNativeShare(),dropdownId:"dropdownShare"+pc.count,shareItems:this.getDefaultShareServices(),dropdownDirection:"down",share:this.share,shareOnService:this.shareOnService};return t.isDesktop=!t.isIos&&!t.isAndroid,t}onExternalOpenEvent(){var t;null===(t=this.dropdown)||void 0===t||t.show()}onExternalCloseEvent(){var t;null===(t=this.dropdown)||void 0===t||t.close()}connectedCallback(){super.connectedCallback(),this.init(pc.observedAttributes),this.addEventListeners()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListeners()}addEventListeners(){this.addEventListener("open",this.onExternalOpenEvent),this.addEventListener("close",this.onExternalCloseEvent)}removeEventListeners(){this.removeEventListener("open",this.onExternalOpenEvent),this.removeEventListener("close",this.onExternalOpenEvent)}getURLForShare(){return"page"===this.scope.type&&this.scope.url?jt(this.scope.url):window.location.href}getMediaUrlForShare(){return"page"!==this.scope.type&&this.scope.url?jt(this.scope.url):""}getTextForShare(){return this.scope.text}getTitleForShare(){return this.scope.title}updateShareURLs(){for(const t of this.scope.shareItems){const e=this.getURLForShare(),s=this.getMediaUrlForShare(),i=this.getTextForShare(),n=this.getTitleForShare();let o=t.urlTemplate;"page"!==this.scope.type&&t.mediaUrlTemplate&&(o=t.mediaUrlTemplate);const r=o.replace("{{url}}",encodeURIComponent(e)).replace("{{url}}",encodeURIComponent(e)).replace("{{media_url}}",encodeURIComponent(s)).replace("{{raw_media_url}}",s).replace("{{text}}",encodeURIComponent(i)).replace("{{title}}",encodeURIComponent(n));t.available=-1!==t.availableFor.indexOf(this.scope.type),t.url=r}}initDropdown(){const t=this.querySelector(".dropdown-toggle-share");t?this.dropdown=new Jo(t):console.warn('Element with selector ".dropdown-toggle-share" not found!',this)}shareOnService(t,e,s){var i;return this.debug("Open popup"),null===(i=this.dropdown)||void 0===i||i.close(),s&&s.href?!!(s.hasAttribute("type")&&"download"===s.getAttribute("type")||"href"===s.getAttribute("type"))||(t.preventDefault(),t.stopPropagation(),window.open(s.href,"Share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),!1):(console.error("No href attribute found"),!1)}async share(t){return this.debug("share",this.scope),t.preventDefault(),t.stopPropagation(),this.scope.isNative&&!this.scope.isDesktop?navigator.share({title:this.scope.title,text:"".concat(this.scope.text,"\r\n\r\n"),url:this.scope.url||window.location.href}).catch((t=>{"AbortError"!==t.name&&console.error("Error ".concat(t.name,": ").concat(t.message),t)})):(this.updateShareURLs(),null===(e=this.dropdown)||void 0===e?void 0:e.toggle());var e}async beforeBind(){await super.beforeBind()}async afterBind(){this.initDropdown(),await super.afterBind()}requiredAttributes(){return["url"]}template(){return this.debug("template",this,gt(this)),this&&gt(this)&&(this.scope.labelTemplate=this.innerHTML,this.debug("Custom label template: ",this.scope.labelTemplate)),$i}}(0,N.Z)(pc,"tagName","bs4-share"),(0,N.Z)(pc,"count",0);class vc extends pc{static get observedAttributes(){return[...pc.observedAttributes,"text-i18n","label-i18n","service-label-i18n"]}constructor(){super(),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"scope",super.scope),this.scope=this.getScopeDefaults(),this.scope.labelTemplate='<div class="share-label" rv-on-click="share" role="button" aria-haspopup="true" aria-expanded="false" rv-i18n-text="labelI18n"></div> '}connectedCallback(){super.connectedCallback(),this.init(pc.observedAttributes),this.addEventListeners()}async initI18n(){return new Promise((t=>{var e,s,i;if(null===(e=this.localesService)||void 0===e||e.event.on("changed",(async e=>t(e))),null!==(s=this.localesService)&&void 0!==s&&s.ready){var n;const e=null===(n=this.localesService)||void 0===n?void 0:n.getLangcode();return t(e)}null===(i=this.localesService)||void 0===i||i.event.on("ready",(async e=>t(e)))}))}async i18n(t,e){var s;if(e)return null===(s=this.localesService)||void 0===s?void 0:s.get([t,...e.split(".")]).then((t=>t)).catch((t=>{console.error(t)}))}async beforeBind(){await super.beforeBind(),this.localesService=zi.options.localesService;const t=await this.initI18n();if(this.scope.textI18n&&t&&(this.scope.text=await this.i18n(t,this.scope.textI18n)||this.scope.text),this.scope.serviceLabelI18n&&t)for(const e of this.scope.shareItems)e.label=await this.i18n(t,this.scope.serviceLabelI18n+"."+e.id)||e.label}async afterBind(){await super.afterBind()}template(){return this.debug("template",this,gt(this)),this&&gt(this)&&(this.scope.labelTemplate=this.innerHTML,this.debug("Custom label template: ",this.scope.labelTemplate)),$i}}(0,N.Z)(vc,"tagName","i18n-share");const mc=async(t,e,s)=>{const i=t.split(".");return s||(s=e.getLangcode())?e.get([s,...i]).then((t=>t)).catch((t=>{console.error(t)})):null},gc={name:"t",read(t,e){const s=zi.options.localesService;return new Promise(((i,n)=>{s.event.on("changed",(()=>{mc(t,s,e).then((t=>{i(t)})).catch((t=>{n(t)}))})),s.event.on("ready",(()=>{mc(t,s,e).then((t=>{i(t)})).catch((t=>{n(t)}))})),s.ready&&mc(t,s,e).then((t=>{i(t)}))}))}},fc={binders:d,components:S,formatters:C,services:u,init(t){if(!t)throw new Error("[i18nModule] Module options required!");return zi.setSingleton(t),this}};var bc=s(378);class yc extends bc.lr{}class wc extends bc.UO{}(0,N.Z)(wc,"CLASS_NAME_SHOW","show"),(0,N.Z)(wc,"CLASS_NAME_COLLAPSE","collapse"),(0,N.Z)(wc,"CLASS_NAME_COLLAPSING","collapsing"),(0,N.Z)(wc,"CLASS_NAME_COLLAPSED","collapsed"),(0,N.Z)(wc,"SELECTOR_ACTIVES",".show, .collapsing"),(0,N.Z)(wc,"SELECTOR_DATA_TOGGLE",'[data-bs-toggle="collapse"]');class Ec extends Fe{static get observedAttributes(){return[]}constructor(){super(),(0,N.Z)(this,"scope",{toggle:this.toggle}),(0,N.Z)(this,"toggler",null)}toggle(t){if(t.preventDefault(),t.stopPropagation(),!this.dropdown)throw new Error("Dropdown not ready!");return this.dropdown.toggle()}connectedCallback(){super.connectedCallback(),this.init(Ec.observedAttributes)}async afterBind(){this.toggler=this.classList.contains("dropdown-toggle")?this:this.querySelector(".dropdown-toggle")||this,this.toggler.dataset.bsToggle="dropdown",this.dropdown=new Lc(this.toggler,{}),await super.afterBind()}template(){return null}}(0,N.Z)(Ec,"tagName","bs5-dropdown");const Sc="bs.dropdown",Cc=".".concat(Sc),kc=".data-api",Tc="ArrowDown",Ac="ArrowUp",_c="Escape";class Lc extends bc.Lt{static hideAll(){this.clearMenus()}static getAllComponents(){const t=document.querySelectorAll(Ec.tagName);return Array.from(t)}static hideAllComponents(){const t=this.getAllComponents();for(const s of Array.from(t)){var e;null===(e=s.dropdown)||void 0===e||e.hide()}}static get DATA_KEY(){return Sc}}(0,N.Z)(Lc,"NAME","dropdown"),(0,N.Z)(Lc,"EVENT_KEY",Cc),(0,N.Z)(Lc,"DATA_API_KEY",kc),(0,N.Z)(Lc,"ESCAPE_KEY",_c),(0,N.Z)(Lc,"SPACE_KEY","Space"),(0,N.Z)(Lc,"TAB_KEY","Tab"),(0,N.Z)(Lc,"ARROW_UP_KEY",Ac),(0,N.Z)(Lc,"ARROW_DOWN_KEY",Tc),(0,N.Z)(Lc,"RIGHT_MOUSE_BUTTON",2),(0,N.Z)(Lc,"REGEXP_KEYDOWN",new RegExp("".concat(Ac,"|").concat(Tc,"|").concat(_c))),(0,N.Z)(Lc,"EVENT_HIDE","hide".concat(Cc)),(0,N.Z)(Lc,"EVENT_HIDDEN","hidden".concat(Cc)),(0,N.Z)(Lc,"EVENT_SHOW","show".concat(Cc)),(0,N.Z)(Lc,"EVENT_SHOWN","shown".concat(Cc)),(0,N.Z)(Lc,"EVENT_CLICK","click".concat(Cc)),(0,N.Z)(Lc,"EVENT_CLICK_DATA_API","click".concat(Cc).concat(kc)),(0,N.Z)(Lc,"EVENT_KEYDOWN_DATA_API","keydown".concat(Cc).concat(kc)),(0,N.Z)(Lc,"EVENT_KEYUP_DATA_API","keyup".concat(Cc).concat(kc)),(0,N.Z)(Lc,"CLASS_NAME_DISABLED","disabled"),(0,N.Z)(Lc,"CLASS_NAME_SHOW","show"),(0,N.Z)(Lc,"CLASS_NAME_DROPUP","dropup"),(0,N.Z)(Lc,"CLASS_NAME_DROPEND","dropend"),(0,N.Z)(Lc,"CLASS_NAME_DROPSTART","dropstart"),(0,N.Z)(Lc,"CLASS_NAME_NAVBAR","navbar"),(0,N.Z)(Lc,"SELECTOR_DATA_TOGGLE",'[data-bs-toggle="dropdown"]'),(0,N.Z)(Lc,"SELECTOR_FORM_CHILD",".dropdown form"),(0,N.Z)(Lc,"SELECTOR_MENU",".dropdown-menu"),(0,N.Z)(Lc,"SELECTOR_NAVBAR_NAV",".navbar-nav"),(0,N.Z)(Lc,"SELECTOR_VISIBLE_ITEMS",".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)");class Oc{constructor(t,e){this.type=t,this.title=e}}class xc extends Oc{constructor(t){let{title:e,message:s,iconUrl:i,focus:n,keyboard:o,backdrop:r,buttons:a,modalService:l,contextualClass:c,channel:h,$event:d,$context:u}=t;super("modal",e),(0,N.Z)(this,"buttons",[]),this.message=s,this.iconUrl=i,this.focus=n||!1,this.keyboard=o||!0,this.backdrop=r||!0,this.buttons=a||[],this.modalService=l,this.contextualClass=c,this.channel=h,this.$event=d,this.$context=u}}const Pc="bs.modal",Nc=".data-api",Ic=".".concat(Pc);class Dc extends bc.u_{static get DATA_KEY(){return Pc}static get DATA_API_KEY(){return Nc}static get EVENT_KEY(){return Ic}}(0,N.Z)(Dc,"NAME","modal"),(0,N.Z)(Dc,"ESCAPE_KEY","Escape"),(0,N.Z)(Dc,"EVENT_HIDE","hide".concat(Ic)),(0,N.Z)(Dc,"EVENT_HIDE_PREVENTED","hidePrevented".concat(Ic)),(0,N.Z)(Dc,"EVENT_HIDDEN","hidden".concat(Ic)),(0,N.Z)(Dc,"EVENT_SHOW","show".concat(Ic)),(0,N.Z)(Dc,"EVENT_SHOWN","shown".concat(Ic)),(0,N.Z)(Dc,"EVENT_FOCUSIN","focusin".concat(Ic)),(0,N.Z)(Dc,"EVENT_RESIZE","resize".concat(Ic)),(0,N.Z)(Dc,"EVENT_CLICK_DISMISS","click.dismiss".concat(Ic)),(0,N.Z)(Dc,"EVENT_KEYDOWN_DISMISS","keydown.dismiss".concat(Ic)),(0,N.Z)(Dc,"EVENT_MOUSEUP_DISMISS","mouseup.dismiss".concat(Ic)),(0,N.Z)(Dc,"EVENT_MOUSEDOWN_DISMISS","mousedown.dismiss".concat(Ic)),(0,N.Z)(Dc,"EVENT_CLICK_DATA_API","click".concat(Ic).concat(Nc)),(0,N.Z)(Dc,"CLASS_NAME_SCROLLBAR_MEASURER","modal-scrollbar-measure"),(0,N.Z)(Dc,"CLASS_NAME_BACKDROP","modal-backdrop"),(0,N.Z)(Dc,"CLASS_NAME_OPEN","modal-open"),(0,N.Z)(Dc,"CLASS_NAME_FADE","fade"),(0,N.Z)(Dc,"CLASS_NAME_SHOW","show"),(0,N.Z)(Dc,"CLASS_NAME_STATIC","modal-static"),(0,N.Z)(Dc,"SELECTOR_DIALOG",".modal-dialog"),(0,N.Z)(Dc,"SELECTOR_MODAL_BODY",".modal-body"),(0,N.Z)(Dc,"SELECTOR_DATA_TOGGLE",'[data-bs-toggle="modal"]'),(0,N.Z)(Dc,"SELECTOR_DATA_DISMISS",'[data-bs-dismiss="modal"]'),(0,N.Z)(Dc,"SELECTOR_FIXED_CONTENT",".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"),(0,N.Z)(Dc,"SELECTOR_STICKY_CONTENT",".sticky-top");class Bc extends bc.u{}class Zc extends bc.J2{}const Mc={dimension:0,name:"xs"},Rc={dimension:576,name:"sm"},Hc={dimension:768,name:"md"},jc={dimension:992,name:"lg"},Uc={dimension:1200,name:"xl"},Fc={dimension:1400,name:"xxl"},Vc={breakpoints:[Mc,Rc,Hc,jc,Uc,Fc]},qc={nsPrefix:"bs5-toggle-button:",eventNames:{toggle:"toggle",toggled:"toggled",init:"init",state:"state"}},zc={elEventNames:{removed:"removed",added:"added"}},Wc={elEventNames:{removed:"removed",added:"added"}};class Yc{get options(){return this._options}get activeBreakpoint(){return this._activeBreakpoint}get breakpointNames(){return this.options.breakpoints.map((t=>t.name))}get events(){return this._events}constructor(t){(0,N.Z)(this,"_options",Vc),(0,N.Z)(this,"_events",it.getInstance("bs5")),(0,N.Z)(this,"_activeBreakpoint",null),(0,N.Z)(this,"onViewChanges",ut(this._onViewChanges.bind(this))),this._options=t,this._options.breakpoints.sort(((t,e)=>t.dimension-e.dimension)),this._onViewChanges(),this.addEventListeners()}onBreakpointChanges(){this._events.trigger("breakpoint:changed",this.activeBreakpoint)}setActiveBreakpoint(t){var e;t&&t.name!==(null===(e=this.activeBreakpoint)||void 0===e?void 0:e.name)&&(this._activeBreakpoint=t,this.onBreakpointChanges())}static getSingleton(){if(Yc.instance)return Yc.instance;throw new Error("Singleton of Bs5Service not defined, please call setSingleton first!")}static setSingleton(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vc;if(Yc.instance)throw new Error("Singleton of Bs5Service already defined!");return Yc.instance=new Yc(t),Yc.instance}addEventListeners(){window.addEventListener("resize",this.onViewChanges,{passive:!0})}removeEventListeners(){window.removeEventListener("resize",this.onViewChanges)}_onViewChanges(){const t=this.getBreakpointByDimension(St().w)||this.getBreakpointByName("xs");t&&this.setActiveBreakpoint(t)}getBreakpointByDimension(t,e){e=e||this.options.breakpoints;for(let s=0;s<e.length-1;s++){const i=e[s],n=e[s+1];if(n&&i&&t>i.dimension&&t<n.dimension)return i}const s=e[e.length-1];return t>=s.dimension?s:null}getBreakpointByName(t,e){const s=(e=e||this.options.breakpoints).find((e=>e.name===t));return s||null}isBreakpointGreaterThan(t,e){const s=this.getBreakpointByName(t),i=this.getBreakpointByName(e);return s&&i?s.dimension>i.dimension:null}isBreakpointSmallerThan(t,e){const s=this.getBreakpointByName(t),i=this.getBreakpointByName(e);return s&&i?s.dimension<i.dimension:null}isActiveBreakpointGreaterThan(t){return this.activeBreakpoint?this.isBreakpointGreaterThan(this.activeBreakpoint.name,t):null}isActiveBreakpointSmallerThan(t){return this.activeBreakpoint?this.isBreakpointSmallerThan(this.activeBreakpoint.name,t):null}}class Gc extends Oc{constructor(t){let{title:e,message:s,iconUrl:i,delay:n,autoHide:o,animation:r,toastService:a,contextualClass:l,channel:c,$event:h,$context:d}=t;super("toast",e),this.message=s,this.iconUrl=i,this.delay=n,this.autoHide=o,this.animation=r,this.toastService=a,this.contextualClass=l,this.channel=c,this.$event=h,this.$context=d}}const Xc="bs.toast",Kc=".".concat(Xc);class $c extends bc.FN{static get DATA_KEY(){return Xc}static get EVENT_KEY(){return Kc}}(0,N.Z)($c,"NAME","toast"),(0,N.Z)($c,"EVENT_CLICK_DISMISS","click.dismiss".concat(Kc)),(0,N.Z)($c,"EVENT_HIDE","hide".concat(Kc)),(0,N.Z)($c,"EVENT_HIDDEN","hidden".concat(Kc)),(0,N.Z)($c,"EVENT_SHOW","show".concat(Kc)),(0,N.Z)($c,"EVENT_SHOWN","shown".concat(Kc)),(0,N.Z)($c,"CLASS_NAME_FADE","fade"),(0,N.Z)($c,"CLASS_NAME_HIDE","hide"),(0,N.Z)($c,"CLASS_NAME_SHOW","show"),(0,N.Z)($c,"CLASS_NAME_SHOWING","showing");class Qc extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"dispatcher",it.getInstance("main")),(0,N.Z)(this,"checkURL",this._checkURL.bind(this))}_checkURL(){var t;return!(!this.url||!Ut(this.url))&&(null===(t=this.collapseService)||void 0===t||t.hide(),!0)}bind(t){this.collapseService=new wc(t,{toggle:!1})}unbind(){this.checkURL&&this.dispatcher.off("newPageReady",this.checkURL)}routine(t,e){this.url=e,this.checkURL&&this.dispatcher.off("newPageReady",this.checkURL),this.dispatcher.on("newPageReady",this.checkURL)}}(0,N.Z)(Qc,"key","bs5-collapse-on-url");class Jc extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"targets",new Map),(0,N.Z)(this,"onEvent",this._onEvent.bind(this))}_onEvent(t){t.preventDefault();for(const t of this.targets.values())t.toggle()}bind(t){if(null===this.args)throw new Error("args is null");const e=this.args[0];t.addEventListener(e,this.onEvent)}unbind(){const t=this.args[0];this.el.removeEventListener(t,this.onEvent)}routine(t,e){const s=Array.from(document.querySelectorAll(e));s.length<=0&&console.warn('[toggleCollapseOnEventBinder] No element with selector "'.concat(e,'" found.'));for(const t of this.targets.keys()){var i;if(!s.find((e=>e===t)))null===(i=this.targets.get(t))||void 0===i||i.dispose(),this.targets.delete(t)}for(const t of s)this.targets.has(t)||this.targets.set(t,new wc(t,{toggle:!1}))}}(0,N.Z)(Jc,"key","bs5-toggle-collapse-on-*");class th extends Kt{bind(t){this.toggler=(t.classList.contains("dropdown-toggle")?t:t.querySelector(".dropdown-toggle"))||t}routine(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.toggler)throw new Error("No dropdown toggle element found!");if(this.dropdownService){this.dropdownService.dispose(),this.toggler.dataset.bsToggle=""}const s=new Lc(this.toggler,e);this.toggler.dataset.bsToggle="dropdown",this.dropdownService=s}}(0,N.Z)(th,"key","bs5-dropdown");class eh extends Kt{routine(t,e){const s=new wc(t,{toggle:!1}),i=new it("main"),n=t=>t&&Ut(t)?(s.show(),!0):(s.hide(),!1);i.on("newPageReady",(()=>n(e))),n(e)}}function sh(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function ih(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?sh(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):sh(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}(0,N.Z)(eh,"key","bs5-expand-on-url");class nh extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"listeners",{})}routine(t,e){let s={};"string"==typeof e?s.content=e:"object"==typeof e&&(s=ih({},e)),s.placement=s.placement||"auto";const i=new Zc(t,ih(ih({},Zc.Default),s));this.popover&&this.popover.dispose(),this.popover=i;const n=["show","hide","toggle","dispose","enable","disable","update"];if(this.listeners)for(const[t,e]of Object.entries(this.listeners))this.el.removeEventListener(t,e);this.listeners=Object.create(null);for(const t of n)if(i[t]&&"function"==typeof i[t]){const e="trigger-".concat(String(t)),s=i[t].bind(i);this.el.addEventListener(e,s),this.listeners[e]=s}else console.warn("Unknown method "+t)}bind(t){t.dispatchEvent(new CustomEvent("bound.bs.popover",{bubbles:!0,cancelable:!0}))}unbind(){if(this.popover&&this.popover.dispose(),this.listeners)for(const[t,e]of Object.entries(this.listeners))this.el.removeEventListener(t,e)}}(0,N.Z)(nh,"key","bs5-popover");class oh extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"onEvent",this._onEvent.bind(this))}_onEvent(t){if(!this.toastData)throw new Error("Toast data not set!");this.toastData.$event=t,this.toastData.$context=this.view.models;const e=new Gc(this.toastData);new it(e.channel||"toast").trigger("show-notification",e)}bind(t){const e=this.args[0];t.addEventListener(e,this.onEvent)}routine(t,e){if(null===this.args)throw new Error("args is null");this.toastData=e}unbind(t){const e=this.args[0];t.removeEventListener(e,this.onEvent)}}(0,N.Z)(oh,"key","show-toast-on-*");class rh extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"onScroll",ut(this._onScroll.bind(this))),(0,N.Z)(this,"isInViewport",this._isInViewport.bind(this))}_onScroll(){if(!this.target)throw new Error("No target element found!");if(!this.className)throw new Error("className not set!");this.isInViewport(this.target)?(this.el.classList.add(this.className),"radio"===this.el.type&&(this.el.checked=!0)):(this.el.classList.remove(this.className),"radio"===this.el.type&&(this.el.checked=!1))}_isInViewport(t){if(!t)return!1;const e=Number(this.el.dataset.offset||0),s=Number(this.el.dataset.offsetBottom||0);return Ct(t,e,s)}bind(){window.addEventListener("scroll",this.onScroll,{passive:!0}),this.onScroll()}routine(t,e){const s=e.replace("#","");this.target=document.getElementById(s)||void 0,this.className=this.args[0]}unbind(){window.removeEventListener("scroll",this.onScroll)}}(0,N.Z)(rh,"key","bs5-scrollspy-*");var ah=s(626);const lh=document.createElement("div");lh.classList.add("tooltip"),lh.setAttribute("role","tooltip");const ch=document.createElement("div");ch.classList.add("arrow"),lh.appendChild(ch);const hh=document.createElement("div");hh.classList.add("tooltip-inner"),lh.appendChild(hh);class dh extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"tip",lh.cloneNode(!0)),(0,N.Z)(this,"show",this._show.bind(this)),(0,N.Z)(this,"hide",this._hide.bind(this))}_show(){const t=this.el.dataset.placement||"start";this.popper=(0,ah.fi)(this.el,this.tip,{placement:t,modifiers:[{name:"flip",options:{altBoundary:!0,behavior:"flip"}},{name:"offset",options:{offset:0}},{name:"arrow",options:{element:".arrow"}},{name:"preventOverflow",options:{boundariesElement:"scrollParent"}}],strategy:void 0}),document.body.appendChild(this.tip),this.tip.classList.add("show"),this.tip.classList.add("bs-tooltip-"+t)}_hide(){this.tip.classList.remove("show"),this.popper&&this.popper.destroy()}bind(t){t.addEventListener("mouseenter",this.show),t.addEventListener("mouseleave",this.hide)}routine(t,e){this.tip.querySelector(".tooltip-inner").innerHTML=e}unbind(){this.hide(),this.el.removeEventListener("mouseenter",this.show),this.el.removeEventListener("mouseleave",this.hide)}}(0,N.Z)(dh,"key","bs5-tooltip");class uh extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"onEvent",this._onEvent.bind(this))}_onEvent(t){const e=Number(this.el.dataset.offset||0),s=this.el.dataset.scrollElement?document.querySelector(this.el.dataset.scrollElement):window;this.target&&(yt(this.target,e,s),t.preventDefault())}bind(t){this.onEvent=this.onEvent.bind(this);const e=this.args[0];t.addEventListener(e,this.onEvent)}routine(t,e){this.target=document.querySelector(e)||void 0}unbind(t){const e=this.args[0];t.removeEventListener(e,this.onEvent)}}(0,N.Z)(uh,"key","scroll-to-on-*");class ph extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"state","off"),(0,N.Z)(this,"triggerState",this._triggerState.bind(this)),(0,N.Z)(this,"onToggle",this._onToggle.bind(this))}_triggerState(){var t;null===(t=this.toggleButtonEvents)||void 0===t||t.trigger(qc.eventNames.state,this.state)}_onToggle(){this.toggle.bind(this)(this.el)}toggle(t){"removed"===this.state?this.add.bind(this)(t):this.remove.bind(this)(t)}remove(t){const e=this.args[0];t.removeAttribute(e),this.state="removed",t.dispatchEvent(new CustomEvent(zc.elEventNames.removed,{detail:{attributeName:e}})),this.triggerState()}add(t){const e=this.args[0];t.setAttribute(e,e),this.state="added",t.dispatchEvent(new CustomEvent(zc.elEventNames.added,{detail:{attributeName:e}})),this.triggerState()}bind(t){const e=this.args[0];this.state=t.hasAttribute(e)?"added":"removed"}unbind(){var t,e;null===(t=this.toggleButtonEvents)||void 0===t||t.off(qc.eventNames.toggle,this.onToggle,this),null===(e=this.toggleButtonEvents)||void 0===e||e.off(qc.eventNames.init,this.triggerState,this)}routine(t,e){const s=this._getValue(t);let i=this.toggleButtonEvents;s&&i&&(i.off(qc.eventNames.toggle,this.onToggle,this),i.off(qc.eventNames.init,this.triggerState,this)),this.toggleButtonEvents||(this.toggleButtonEvents=new it(qc.nsPrefix+e),i=this.toggleButtonEvents,i.on(qc.eventNames.toggle,this.onToggle,this),i.on(qc.eventNames.init,this.triggerState,this))}}(0,N.Z)(ph,"key","bs5-toggle-attribute-*");class vh extends Kt{constructor(){super(...arguments),(0,N.Z)(this,"state","off"),(0,N.Z)(this,"triggerState",this._triggerState.bind(this)),(0,N.Z)(this,"onToggle",this._onToggle.bind(this))}_triggerState(){var t;null===(t=this.toggleButtonEvents)||void 0===t||t.trigger(qc.eventNames.state,this.state)}_onToggle(){this.toggle.bind(this)(this.el)}toggle(t){"removed"===this.state?this.add.bind(this)(t):this.remove.bind(this)(t)}remove(t){const e=this.args[0];t.classList.remove(e),this.state="removed",t.dispatchEvent(new CustomEvent(Wc.elEventNames.removed,{detail:{className:e}})),this.triggerState()}add(t){const e=this.args[0];t.classList.add(e,e),this.state="added",t.dispatchEvent(new CustomEvent(Wc.elEventNames.added,{detail:{className:e}})),this.triggerState()}bind(t){const e=this.args[0];this.state=t.classList.contains(e)?"added":"removed"}unbind(){var t,e;null===(t=this.toggleButtonEvents)||void 0===t||t.off(qc.eventNames.toggle,this.onToggle,this),null===(e=this.toggleButtonEvents)||void 0===e||e.off(qc.eventNames.init,this.triggerState,this)}routine(t,e){const s=this._getValue(t);let i=this.toggleButtonEvents;s&&i&&(i.off(qc.eventNames.toggle,this.onToggle,this),i.off(qc.eventNames.init,this.triggerState,this)),this.toggleButtonEvents||(this.toggleButtonEvents=new it(qc.nsPrefix+e),i=this.toggleButtonEvents,i.on(qc.eventNames.toggle,this.onToggle,this),i.on(qc.eventNames.init,this.triggerState,this))}}(0,N.Z)(vh,"key","bs5-toggle-class-*");const mh=Fs.read;class gh extends We{static get observedAttributes(){return["collapse-icon-src","collapse-icon-size","show-only-one"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"templateAttributes",[{name:"title",required:!0},{name:"show",required:!1},{name:"icon-direction",required:!1}]),(0,N.Z)(this,"scope",{items:[],toggle:this.toggle,show:this.show,hide:this.hide,collapseIconSize:16,showOnlyOne:!0})}hide(t,e){const s=this.querySelector('[data-index="'.concat(e,'"]'));s&&(this.initItemEventListeners(t,s),new wc(s,{toggle:!1}).hide())}show(t,e){const s=this.querySelector('[data-index="'.concat(e,'"]')),i=Array.from(this.querySelectorAll('[data-index]:not([data-index="'.concat(e,'"])')));if(i&&this.scope.showOnlyOne)for(const t of i)new wc(t,{toggle:!1}).hide();s&&(this.initItemEventListeners(t,s),new wc(s,{toggle:!1}).show())}toggle(t,e){const s=this.querySelector('[data-index="'.concat(e,'"]')),i=Array.from(this.querySelectorAll('[data-index]:not([data-index="'.concat(e,'"])')));if(i&&this.scope.showOnlyOne)for(const t of i)new wc(t,{toggle:!1}).hide();s&&(this.initItemEventListeners(t,s),new wc(s,{toggle:!1}).toggle())}initItemEventListeners(t,e){e.removeEventListener(wc.Events.hide,this.onHide.bind(this,e,t)),e.removeEventListener(wc.Events.show,this.onShow.bind(this,e,t)),e.addEventListener(wc.Events.hide,this.onHide.bind(this,e,t),{once:!0}),e.addEventListener(wc.Events.show,this.onShow.bind(this,e,t),{once:!0})}getContentChildByIndex(){return this.querySelector(".card-body > *")||void 0}onShow(t,e){e.show=!0,e.iconDirection="up";const s=this.getContentChildByIndex();s&&this.triggerVisibilityChangedForElement(s,e.show)}onHide(t,e){e.show=!1,e.iconDirection="down";const s=this.getContentChildByIndex();s&&this.triggerVisibilityChangedForElement(s,e.show)}transformTemplateAttributes(t){return t.handle=t.handle||mh(t.title),t.show=!!t.show,t.iconDirection=t.iconDirection||t.show?"up":"down",t}triggerVisibilityChangedForElement(t,e){setTimeout((()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:e}}))}),200)}connectedCallback(){super.connectedCallback(),this.init(gh.observedAttributes)}async init(t){return super.init(t).then((t=>t))}async beforeBind(){return await super.beforeBind()}async afterBind(){return await super.afterBind()}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback()}template(){return!gt(this)||this.hasOnlyTemplateChilds()?'<div class="accordion"> <div class="card" rv-each-item="items"> <button type="button" class="btn btn-link card-header d-flex" rv-on-click="toggle | args item %item%" rv-aria-expanded="item.show"> <span class="card-header-text me-auto" rv-html="item.title"></span> <bs5-icon class="ms-auto" rv-show="collapseIconSrc" rv-src="collapseIconSrc" rv-size="collapseIconSize" rv-direction="item.iconDirection"></bs5-icon> </button> <div class="collapse" rv-data-index="%item%"> <div class="card-body" rv-template="item.content"></div> </div> </div> </div> ':null}}(0,N.Z)(gh,"tagName","bs5-accordion");class fh extends Fe{static get observedAttributes(){return["animation-class"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"scope",{animationClass:"btn-animation-start",onClick:this.onClick.bind(this)})}onClick(){this.startAnimation()}connectedCallback(){super.connectedCallback(),this.init(fh.observedAttributes)}startAnimation(){this.classList.add(this.scope.animationClass)}onStartAnimation(){}onEndAnimation(){setTimeout((()=>{this.classList.remove(this.scope.animationClass)}))}async init(t){return super.init(t).then((t=>(this.onStartAnimation=this.onStartAnimation.bind(this),this.addEventListener("webkitAnimationStart",this.onStartAnimation),this.addEventListener("animationstart",this.onStartAnimation),this.onEndAnimation=this.onEndAnimation.bind(this),this.addEventListener("webkitAnimationEnd",this.onEndAnimation),this.addEventListener("animationend",this.onEndAnimation),this.addEventListener("click",this.scope.onClick),t)))}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("webkitAnimationStart",this.onStartAnimation),this.removeEventListener("animationstart",this.onStartAnimation),this.removeEventListener("webkitAnimationEnd",this.onEndAnimation),this.removeEventListener("animationend",this.onEndAnimation),this.removeEventListener("click",this.scope.onClick)}template(){return null}}(0,N.Z)(fh,"tagName","bs5-button");class bh extends Fe{static get observedAttributes(){return["interval","keyboard","slide","pauseOn","wrap","touch","fade"]}requiredAttributes(){return[]}constructor(){super(),(0,N.Z)(this,"scope",{interval:yc.Default.interval,keyboard:yc.Default.keyboard,slide:yc.Default.slide,pauseOn:yc.Default.pause||!1,wrap:yc.Default.wrap,touch:yc.Default.touch,fade:!1,next:this.next,nextWhenVisible:this.nextWhenVisible,prev:this.prev,pause:this.pause,cycle:this.cycle,to:this.to,dispose:this.dispose}),(0,N.Z)(this,"autobind",!0)}async beforeBind(){await super.beforeBind(),this.classList.add("carousel","slide")}async afterBind(){this.carouselService=new yc(this,{interval:this.scope.interval,keyboard:this.scope.keyboard,slide:this.scope.slide,pause:this.scope.pauseOn,wrap:this.scope.wrap,touch:this.scope.touch}),this.scope.fade&&this.classList.add("carousel-fade"),this.carouselService.cycle(),await super.afterBind()}next(){this.carouselService&&this.carouselService.next()}nextWhenVisible(){this.carouselService&&this.carouselService.nextWhenVisible()}prev(){this.carouselService&&this.carouselService.prev()}pause(){this.carouselService&&this.carouselService.pause()}cycle(){this.carouselService&&this.carouselService.cycle()}to(){if(this.carouselService)throw new Error("TODO")}dispose(){this.carouselService&&this.carouselService.dispose()}connectedCallback(){super.connectedCallback(),super.init(bh.observedAttributes)}template(){return null}}(0,N.Z)(bh,"tagName","bs5-carousel");class yh{constructor(){(0,N.Z)(this,"events",[])}add(t,e,s){t.addEventListener(e,s,!1),this.events.push({target:t,type:e,handler:s})}remove(t,e,s){this.events=this.events.filter((i=>{let n=!0;return t&&t!==i.target&&(n=!1),e&&e!==i.type&&(n=!1),s&&s!==i.handler&&(n=!1),n&&yh._doRemove(i.target,i.type,i.handler),!n}))}static _doRemove(t,e,s){t.removeEventListener(e,s,!1)}destroy(){this.events.forEach((t=>yh._doRemove(t.target,t.type,t.handler))),this.events=[]}}const wh=(t,e,s)=>{let i=!1;const n=(t,e,s)=>Math.max(e,Math.min(t,s)),o=(t,o,r)=>{if(r&&(i=!0),!i)return;t.preventDefault();const a=e.getBoundingClientRect(),l=a.width,c=a.height,h=o.clientX,d=o.clientY,u=n(h-a.left,0,l),p=n(d-a.top,0,c);s(u/l,p/c)},r=(t,e)=>{1===(void 0===t.buttons?t.which:t.buttons)?o(t,t,e):i=!1};function a(t,e){1===t.touches.length?o(t,t.touches[0],e):i=!1}t.add(e,"mousedown",(t=>{r(t,!0)})),t.add(e,"touchstart",(t=>{a(t,!0)})),t.add(window,"mousemove",r),t.add(e,"touchmove",a),t.add(window,"mouseup",(()=>{i=!1})),t.add(e,"touchend",(()=>{i=!1})),t.add(e,"touchcancel",(()=>{i=!1}))},Eh="keydown";function Sh(t){t.preventDefault(),t.stopPropagation()}class Ch extends Fe{static get observedAttributes(){return["namespace","alpha","editor","editor-format","cancel-button","okay-button","color"]}constructor(){super(),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"scope",{namespace:"main",hsl:[],cssHue:"",cssHsl:"",cssHsla:"",alphaBg:"",color:"#0cf",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,okayButton:!1}),(0,N.Z)(this,"events",new yh),(0,N.Z)(this,"_domH",null),(0,N.Z)(this,"_domSL",null),(0,N.Z)(this,"_domA",null),(0,N.Z)(this,"_domEdit",null),(0,N.Z)(this,"_domSample",null),(0,N.Z)(this,"_domOkay",null),(0,N.Z)(this,"_domCancel",null),(0,N.Z)(this,"setColor",ut(this._setColor.bind(this))),(0,N.Z)(this,"updateUI",ut(this._updateUI.bind(this)))}connectedCallback(){super.connectedCallback(),super.init(Ch.observedAttributes)}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.eventDispatcher=it.getInstance("bs5-colorpicker:"+this.scope.namespace),this.setColor(this.scope.color),this.updateUI(),this.bindEvents()}async afterTemplate(t){await super.afterTemplate(t),this.setElements()}onChange(t){var e;this.debug("onChange",t),null===(e=this.eventDispatcher)||void 0===e||e.trigger("change",t)}onDone(t){var e;this.debug("onDone",t),null===(e=this.eventDispatcher)||void 0===e||e.trigger("done",t)}template(){return gt(this)?null:'<div class="picker-arrow"></div> <div class="picker-hue picker-slider" rv-style-color="cssHsl"> <div class="picker-selector"></div> </div> <div class="picker-sl" rv-style-background-color="cssHue" rv-style-color="cssHsl"> <div class="picker-selector"></div> </div> <div class="picker-alpha picker-slider" rv-show="alpha" rv-style-background-image="alphaBg"> <div class="picker-selector"></div> </div> <input class="picker-editor form-control" rv-show="editor" aria-label="Type a color name or hex value" rv-value="color"/> <div class="picker-sample" rv-style-color="cssHsla"></div> <button class="btn btn-success picker-done" rv-show="okayButton">Ok</button> <button class="btn btn-danger picker-cancel" rv-show="cancelButton">Cancel</button> '}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"color"===t&&this.setColor(this.scope.color)}_setColor(t){let e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{silent:!1};if("string"==typeof t&&(t=t.trim()),t){s=s||{};try{e=new al.Z(t)}catch(t){if(s.failSilently)return;throw t}if(!this.scope.alpha){const t=e.hsla;t[3]=1,e.hsla=t}this.color=e,this.setHSLA(null,null,null,null,s)}}setElements(){this._domH=this.querySelector(".picker-hue"),this._domSL=this.querySelector(".picker-sl"),this._domA=this.querySelector(".picker-alpha"),this._domEdit=this.querySelector(".picker-editor")||null,this._domSample=this.querySelector(".picker-sample"),this._domOkay=this.querySelector(".picker-done"),this._domCancel=this.querySelector(".picker-cancel")}disconnectedCallback(){this.events.destroy()}bindEvents(){const t=this.events,e=(e,s,i)=>{t.add(e,s,i)};e(this,"click",(t=>t.preventDefault()));const s=wh.bind(this);if(!(this._domH&&this._domSL&&this._domA&&this._domEdit&&this._domOkay))throw new Error("Not ready!");s(t,this._domH,(t=>this.setHSLA(t))),s(t,this._domSL,((t,e)=>this.setHSLA(null,t,1-e))),this.scope.alpha&&s(t,this._domA,((t,e)=>this.setHSLA(null,null,null,1-e))),e(this._domEdit,"input",(t=>{const e=t.target;this.setColor(e.value,{fromEditor:!0,failSilently:!0})})),e(this._domEdit,"focus",(t=>{const e=t.target;e.selectionStart===e.selectionEnd&&e.select()}));const i=()=>{this.onDone(this.color)};e(this._domOkay,"click",i),function(t,e,s,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t.add(e,Eh,(function(t){s.indexOf(t.key)>=0&&(n&&Sh(t),i(t))}))}(t,this,["Enter"],i)}setHSLA(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!this.color)throw new Error("Not ready!");const o=this.color.hsla;[t,e,s,i].forEach(((t,e)=>{(t||0===t)&&(o[e]=t)})),this.color.hsla=o,this.updateUI(n),this.onChange&&!n.silent&&this.onChange(this.color)}_updateUI(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this||!this.color)return;if(this.scope.hsl=this.color.hsla,this.scope.cssHue="hsl(".concat(360*this.scope.hsl[0],", 100%, 50%)"),this.scope.cssHsl=this.color.hslString,this.scope.cssHsla=this.color.hslaString,!this._domH||!this._domSL||!this._domA)throw new Error("Color ui elements not found!");const e=this._domH.querySelector(".picker-selector"),s=this._domSL.querySelector(".picker-selector"),i=this._domA.querySelector(".picker-selector");if(!(e&&s&&i&&this._domEdit&&this._domSample))throw console.error(e,s,i,this._domA,this._domSL,this._domH,this._domEdit,this._domSample),new Error("Not ready!");const n=(t,e,s)=>{e.style.left=100*s+"%"},o=(t,e,s)=>{e.style.top=100*s+"%"};n(this._domH,e,this.scope.hsl[0]),n(this._domSL,s,this.scope.hsl[1]),o(this._domSL,s,1-this.scope.hsl[2]),o(this._domA,i,1-this.scope.hsl[3]);const r=this.scope.cssHsl,a=r.replace("hsl","hsla").replace(")",", 0)"),l="linear-gradient(".concat([r,a],")");if(this.scope.alphaBg=l+", url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",!t.fromEditor){const t=this.scope.editorFormat,e=this.scope.alpha;let s;switch(t){case"rgb":s=this.color.printRGB(e);break;case"hsl":s=this.color.printHSL(e);break;default:s=this.color.printHex(e)}this.scope.color=s}}}(0,N.Z)(Ch,"tagName","bs5-colorpicker");class kh extends Fe{static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","scroll-offset","scroll-element"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,scrollOffset:0,anchors:[]})}connectedCallback(){super.connectedCallback(),this.init(kh.observedAttributes)}getIdFromElementOrParent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.id?t.id:e<=this.scope.findHeaderIdDepth&&t.parentElement?this.getIdFromElementOrParent(t.parentElement,++e):null}pushHeaders(t,e,s,i){t.querySelectorAll("h"+e).forEach((t=>{const n=this.getIdFromElementOrParent(t);n&&(i.push({element:t,href:"#"+n,title:t.innerHTML,childs:[]}),t.parentElement&&s>=e+1&&this.pushHeaders(t.parentElement,e+1,s,i[i.length-1].childs))}))}async afterBind(){if(this.scope.headerParentSelector&&this.scope.headersStart&&this.scope.headersDepth){if(this.wrapperElement=document.querySelector(this.scope.headerParentSelector)||void 0,this.scope.anchors=[],!this.wrapperElement)return void console.error("No wrapper element found!");this.pushHeaders(this.wrapperElement,this.scope.headersStart,this.scope.headersDepth,this.scope.anchors)}await super.afterBind()}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}async attributeChangedCallback(t,e,s,i){super.attributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback(),this.scope.anchors=[]}template(){return gt(this)?null:'<ul class="list-unstyled list-contents list-contents-level-1"> <li class="nav-item nav-item-level-1" rv-each-anachor="anchors"> <a class="nav-link p-0" rv-href="anachor.href" rv-html="anachor.title" rv-scroll-to-on-click="anachor.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="anachor.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-2"> <li class="nav-item nav-item-level-2" rv-each-child="anachor.childs"> <a class="nav-link p-0" rv-href="child.href" rv-html="child.title" rv-scroll-to-on-click="child.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="child.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-3"> <li class="nav-item nav-item-level-3" rv-each-childchild="child.childs"> <a class="nav-link p-0" rv-href="childchild.href" rv-html="childchild.title" rv-scroll-to-on-click="childchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-4"> <li class="nav-item nav-item-level-4" rv-each-childchildchild="childchild.childs"> <a class="nav-link p-0" rv-href="childchildchild.href" rv-html="childchildchild.title" rv-scroll-to-on-click="childchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-5"> <li class="nav-item nav-item-level-5" rv-each-childchildchildchild="childchildchild.childs"> <a class="nav-link p-0" rv-href="childchildchildchild.href" rv-html="childchildchildchild.title" rv-scroll-to-on-click="childchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchildchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-6"> <li class="nav-item nav-item-level-6" rv-each-childchildchildchildchild="childchildchildchild.childs"> <a class="nav-link p-0" rv-href="childchildchildchildchild.href" rv-html="childchildchildchildchild.title" rv-scroll-to-on-click="childchildchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul>'}}(0,N.Z)(kh,"tagName","bs5-contents");class Th extends Ue{static get observedAttributes(){return["size","width","height","src","color","direction"]}constructor(){super(),(0,N.Z)(this,"scope",{})}getSvg(){return this.querySelector("svg")}async fetchCached(t){let e=Th.cache.get(t);return e||(e=lt.get(t),e&&Th.cache.set(t,e),e)}async fetchIcon(t){var e,s;let i;if(null===(e=window)||void 0===e||!e.ssr||t.startsWith("http")||t.startsWith("ftp")||t.startsWith("sftp"))i=await this.fetchCached(t);else{let e;if(window.ssr.env.NEST_INTERN_URL)e=new URL(t,window.ssr.env.NEST_INTERN_URL);else{if(!window.ssr.ctx)throw new Error("Host for SSR not found!");e=new URL(t,window.ssr.ctx.protocol+"://"+window.ssr.ctx.hostname)}i=await this.fetchCached(e.href)}return 200!==i.status?(console.error(i.status),""):null!==(s=i.headers.get("content-type"))&&void 0!==s&&-1!==s.indexOf("image/svg+xml")?i.body:(console.error("[bs5-icon] Only SVG's are supported! But content-type is "+i.headers.get("content-type")),"")}async onSrcChanged(){let t="";if(!this.scope.src)return void(this.innerHTML="");const e=this.getSvg();if((e?e.getAttribute("src"):"")===this.scope.src)return;if(t=await this.fetchIcon(this.scope.src),!t)return void console.error("Error on fetch icon!");this.innerHTML=t;const s=this.getSvg();s&&s.setAttribute("src",this.scope.src)}setColor(t){if(-1!==t.indexOf(",")){const e=t.split(",");if(e.length>0){this.className=this.className.replace(/(^|\s)color-\S+/g,"");for(let t=0;t<e.length;t++){const s=e[t];(s.startsWith("#")||s.startsWith("rgb"))&&(this.style.color=s),this.classList.add("color-".concat(s))}}}else this.style.color=t,this.className=this.className.replace(/(^|\s)color-\S+/g,""),this.classList.add("color-".concat(t))}setSize(t){this.style.height=t+"px",this.style.width=t+"px",this.className=this.className.replace(/(^|\s)size-\S+/g,""),this.classList.add("size-".concat(t))}setWidth(t){this.style.width=t+"px",this.className=this.className.replace(/(^|\s)width-\S+/g,""),this.classList.add("width-".concat(t))}setHeight(t){this.style.height=t+"px",this.className=this.className.replace(/(^|\s)height-\S+/g,""),this.classList.add("height-".concat(t))}setDirection(t){let e="direction-".concat(t);"left"===t?e+=" rotate-270":"left-top"===t||"left-up"===t||"top-left"===t||"up-left"===t?e+=" rotate-315":"top"===t||"up"===t?e+=" rotate-0":"top-right"===t||"up-right"===t||"right-top"===t||"right-up"===t?e+=" rotate-45":"right"===t?e+=" rotate-90":"right-bottom"===t||"right-down"===t||"bottom-right"===t||"down-right"===t?e+=" rotate-135":"bottom"===t||"down"===t?e+=" rotate-180":"left-bottom"!==t&&"left-down"!==t&&"bottom-left"!==t&&"down-left"!==t||(e+=" rotate-225"),this.className=this.className.replace(/(^|\s)direction-\S+/g,""),this.className=this.className.replace(/(^|\s)rotate-\S+/g,""),this.className+=" "+e}async attributeChangedCallback(t,e,s,i){super.attributeChangedCallback(t,e,s,i),"src"===t&&this.onSrcChanged(),"color"===t&&this.setColor(s),"size"===t&&this.setSize(s),"width"===t&&this.setWidth(s),"height"===t&&this.setHeight(s),"direction"===t&&this.setDirection(s)}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true"),this.setAttribute("role","img"),this.classList.add("iconset"),this.init(Th.observedAttributes),this.scope.direction||(this.scope.direction="up",this.attributeChangedCallback("direction",null,this.scope.direction,null))}template(){return null}}(0,N.Z)(Th,"tagName","bs5-icon"),(0,N.Z)(Th,"cache",new Li);class Ah extends kh{static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","offset","offset-bottom","scroll-offset"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,offset:0,offsetBottom:0,scrollOffset:0,anchors:[]})}connectedCallback(){super.connectedCallback(),this.init(Ah.observedAttributes)}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}template(){return gt(this)?null:'<ul class="list-unstyled list-scrollspy list-scrollspy-level-1"> <li class="nav-item nav-item-level-1" rv-each-anachor="anchors" rv-bs5-scrollspy-active="anachor.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link" rv-href="anachor.href" rv-html="anachor.title" rv-scroll-to-on-click="anachor.href" rv-data-offset="scrollOffset"></a> <ul rv-if="anachor.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-2"> <li class="nav-item nav-item-level-2" rv-each-child="anachor.childs" rv-bs5-scrollspy-active="child.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link" rv-href="child.href" rv-html="child.title" rv-scroll-to-on-click="child.href" rv-data-offset="scrollOffset"></a> <ul rv-if="child.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-3"> <li class="nav-item nav-item-level-3" rv-each-childchild="child.childs" rv-bs5-scrollspy-active="childchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchild.href" rv-html="childchild.title" rv-scroll-to-on-click="childchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-4"> <li class="nav-item nav-item-level-4" rv-each-childchildchild="childchild.childs" rv-bs5-scrollspy-active="childchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchild.href" rv-html="childchildchild.title" rv-scroll-to-on-click="childchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-5"> <li class="nav-item nav-item-level-5" rv-each-childchildchildchild="childchildchild.childs" rv-bs5-scrollspy-active="childchildchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchildchild.href" rv-html="childchildchildchild.title" rv-scroll-to-on-click="childchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchildchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-6"> <li class="nav-item nav-item-level-6" rv-each-childchildchildchildchild="childchildchildchild.childs" rv-bs5-scrollspy-active="childchildchildchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchildchildchild.href" rv-html="childchildchildchildchild.title" rv-scroll-to-on-click="childchildchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul>'}}(0,N.Z)(Ah,"tagName","bs5-scrollspy");class _h extends Fe{static get observedAttributes(){return["type","title","text","url","media-url","filename","label","dropdown-direction","label-facebook","label-twitter","label-pinterest","label-whatsapp","label-telegram","label-email","label-download","label-clipboard"]}constructor(){super(),(0,N.Z)(this,"_debug",!1),this.scope=this.getScopeDefaults(),_h.count++,this.onExternalOpenEvent=this.onExternalOpenEvent.bind(this),this.onExternalCloseEvent=this.onExternalCloseEvent.bind(this)}getFilename(t){if(t.filename)return t.filename;return this.getMediaUrlForShare().split("/").pop()}getDefaultShareServices(){const t="%0A";return[{id:"facebook",label:this.scope.labelFacebook,urlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{url}}",mediaUrlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{media_url}}",type:"popup",url:"",availableFor:["page","image","video"]},{id:"twitter",label:this.scope.labelTwitter,urlTemplate:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}",mediaUrlTemplate:"https://twitter.com/intent/tweet?text={{text}}&url={{media_url}}".concat(t,"({{url}})"),url:"",availableFor:["page","image","video"]},{id:"pinterest",label:this.scope.labelPinterest,urlTemplate:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{media_url}}&description={{text}}",type:"popup",url:"",availableFor:["image","video"]},{id:"whatsapp",label:this.scope.labelWhatsapp,urlTemplate:"https://api.whatsapp.com/send?text={{text}}".concat(t).concat(t,"{{url}}"),mediaUrlTemplate:"https://api.whatsapp.com/send?text={{text}}".concat(t).concat(t,"{{media_url}}").concat(t,"({{url}})"),type:"popup",url:"",availableFor:["page","image","video"]},{id:"telegram",label:this.scope.labelTelegram,urlTemplate:"https://telegram.me/share/url?url={{url}}&text={{text}}",mediaUrlTemplate:"https://telegram.me/share/url?url={{media_url}}&text={{text}}".concat(t,"({{url}})"),type:"popup",url:"",availableFor:["page","image","video"]},{id:"email",label:this.scope.labelEmail,urlTemplate:"mailto:?subject={{title}}&body={{text}}".concat(t).concat(t,"{{url}}"),mediaUrlTemplate:"mailto:?subject={{title}}&body={{text}}".concat(t).concat(t,"{{media_url}}").concat(t,"({{url}})"),type:"href",url:"",availableFor:["page","image","video"]},{id:"download",label:this.scope.labelDownload,urlTemplate:"{{raw_media_url}}",type:"download",url:"",availableFor:["image","video"],filename:this.scope.filename},{id:"clipboard",label:this.scope.labelClipboard,urlTemplate:"{{url}}",mediaUrlTemplate:"{{media_url}}",type:"clipboard",url:"",availableFor:["page","image","video"]}]}isIos(){return null!==navigator.userAgent.match(/iPhone|iPad|iPod/i)}isAndroid(){return null!==navigator.userAgent.match(/Android/i)}browserSupportsNativeShare(){return"function"==typeof navigator.share}getScopeDefaults(){const t={type:"page",title:document.title,text:"Look at this! 👀🤩",url:void 0,label:"Share",labelTemplate:'<div class="share-label" rv-on-click="share" role="button" aria-haspopup="true" aria-expanded="false" rv-text="label"></div> ',isAndroid:this.isAndroid(),isIos:this.isIos(),isDesktop:!1,isNative:this.browserSupportsNativeShare(),dropdownId:"dropdownShare"+_h.count,shareItems:[],dropdownDirection:"down",labelFacebook:"Facebook",labelTwitter:"Twitter",labelPinterest:"Pinterest",labelWhatsapp:"Whatsapp",labelTelegram:"Telegram",labelEmail:"Email",labelDownload:"Download",labelClipboard:"Copy to clipboard",share:this.share,shareOnService:this.shareOnService,getFilename:this.getFilename};return t.isDesktop=!t.isIos&&!t.isAndroid,t}onExternalOpenEvent(){var t;null===(t=this.dropdown)||void 0===t||t.show()}onExternalCloseEvent(){var t;null===(t=this.dropdown)||void 0===t||t.hide()}connectedCallback(){super.connectedCallback(),this.init(_h.observedAttributes),this.addEventListeners()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListeners()}addEventListeners(){this.addEventListener("open",this.onExternalOpenEvent),this.addEventListener("btn-close",this.onExternalCloseEvent)}removeEventListeners(){this.removeEventListener("open",this.onExternalOpenEvent),this.removeEventListener("btn-close",this.onExternalOpenEvent)}getURLForShare(){return"page"===this.scope.type&&this.scope.url?jt(this.scope.url):window.location.href}getMediaUrlForShare(){return"page"!==this.scope.type&&this.scope.url?jt(this.scope.url):""}getTextForShare(){return W(this.scope.text)}getTitleForShare(){return W(this.scope.title)}updateShareURLs(){for(const t of this.scope.shareItems){const e=this.getURLForShare(),s=this.getMediaUrlForShare(),i=this.getTextForShare(),n=this.getTitleForShare();let o=t.urlTemplate;"page"!==this.scope.type&&t.mediaUrlTemplate&&(o=t.mediaUrlTemplate);const r="clipboard"!==t.type,a=o.replace("{{url}}",r?encodeURIComponent(e):e).replace("{{media_url}}",r?encodeURIComponent(s):s).replace("{{raw_media_url}}",s).replace("{{text}}",r?encodeURIComponent(i):i).replace("{{title}}",r?encodeURIComponent(n):n);t.available=-1!==t.availableFor.indexOf(this.scope.type),t.url=a}}initDropdown(){const t=this.querySelector(".dropdown-toggle-share");t?this.dropdown=new Lc(t):console.warn('Element with selector ".dropdown-toggle-share" not found!',this)}async shareOnService(t,e){var s;return null===(s=this.dropdown)||void 0===s||s.hide(),"clipboard"===t.type?(e.preventDefault(),e.stopPropagation(),await Bt(t.url),!1):"download"===t.type||(e.preventDefault(),e.stopPropagation(),window.open(t.url,"Share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),!1)}async share(t){var e;if(this.debug("share",this.scope),t.preventDefault(),t.stopPropagation(),!this.scope.isNative||this.scope.isDesktop)return this.updateShareURLs(),null===(e=this.dropdown)||void 0===e?void 0:e.toggle();try{await navigator.share({title:this.scope.title,text:"".concat(this.scope.text,"\r\n\r\n"),url:this.scope.url||window.location.href})}catch(t){if("AbortError"===t.name)return;console.error("Error ".concat(t.name,": ").concat(t.message),t)}}async beforeBind(){await super.beforeBind()}async afterBind(){this.initDropdown(),this.debug("afterBind",this.scope),this.scope.shareItems=this.getDefaultShareServices(),await super.afterBind()}requiredAttributes(){return[]}template(){return this&&gt(this)&&(this.scope.labelTemplate=this.innerHTML),'<div rv-add-class="\'drop\' | append dropdownDirection"> <div class="dropdown-toggle dropdown-toggle-share" rv-id="dropdownId" rv-template="labelTemplate"></div> <div class="dropdown-menu" rv-aria-labelledby="dropdownId"> <div rv-each-item="shareItems" rv-show="item.available" rv-on-click="shareOnService | args item"> <a rv-if="item.type | eq \'download\'" class="dropdown-item no-barba cursor-pointer" rv-type="item.type" target="_blank" rv-download="getFilename | call item" rv-href="item.url" rv-html="item.label"> </a> <div class="dropdown-item cursor-pointer" rv-unless="item.type | eq \'download\'" rv-type="item.type" rv-html="item.label"></div> </div> </div> </div>'}}(0,N.Z)(_h,"tagName","bs5-share"),(0,N.Z)(_h,"count",0);class Lh extends Fe{static get observedAttributes(){return["id","container-selector","position","mode","width","auto-show-on-wider-than","auto-hide-on-slimmer-than","force-hide-on-location-pathnames","force-show-on-location-pathnames","mode-on-slimmer-than","watch-new-page-ready-event","close-on-swipe"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"touch",new jl(this)),(0,N.Z)(this,"routerEvents",new it("main")),(0,N.Z)(this,"scope",{containerSelector:void 0,state:"hidden",oldState:"hidden",id:void 0,width:"250px",position:"left",mode:"overlap",autoShowOnWiderThan:-1,autoHideOnSlimmerThan:-1,watchNewPageReadyEvent:!0,forceHideOnLocationPathnames:[],forceShowOnLocationPathnames:[],modeOnSlimmerThan:-1,closeOnSwipe:!0,hide:this.hide,show:this.show,toggle:this.toggle}),(0,N.Z)(this,"onSwipe",this._onSwipe.bind(this)),(0,N.Z)(this,"onEnvironmentChanges",ut(this._onEnvironmentChanges.bind(this))),this.bs5=Yc.getSingleton(),this.onEnvironmentChanges=this.onEnvironmentChanges.bind(this)}setState(t){this.scope.oldState=this.scope.state,this.scope.state=t,this.onStateChange()}getState(){return this.scope.state}modeIsActive(){if(-1===this.scope.modeOnSlimmerThan)return!0;return St().w<this.scope.modeOnSlimmerThan}getShowMode(){let t;return t=this.modeIsActive()?"".concat(this.scope.mode,"-").concat(this.scope.position):"side-".concat(this.scope.position),t}hide(){this.modeIsActive()?this.setState("hidden"):console.warn('Ignore hide because the mode "'.concat(this.scope.mode,'" is inactive. You can change this by the "mode-on-slimmer-than" attribute (Current value is ').concat(this.scope.modeOnSlimmerThan,")!"))}show(){const t=this.getShowMode();this.setState(t)}toggle(){this.debug("toggle state: "+this.scope.state),"hidden"===this.scope.state?this.show():this.hide(),this.debug("toggled state: "+this.scope.state)}connectedCallback(){super.connectedCallback(),this.init(Lh.observedAttributes),this.computedStyle=window.getComputedStyle(this),this.addEventListeners(),this.onEnvironmentChanges()}addEventListeners(){window.addEventListener("resize",this.onEnvironmentChanges,{passive:!0}),this.addEventListener("swipe",this.onSwipe)}removeEventListeners(){var t,e;null===(t=this.events)||void 0===t||t.off(qc.eventNames.init,this.triggerState,this),null===(e=this.events)||void 0===e||e.off(qc.eventNames.toggle,this.toggle,this),this.routerEvents.off("newPageReady",this.onEnvironmentChanges,this),window.removeEventListener("resize",this.onEnvironmentChanges)}initToggleButtonEventDispatcher(){this.events&&(this.events.off(qc.eventNames.toggle,this.toggle,this),this.events.off(qc.eventNames.init,this.triggerState,this));const t=qc.nsPrefix+this.scope.id;this.debug("Init event dispatcher for namespace  ".concat(t)),this.events=new it(t),this.events.on(qc.eventNames.toggle,this.toggle,this),this.events.on(qc.eventNames.init,this.triggerState,this)}initRouterEventDispatcher(){this.scope.watchNewPageReadyEvent&&this.routerEvents.on("newPageReady",this.onEnvironmentChanges,this)}_onSwipe(t){this.scope.closeOnSwipe&&"side-left"!==this.scope.state&&"side-right"!==this.scope.state&&("left"===this.scope.position&&"left"===t.detail.direction&&this.hide(),"right"===this.scope.position&&"right"===t.detail.direction&&this.hide())}onHidden(){this.setContainersStyle(this.scope.state);const t="left"===this.scope.position?"-100%":"100%";this.style.transform="translateX(".concat(t,")"),this.style.width=this.scope.width}onMove(t){this.setContainersStyle(t),this.style.transform="translateX(0)",this.style.width=this.scope.width}onSide(t){this.setContainersStyle(t),this.style.transform="translateX(0)",this.style.width=this.scope.width}onOverlap(t){this.setContainersStyle(t),this.style.transform="translateX(0)",this.style.width=this.scope.width}triggerState(){var t;null===(t=this.events)||void 0===t||t.trigger("state",this.scope.state)}onStateChange(){switch(this.scope.state){case"side-left":case"side-right":this.onSide(this.scope.state);break;case"overlap-left":case"overlap-right":this.onOverlap(this.scope.state);break;case"move-left":case"move-right":this.onMove(this.scope.state);break;default:this.onHidden()}this.events&&this.events.trigger(qc.eventNames.toggled,this.scope.state),this.dispatchEvent(new CustomEvent(qc.eventNames.toggled,{detail:this.scope.state}))}get width(){return this.offsetWidth?this.offsetWidth+"px":this.scope.width}setStateByEnvironment(){if(-1!==this.scope.forceHideOnLocationPathnames.indexOf(window.location.pathname))return this.hide();if(-1!==this.scope.forceShowOnLocationPathnames.indexOf(window.location.pathname))return this.show();const t=St().w;return this.scope.autoHideOnSlimmerThan>-1&&t<this.scope.autoHideOnSlimmerThan?this.hide():this.scope.autoShowOnWiderThan>-1&&t>this.scope.autoShowOnWiderThan?this.show():void 0}_onEnvironmentChanges(){this.setStateByEnvironment()}getContainers(){return this.scope.containerSelector?document.querySelectorAll(this.scope.containerSelector):void 0}initContainers(t){this.setContainersStyle(t)}setContainersStyle(t){const e=this.getContainers()||[];if(e)for(let s=0;s<e.length;s++){const i=e[s];this.setContainerStyle(i,t)}}setContainerStyle(t,e){const s=t.style;if(e){const i=this.width,n=window.getComputedStyle(t);if("move"===this.scope.mode&&e.startsWith("overlap-"))switch(n.position){case"fixed":case"absolute":s.left="0",s.right="0";break;default:s.marginLeft="0",s.marginRight="0"}switch(e){case"side-left":switch(n.position){case"fixed":case"absolute":s.left=i;break;default:s.marginLeft=i}break;case"side-right":switch(n.position){case"fixed":case"absolute":s.right=i;break;default:s.marginRight=i}break;case"move-left":switch(n.position){case"fixed":case"absolute":s.left=i,s.right="-".concat(i);break;default:s.marginLeft=i,s.marginRight="-".concat(i)}break;case"move-right":switch(n.position){case"fixed":case"absolute":s.right=i,s.left="-".concat(i);break;default:s.marginRight=i,s.marginLeft="-".concat(i)}break;case"hidden":switch(this.scope.oldState){case"side-left":switch(n.position){case"fixed":case"absolute":s.left="0";break;default:s.marginLeft="0"}break;case"side-right":switch(n.position){case"fixed":case"absolute":s.right="0";break;default:s.marginRight="0"}break;case"move-left":switch(n.position){case"fixed":case"absolute":s.left="0",s.right="0";break;default:s.marginRight="0",s.marginLeft="0"}break;case"move-right":switch(n.position){case"fixed":case"absolute":s.right="0",s.left="0";break;default:s.marginRight="0",s.marginLeft="0"}}}}t.style.transition=this.computedStyle?this.computedStyle.transition:""}async beforeBind(){return await super.beforeBind(),this.scope.oldState=this.getShowMode(),this.initRouterEventDispatcher(),this.onEnvironmentChanges()}async afterBind(){this.onEnvironmentChanges(),await super.afterBind()}requiredAttributes(){return["id"]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"containerSelector"===t&&this.initContainers(this.scope.state),"id"===t&&this.initToggleButtonEventDispatcher(),"autoShowOnWiderThan"!==t&&"autoHideOnSlimmerThan"!==t&&"modeOnSlimmerThan"!==t||this.parseBreakpointAttributes(t,s)}parseBreakpointAttributes(t,e){if("autoShowOnWiderThan"===t&&"string"==typeof e){const t=this.bs5.getBreakpointByName(e);"number"==typeof(null==t?void 0:t.dimension)?this.scope.autoShowOnWiderThan=t.dimension-1:(console.warn("Unknown breakpoint for autoShowOnWiderThan attribute: "+e),this.scope.autoShowOnWiderThan=-1)}if("autoHideOnSlimmerThan"===t&&"string"==typeof e){const t=this.bs5.getBreakpointByName(e);"number"==typeof(null==t?void 0:t.dimension)?this.scope.autoHideOnSlimmerThan=t.dimension-1:(console.warn("Unknown breakpoint for autoHideOnSlimmerThan attribute: "+e),this.scope.autoHideOnSlimmerThan=-1)}if("modeOnSlimmerThan"===t&&"string"==typeof e){const t=this.bs5.getBreakpointByName(e);"number"==typeof(null==t?void 0:t.dimension)?this.scope.modeOnSlimmerThan=t.dimension-1:(console.warn("Unknown breakpoint for modeOnSlimmerThan attribute: "+e),this.scope.modeOnSlimmerThan=-1)}}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListeners()}template(){return gt(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}}(0,N.Z)(Lh,"tagName","bs5-sidebar");function Oh(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function xh(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Oh(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Oh(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Ph=".slideshow-row",Nh="".concat(Ph," .slide");class Ih extends We{get slideshowInner(){return this.querySelector(Ph)}get slideElements(){return this.querySelectorAll(Nh)}get controlsElements(){return this.querySelectorAll(".slideshow-control-prev, .slideshow-control-next")}get indicatorsElement(){return this.querySelector(".slideshow-indicators")}static get observedAttributes(){const t=Yc.getSingleton().breakpointNames,e=[];for(const s of t)e.push(...this.responsiveAttributes.map((t=>"".concat(s,"-").concat(t))));return["items",...e]}static get responsiveProperties(){return this.responsiveAttributes.map((t=>Y(t)))}getDefaultBreakpointOptions(){return X(!0,this._defaultBreakpointOptions)}constructor(){super(),(0,N.Z)(this,"_defaultBreakpointOptions",{slidesToScroll:1,controls:!0,controlsPosition:"inside-middle",pauseOnHover:!0,sticky:!1,indicators:!0,indicatorsPosition:"inside-bottom",pause:!1,drag:!0,touchScroll:!0,autoplay:!1,autoplayInterval:0,autoplayVelocity:.8,controlPrevIconSrc:"",controlNextIconSrc:"",indicatorActiveIconSrc:"",indicatorInactiveIconSrc:"",angle:"horizontal",breakpoint:0,name:"xs",infinite:!0}),(0,N.Z)(this,"templateAttributes",[{name:"class",required:!1},{name:"handle",required:!1},{name:"type",required:!0},{name:"active",type:"boolean",required:!1},{name:"index",type:"number",required:!1},{name:"src",type:"string",required:!1}]),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"templateControls",'<button rv-show="activeBreakpoint.controls" class="btn btn-link slideshow-controls slideshow-control-prev" rv-add-class="controlsPositionClass" role="button" data-slide="prev" rv-on-click="prev"> <bs5-icon rv-if="activeBreakpoint.controlPrevIconSrc" rv-src="activeBreakpoint.controlPrevIconSrc" direction="left" size="24"></bs5-icon> <span rv-hide="activeBreakpoint.controlPrevIconSrc" class="btn btn-link slideshow-control-fallback-prev-icon" aria-hidden="true"></span> <span class="visually-hidden">Previous</span> </button> <button rv-show="activeBreakpoint.controls" class="btn btn-link slideshow-controls slideshow-control-next" rv-add-class="controlsPositionClass" role="button" data-slide="next" rv-on-click="next"> <bs5-icon rv-if="activeBreakpoint.controlNextIconSrc" rv-src="activeBreakpoint.controlNextIconSrc" direction="right" size="24"></bs5-icon> <span rv-hide="activeBreakpoint.controlNextIconSrc" class="slideshow-control-fallback-next-icon" aria-hidden="true"></span> <span class="visually-hidden">Next</span> </button> '),(0,N.Z)(this,"templateIndicators",'<ol rv-if="activeBreakpoint.indicators" class="slideshow-indicators" rv-add-class="indicatorsPositionClass"> <li rv-each-slide="items" rv-class-active="slide.active" rv-on-click="goTo | args slide.index"> <bs5-icon rv-hide="slide.active" rv-src="activeBreakpoint.indicatorInactiveIconSrc" size="16"></bs5-icon> <bs5-icon rv-show="slide.active" rv-src="activeBreakpoint.indicatorActiveIconSrc" size="16"></bs5-icon> </li> </ol> '),(0,N.Z)(this,"autoplayIntervalIndex",null),(0,N.Z)(this,"continuousAutoplayIntervalIndex",null),(0,N.Z)(this,"resumeTimer",null),(0,N.Z)(this,"routerEvents",new it("main")),(0,N.Z)(this,"activeBreakpointName","xs"),(0,N.Z)(this,"scope",{breakpoints:{},activeBreakpoint:this.getDefaultBreakpointOptions(),next:this.next.bind(this),prev:this.prev.bind(this),goTo:this.goTo.bind(this),enableTouchScroll:this.enableTouchScroll.bind(this),disableTouchScroll:this.disableTouchScroll.bind(this),items:void 0,controlsPositionClass:"",indicatorsPositionClass:"",intervalCount:0,intervalProgress:0,nextIndex:-1,prevIndex:-1,activeIndex:0}),(0,N.Z)(this,"onBreakpointChanges",this._onBreakpointChanges.bind(this)),(0,N.Z)(this,"onViewChanges",ut(this._onViewChanges.bind(this))),(0,N.Z)(this,"onScroll",ut(this._onScroll.bind(this))),(0,N.Z)(this,"onMouseUp",pt(this._onMouseUp.bind(this))),(0,N.Z)(this,"resume",pt(this._resume.bind(this),500)),this.bs5=Yc.getSingleton(),this.onViewChanges=this.onViewChanges.bind(this),this.onVisibilityChanged=this.onVisibilityChanged.bind(this),this.onScroll=this.onScroll.bind(this),this.onScrollend=this.onScrollend.bind(this),this.onMouseIn=this.onMouseIn.bind(this),this.onMouseOut=this.onMouseOut.bind(this)}next(){this.scrollToNextSlide()}prev(){this.scrollToPrevSlide()}goTo(t){var e;if(t<0||null===(e=this.scope.items)||void 0===e||!e[t]||!this.slideElements[t]||!this.slideshowInner)return this.throw(new Error("Can't go to slide of index ".concat(t))),console.error("items",this.scope.items),console.error("this.slideElements",this.slideElements),void console.error("this.slideshowInner",this.slideshowInner);this.setSlidePositions(),this.slideElements[t]?(yt(this.slideElements[t],0,this.slideshowInner,this.scope.activeBreakpoint.angle),this.setSlideActive(t)):this.throw(new Error('Slide element with index "'.concat(t,'" not found!')))}getNextIndex(t){let e=t+this.scope.activeBreakpoint.slidesToScroll;if(e>=this.slideElements.length){if(!this.scope.activeBreakpoint.infinite)return this.slideElements.length-1;e-=this.slideElements.length}return e}getPrevIndex(t){let e=t-this.scope.activeBreakpoint.slidesToScroll;if(e<0){if(!this.scope.activeBreakpoint.infinite)return 0;e=this.slideElements.length-1+(e+1)}return e}scrollToNearestSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex();return this.goTo(t)}scrollToNextSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex(),e=this.getNextIndex(t);return this.goTo(e)}scrollToPrevSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex(),e=this.getPrevIndex(t);return this.goTo(e)}setOptions(t,e){const s=Ih.responsiveProperties;for(const i of s)t[i]=void 0!==e[i]?X(!1,e[i]):t[i]}setOptionsIfUndefined(t,e){const s=Ih.responsiveProperties;for(const i of s)t[i]=void 0===t[i]?X(!1,e[i]):t[i]}initResponsiveOptions(){const t=Yc.getSingleton().breakpointNames;for(let s=1;s<t.length;s++){var e;const i=t[s],n=t[s-1];this.scope.breakpoints[i]=this.scope.breakpoints[i]||{},this.scope.breakpoints[n]=this.scope.breakpoints[n]||{};const o=this.scope.breakpoints[i],r=this.scope.breakpoints[n];o.breakpoint=(null===(e=this.bs5.getBreakpointByName(i))||void 0===e?void 0:e.dimension)||0,o.name=i,r&&(1===s&&this.setOptionsIfUndefined(r,this.getDefaultBreakpointOptions()),this.setOptionsIfUndefined(o,r))}this.setOptionsByBreakpoint(this.bs5.activeBreakpoint)}setControlsOptions(){let t="",e=0;for(const i in this.scope.breakpoints){var s;const n=this.scope.breakpoints[i],o=null===(s=n.controlsPosition)||void 0===s?void 0:s.split("-");n.controls&&2===o.length&&(t+=0===e?"control-".concat(o[0]," control-").concat(o[1]," "):"control-".concat(i,"-").concat(o[0]," control-").concat(i,"-").concat(o[1]," ")),e++}this.scope.controlsPositionClass=t.trim()}setIndicatorsOptions(){let t="",e=0;for(const i in this.scope.breakpoints){var s;const n=this.scope.breakpoints[i],o=null===(s=n.indicatorsPosition)||void 0===s?void 0:s.split("-");n.indicators&&2===o.length&&(t+=0===e?"indicators-".concat(o[0]," indicators-").concat(o[1]," "):"indicators-".concat(i,"-").concat(o[0]," indicators-").concat(i,"-").concat(o[1]," ")),e++}this.scope.indicatorsPositionClass=t.trim()}getBreakpointOptionsByBreakpointName(t){return this.scope.breakpoints[t]}setOptionsByBreakpoint(t){if(!t)return void console.warn("Breakpoint not found!");const e=this.getBreakpointOptionsByBreakpointName(t.name);e?(this.setOptions(this.scope.activeBreakpoint,e),this.scope.activeBreakpoint.autoplay?this.enableAutoplay():this.disableAutoplay(),this.scope.activeBreakpoint.drag?this.enableDesktopDragscroll():this.disableDesktopDragscroll(),this.scope.activeBreakpoint.touchScroll?this.enableTouchScroll():this.disableTouchScroll(),this.setControlsOptions(),this.setIndicatorsOptions()):console.warn('Breakpoint options for "'.concat(t.name,'" not found!'))}_onBreakpointChanges(t){this.setOptionsByBreakpoint(t)}_onViewChanges(){var t,e;if(this.debug("onViewChanges"),null!==(t=this.scope.items)&&void 0!==t&&t.length&&null!==(e=this.slideElements)&&void 0!==e&&e.length)try{this.setSlidePositions();const t=this.setCenteredSlideActive();this.scope.activeBreakpoint.sticky&&this.goTo(t)}catch(t){this.throw(t)}}onVisibilityChanged(t){var e,s;t.detail.visible&&(null===(e=this.dragscrollService)||void 0===e||e.checkDraggable(),null===(s=this.continuousAutoplayService)||void 0===s||s.update())}_onScroll(){}onScrollend(){var t;if(null!==(t=this.scope.items)&&void 0!==t&&t.length)try{this.setSlidePositions(),this.setCenteredSlideActive(),this.scope.activeBreakpoint.sticky&&this.scrollToNearestSlide()}catch(t){this.throw(t)}}onMouseIn(){this.scope.activeBreakpoint.pauseOnHover&&(this.scope.activeBreakpoint.pause=!0)}onMouseOut(){this.resume()}_onMouseUp(){}_resume(){this.setSlidePositions(),this.scope.activeBreakpoint.pause=!1}connectedCallback(){var t;null!==(t=this.scope.items)&&void 0!==t&&t.length||!this.slideElements||this.addItemsByChilds(),super.connectedCallback(),this.init(Ih.observedAttributes),this.addEventListeners()}addEventListeners(){var t,e,s;(this.routerEvents.on("newPageReady",this.onViewChanges),window.ResizeObserver)&&(this.resizeObserver=new window.ResizeObserver(this.onViewChanges),null===(s=this.resizeObserver)||void 0===s||s.observe(this));window.addEventListener("resize",this.onViewChanges,{passive:!0}),this.bs5.events.on("breakpoint:changed",this.onBreakpointChanges),this.addEventListener("visibility-changed",this.onVisibilityChanged),null===(t=this.slideshowInner)||void 0===t||t.addEventListener("scroll",this.onScroll,{passive:!0}),null===(e=this.slideshowInner)||void 0===e||e.addEventListener("scrollended",this.onScrollend,{passive:!0}),this.addEventListener("mouseenter",this.onMouseIn,{passive:!0}),this.addEventListener("mouseover",this.onMouseIn,{passive:!0}),this.addEventListener("focusin",this.onMouseIn,{passive:!0}),this.addEventListener("touchstart",this.onMouseIn,{passive:!0}),this.addEventListener("mouseleave",this.onMouseOut,{passive:!0}),this.addEventListener("focusout",this.onMouseOut,{passive:!0}),this.addEventListener("mouseup",this.onMouseUp,{passive:!0}),this.addEventListener("touchend",this.onMouseUp,{passive:!0}),this.addEventListener("scroll",this.onMouseUp,{passive:!0}),this.addEventListener("scrollend",this.onMouseUp,{passive:!0}),this.addEventListener("scrollended",this.onMouseUp,{passive:!0})}removeEventListeners(){var t,e,s;this.routerEvents.off("newPageReady",this.onViewChanges,this),window.removeEventListener("resize",this.onViewChanges),null===(t=this.resizeObserver)||void 0===t||t.unobserve(this),this.bs5.events.off("breakpoint:changed",this.onViewChanges,this),this.removeEventListener("visibility-changed",this.onVisibilityChanged),null===(e=this.slideshowInner)||void 0===e||e.removeEventListener("scroll",this.onScroll),null===(s=this.slideshowInner)||void 0===s||s.removeEventListener("scrollended",this.onScrollend),this.removeEventListener("mouseenter",this.onMouseIn),this.removeEventListener("mouseover",this.onMouseIn),this.removeEventListener("focusin",this.onMouseIn),this.removeEventListener("touchstart",this.onMouseIn),this.removeEventListener("mouseleave",this.onMouseOut),this.removeEventListener("focusout",this.onMouseOut),this.removeEventListener("mouseup",this.onMouseUp),this.removeEventListener("touchend",this.onMouseUp),this.removeEventListener("scroll",this.onMouseUp),this.removeEventListener("scrollend",this.onMouseUp),this.removeEventListener("scrollended",this.onMouseUp)}initAll(){this.initSlideshowInner(),this.initResponsiveOptions(),this.addEventListeners(),this.onViewChanges(),this.onScrollend()}async beforeBind(){await super.beforeBind(),this.validateItems()}async afterBind(){this.initAll(),await super.afterBind()}initSlideshowInner(){this.slideshowInner?this.scrollEventsService=new Rl(this.slideshowInner):this.throw(new Error("Can't init slideshow inner!"))}enableDesktopDragscroll(){if(!this.dragscrollService){if(!this.slideshowInner)return;const t={detectGlobalMove:!0};this.dragscrollService=new Dl(this.slideshowInner,t)}}disableDesktopDragscroll(){this.dragscrollService&&(this.dragscrollService.destroy(),this.dragscrollService=void 0)}enableTouchScroll(){this.classList.remove("touchscroll-disabled")}disableTouchScroll(){this.classList.add("touchscroll-disabled")}enableContinuousAutoplay(){if(!this.continuousAutoplayService&&this.slideshowInner){const t={velocity:this.scope.activeBreakpoint.autoplayVelocity,angle:this.scope.activeBreakpoint.angle,pauseOnHover:this.scope.activeBreakpoint.pauseOnHover};this.continuousAutoplayService=new Il(this.slideshowInner,t)}if(!this.continuousAutoplayIntervalIndex){const t=1e4*this.scope.activeBreakpoint.autoplayVelocity;this.continuousAutoplayIntervalIndex=window.setInterval(this.onScrollend.bind(this),t)}}disableContinuousAutoplay(){this.continuousAutoplayService&&(this.continuousAutoplayService.destroy(),this.continuousAutoplayService=void 0),this.continuousAutoplayIntervalIndex&&(window.clearInterval(this.continuousAutoplayIntervalIndex),this.continuousAutoplayIntervalIndex=null)}resetIntervalAutoplay(){this.scope.intervalCount=0,this.scope.intervalProgress=0}enableIntervalAutoplay(){this.resetIntervalAutoplay(),null===this.autoplayIntervalIndex&&(this.autoplayIntervalIndex=window.setInterval((()=>{this.scope.activeBreakpoint.pause||(this.scope.intervalCount+=100,this.scope.intervalProgress=this.scope.intervalCount/this.scope.activeBreakpoint.autoplayInterval*100,this.scope.intervalProgress>=100&&this.next())}),100))}disableIntervalAutoplay(){this.autoplayIntervalIndex&&(window.clearInterval(this.autoplayIntervalIndex),this.autoplayIntervalIndex=null)}disableAutoplay(){this.disableIntervalAutoplay(),this.disableContinuousAutoplay()}enableAutoplay(){this.scope.activeBreakpoint.autoplayInterval<=0?this.enableContinuousAutoplay():this.enableIntervalAutoplay()}transformTemplateAttributes(t,e){return(t=super.transformTemplateAttributes(t,e)).handle=t.handle||e.toString(),t.index=e,t.class=t.class||"",t.class+=" slide",t}validateItems(){if(this.scope.items)for(let t=0;t<this.scope.items.length;t++){const e=this.scope.items[t];e.index=e.index||t,e.active=e.active||!1,e.title=e.title||"",e.handle=e.handle||e.index.toString(),e.position=e.position||{centerX:0,centerY:0},e.class=e.class||"",e.class+=" slide",e.content=e.content||'<img lazyload="lazy" class="img-fluid w-100" rv-src="slide.src" rv-alt="slide.title">'}else this.throw(new Error("No items to validate!"))}addItemByTemplate(t,e){const s=this.getTemplateAttributes(t,e),i=t.innerHTML;s.type&&("slide"===s.type&&(this.scope.items||(this.scope.items=[]),this.scope.items.push(xh(xh({},s),{},{content:i}))),"controls"===s.type&&(this.templateControls=i),"indicators"===s.type&&(this.templateIndicators=i))}addItemsByChilds(){this.slideElements||this.throw(new Error("Can't not add items by child's because no slide child's are found!")),this.slideElements.forEach(((t,e)=>{const s=t.getAttribute("handle")||t.getAttribute("id")||e.toString();t.setAttribute("index",e.toString());const i={handle:s,active:!1,content:t.innerHTML,index:e,position:xh(xh({},t.getBoundingClientRect()),{},{centerY:0,centerX:0})};this.scope.items||(this.scope.items=[]),this.scope.items.push(i)}))}getScrollPosition(){if(!this.slideshowInner)return null;return xl(this.slideshowInner)}getCurrentClosestNumber(t,e,s){return Math.abs(e-t)<Math.abs(s-t)?e:s}getMostCenteredSlideIndex(){var t;if(null===(t=this.scope.items)||void 0===t||!t.length)return this.throw(new Error("No slide items found!")),-1;let e=Math.abs("vertical"===this.scope.activeBreakpoint.angle?this.scope.items[0].position.centerY:this.scope.items[0].position.centerX),s=0;for(let t=1;t<this.scope.items.length;t++){const i=Math.abs("vertical"===this.scope.activeBreakpoint.angle?this.scope.items[t].position.centerY:this.scope.items[t].position.centerX);e=this.getCurrentClosestNumber(0,i,e),e===i&&(s=t)}return s}setAllSlidesInactive(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(this.slideElements&&null!==(t=this.scope.items)&&void 0!==t&&t.length)for(let t=0;t<this.scope.items.length;t++)t!==e&&(this.scope.items[t]&&(this.scope.items[t].active=!1),this.slideElements[t]&&this.slideElements[t].classList&&this.slideElements[t].classList.remove("active"))}setSlideActive(t){var e,s,i;if(-1!==t&&null!==(e=this.scope.items)&&void 0!==e&&e.length||(console.warn(new Error("Most centered slide not found!")),t=0),null!==(s=this.scope.items)&&void 0!==s&&s[t]||(t=0),null===(i=this.scope.items)||void 0===i||!i[t])return this.throw(new Error("Slide item to set active not found!")),0;this.setAllSlidesInactive(t),this.scope.items[t].active=!0,this.scope.activeIndex=t,this.scope.nextIndex=this.getNextIndex(t),this.scope.prevIndex=this.getPrevIndex(t),this.resetIntervalAutoplay(),this.slideElements&&this.slideElements[t].classList&&this.slideElements[t].classList.add("active")}setCenteredSlideActive(){const t=this.getMostCenteredSlideIndex();return this.setSlideActive(t),t}isScrollableToIndex(t){var e;const s=this.getScrollPosition();if(null===(e=this.scope.items)||void 0===e||!e[t]||!this.slideshowInner||!s)return!1;const i="vertical"===this.scope.activeBreakpoint.angle?s.maxY:s.maxX,n="vertical"===this.scope.activeBreakpoint.angle?this.slideshowInner.scrollTop+this.scope.items[t].position.centerY:this.slideshowInner.scrollLeft+this.scope.items[t].position.centerX;return n<=i&&n>=0}setSlidePositions(){var t,e,s,i;if(!this.bound)return;if((null===(t=this.scope.items)||void 0===t?void 0:t.length)!==(null===(e=this.slideElements)||void 0===e?void 0:e.length))return void console.warn(new Error("The slide objects must be the same size as the slide elements! items (".concat(null===(s=this.scope.items)||void 0===s?void 0:s.length,") !== slideElements (").concat(null===(i=this.slideElements)||void 0===i?void 0:i.length,")")),this.slideElements,this);if(!this.slideshowInner)return;const n=this.slideshowInner.getBoundingClientRect();for(let t=0;t<this.scope.items.length;t++){const e=this.slideElements[t],s=this.scope.items[t],i=e.getBoundingClientRect();i.x-=n.x,i.y-=n.y,s.position=xh(xh({},i),{},{centerY:i.y+i.height/2-n.height/2,centerX:i.x+i.width/2-n.width/2})}}requiredAttributes(){return["items"]}async attributeChangedCallback(t,e,s,i){let n=null;this.observedAttributesToCheck&&this.observedAttributesToCheck[t]&&(this.observedAttributesToCheck[t].initialized=!0),s=this.parseAttribute(s);const o=Yc.getSingleton().breakpointNames;for(const e of o){const i=e+"-";if(t.startsWith(i)){this.scope.breakpoints[e]=this.scope.breakpoints[e]||{},n=Y(t.slice(i.length)),this.scope.breakpoints[e][n]=s;break}}if(n)try{await this.bindIfReady()}catch(t){this.throw(t)}else await super.attributeChangedCallback(t,e,s,i),"items"===t&&this.validateItems()}parsedAttributeChangedCallback(t,e,s,i){return super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){this.removeEventListeners()}template(){return!gt(this)||this.hasOnlyTemplateChilds()?'<div class="row slideshow-row"> <div rv-each-slide="items" rv-class="slide.class" rv-class-active="slide.active" rv-id="\'slide-\' | append slide.handle" rv-index="slide.index" rv-template="slide.content"></div> </div> '+this.templateControls+this.templateIndicators:(this.controlsElements.length<=0&&(this.innerHTML+=this.templateControls),this.indicatorsElement||(this.innerHTML+=this.templateIndicators),null)}}(0,N.Z)(Ih,"responsiveAttributes",["breakpoint","name","slides-to-scroll","controls","controls-position","drag","autoplay","autoplay-interval","autoplay-velocity","control-prev-icon-src","control-next-icon-src","indicator-inactive-icon-src","indicator-active-icon-src","angle","set-active-slide","pause-on-hover","sticky","indicators","indicators-position","pause","infinite"]),(0,N.Z)(Ih,"tagName","bs5-slideshow");class Dh extends Fe{static get observedAttributes(){return["target-id"]}requiredAttributes(){return["targetId"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"lifecycleEvents",it.getInstance("lifecycle")),(0,N.Z)(this,"scope",{targetId:void 0,toggle:this.toggle,state:"undefined",isActive:!0,isClosed:!1}),this.lifecycleEvents.once("ComponentLifecycle:allBound",this.onAllComponentsReady,this)}toggle(){this.debug("toggle",this.eventDispatcher),this.eventDispatcher&&this.eventDispatcher.trigger(qc.eventNames.toggle,this.scope.targetId)}onAllComponentsReady(){var t;this.debug("onAllComponentsReady"),null===(t=this.eventDispatcher)||void 0===t||t.trigger(qc.eventNames.init,this.scope.targetId)}async afterBind(){await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(Dh.observedAttributes)}onToggledEvent(t){this.scope.state=t,this.scope.isActive="hidden"!==t&&"removed"!==t,this.scope.isClosed=!this.scope.isActive}initEventDispatcher(t){this.eventDispatcher&&this.eventDispatcher.off(qc.eventNames.toggled,this.onToggledEvent,this);const e=qc.nsPrefix+t;this.debug("Init event dispatcher for namespace  ".concat(e)),this.eventDispatcher=new it(e),this.eventDispatcher.on(qc.eventNames.toggled,this.onToggledEvent,this),this.eventDispatcher.on(qc.eventNames.state,this.onToggledEvent,this)}async attributeChangedCallback(t,e,s,i){super.attributeChangedCallback(t,e,s,i)}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"targetId"===t&&s&&this.initEventDispatcher(s)}disconnectedCallback(){super.disconnectedCallback(),this.eventDispatcher&&this.eventDispatcher.off(qc.eventNames.toggled,this.onToggledEvent,this)}template(){return gt(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}}(0,N.Z)(Dh,"tagName","bs5-toggle-button");class Bh extends Fe{static get observedAttributes(){return["collapse-selector"]}constructor(){super(),(0,N.Z)(this,"scope",{toggle:this.toggle,show:this.show,hide:this.hide,isCollapsed:!0,collapseSelector:".navbar-collapse"}),(0,N.Z)(this,"collapseTargets",new Map),this.onStateChange=this.onStateChange.bind(this)}async afterBind(){this.hide(),await super.afterBind()}toggle(t){for(const t of this.collapseTargets.values())t.toggle();t&&(t.preventDefault(),t.stopPropagation())}show(t){for(const t of this.collapseTargets.values())t.show();t&&(t.preventDefault(),t.stopPropagation())}hide(t){for(const t of this.collapseTargets.values())t.hide();t&&(t.preventDefault(),t.stopPropagation())}connectedCallback(){super.connectedCallback(),this.routerEvents=new it("main"),this.routerEvents.on("newPageReady",this.onNewPageReady,this),this.setCollapseElement(),this.onStateChange(),this.init(Bh.observedAttributes)}setCollapseElement(){const t=Array.from(this.querySelectorAll(this.scope.collapseSelector)||[]);for(const e of this.collapseTargets.keys())t.find((t=>t===e))||this.disposeCollapseTarget(e);for(const e of t)this.collapseTargets.has(e)||(this.collapseTargets.set(e,new wc(e,{toggle:!1})),e.addEventListener(wc.Events.shown,this.onStateChange),e.addEventListener(wc.Events.hidden,this.onStateChange));this.hide()}disposeCollapseTargets(){for(const t of this.collapseTargets.keys())this.disposeCollapseTarget(t)}disposeCollapseTarget(t){const e=this.collapseTargets.get(t);e&&e.dispose(),this.collapseTargets.delete(t),t.removeEventListener(wc.Events.shown,this.onStateChange),t.removeEventListener(wc.Events.hidden,this.onStateChange)}disconnectedCallback(){super.disconnectedCallback(),this.disposeCollapseTargets(),this.routerEvents&&this.routerEvents.off("newPageReady",this.onNewPageReady,this)}onStateChange(){var t;this.scope.isCollapsed=null===(t=this.collapseTargets.values().next().value)||void 0===t?void 0:t.isCollapsed(),this.scope.isCollapsed?(this.classList.add(wc.CLASS_NAME_COLLAPSED),this.setAttribute("aria-expanded","false")):(this.classList.remove(wc.CLASS_NAME_COLLAPSED),this.setAttribute("aria-expanded","true"))}onNewPageReady(){this.hide()}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"collapseSelector"===t&&this.setCollapseElement()}template(){return null}}(0,N.Z)(Bh,"tagName","bs5-navbar");const Zh=Fs.read;class Mh extends We{static get observedAttributes(){return["option-tabs-auto-height","option-tabs-angle","tab-0-title","tab-0-content","tab-0-handle","tab-1-title","tab-1-content","tab-1-handle","tab-2-title","tab-2-content","tab-2-handle","tab-3-title","tab-3-content","tab-3-handle","tab-4-title","tab-4-content","tab-4-handle","tab-5-title","tab-5-content","tab-5-handle","tab-6-title","tab-6-content","tab-6-handle","tab-7-title","tab-7-content","tab-7-handle","tab-8-title","tab-8-content","tab-8-handle","tab-9-title","tab-9-content","tab-9-handle","tab-10-title","tab-10-content","tab-10-handle","tab-11-title","tab-11-content","tab-11-handle","tab-12-title","tab-12-content","tab-12-handle","tab-13-title","tab-13-content","tab-13-handle","tab-14-title","tab-14-content","tab-14-handle","tab-15-title","tab-15-content","tab-15-handle","tab-16-title","tab-16-content","tab-16-handle","tab-17-title","tab-17-content","tab-17-handle","tab-18-title","tab-18-content","tab-18-handle","tab-19-title","tab-19-content","tab-19-handle"]}constructor(){super(),(0,N.Z)(this,"templateAttributes",[{name:"title",required:!0},{name:"handle",required:!1},{name:"type",required:!1},{name:"active",required:!1},{name:"index",required:!1}]),(0,N.Z)(this,"scope",{items:new Array,activate:this.activate,deactivate:this.deactivate,deactivateAll:this.deactivateAll,optionTabsAutoHeight:!1,optionTabsAngle:"horizontal"}),(0,N.Z)(this,"onResize",pt(this._onResize.bind(this)))}_onResize(){this.setHeight()}setHeight(){if(this.scope.optionTabsAutoHeight)return;this.setElements();let t=0;this.tabPanes&&(this.tabPanes.forEach((e=>{if(!e.style)return;e.style.height="auto",e.style.display="block";const s=e.offsetHeight||0;s>t&&(t=s)})),this.tabPanes.forEach((e=>{e.style&&(e.style.display="",t>0&&(e.style.height=t+"px"))})))}deactivateAll(){for(let t=0;t<this.scope.items.length;t++){const e=this.scope.items[t];this.deactivate(e)}}deactivate(t){t.active=!1;const e=this.getTabContentChildByIndex(t.index);e&&this.triggerVisibilityChangedForElement(e,t.active)}activate(t){this.deactivateAll(),t.active=!0;const e=this.getTabContentChildByIndex(t.index);e&&this.triggerVisibilityChangedForElement(e,t.active)}activateFirstTab(){this.scope.items.length>0&&this.activate(this.scope.items[0])}getTabContentChildByIndex(t){return this.querySelector(".tab-content .tab-pane:nth-child(".concat(t+1,") > *"))||void 0}triggerVisibilityChangedForElement(t,e){setTimeout((()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:e}}))}),200)}connectedCallback(){super.connectedCallback(),this.initTabs(),this.activateFirstTab(),this.init(Mh.observedAttributes)}disconnectedCallback(){this.tabs&&this.tabs.forEach((t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler)})),window.removeEventListener("resize",this.onResize)}setElements(){this.tabs=this.querySelectorAll('[role="tab"]'),this.tabPanes=this.querySelectorAll('[role="tabpanel"]'),this.scrollable=this.querySelector("[scrollable]")}resizeTabsArray(t){for(;t>this.scope.items.length;)this.scope.items.push({handle:"",title:"",content:"",active:!1,index:this.scope.items.length-1})}onTabShownEventHandler(t){const e=t.target||t.srcElement;if(e&&this.scrollable){const t=e.getBoundingClientRect(),s=this.scrollable.scrollLeft||0+t.left;this.scrollable.scrollLeft=s}}initTabs(){this.setElements(),this.tabs&&this.tabs.forEach((t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler),t.addEventListener("shown.bs.tab",this.onTabShownEventHandler)})),this.scope.optionTabsAutoHeight&&(window.removeEventListener("resize",this.onResize),window.addEventListener("resize",this.onResize,{passive:!0}),this.setHeight())}addTabByAttribute(t,e){const s=Number(t.replace(/[^0-9]/g,""));s>=this.scope.items.length&&this.resizeTabsArray(s+1),this.scope.items[s].index=s,t.endsWith("Content")&&(this.scope.items[s].content=e),t.endsWith("Title")&&(this.scope.items[s].title=e,this.scope.items[s].handle=this.scope.items[s].handle||Zh(this.scope.items[s].title)),t.endsWith("Handle")&&(this.scope.items[s].handle=e),this.scope.items.length>0&&this.scope.items[0]&&this.scope.items[0].content.length>0&&this.scope.items[0].title.length>0&&this.scope.items[0].handle.length>0&&this.activateFirstTab()}transformTemplateAttributes(t,e){return!(t=super.transformTemplateAttributes(t,e)).handle&&t.title&&(t.handle=Zh(t.title)),t.active=t.active||!1,t}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),t.startsWith("tab")&&(this.addTabByAttribute(t,s),this.initTabs())}async afterBind(){setTimeout((()=>{this.scope.optionTabsAutoHeight&&this.setHeight()}),500),await super.afterBind()}template(){return!gt(this)||this.hasOnlyTemplateChilds()?"horizontal"===this.scope.optionTabsAngle?'<ul rv-scrollbar-draggable rv-aria-orientation="optionTabsAngle" role="tablist" class="nav nav-tabs flex-scrollbar-x-auto scrollbar-y-hidden"> <li class="nav-item" rv-each-tab="items"> <button role="tab" class="btn btn-link nav-link" rv-class-active="tab.active" rv-id="\'tab-title-\' | append tab.handle" rv-aria-controls="\'tab-content-\' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button> </li> </ul> <div class="tab-content"> <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="\'tab-content-\' | append tab.handle" rv-aria-labelledby="\'tab-title-\' | append tab.handle" rv-template="tab.content"></div> </div> ':'<div class="row"> <div class="col-auto"> <div class="nav flex-column nav-pills" role="tablist" rv-aria-orientation="optionTabsAngle"> <div class="nav-item" rv-each-tab="items"> <button class="btn btn-link nav-link" role="tab" rv-class-active="tab.active" rv-id="\'tab-title-\' | append tab.handle" rv-aria-controls="\'tab-content-\' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button> </div> </div> </div> <div class="col-auto"> <div class="tab-content"> <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="\'tab-content-\' | append tab.handle" rv-aria-labelledby="\'tab-title-\' | append tab.handle" rv-template="tab.content"></div> </div> </div> </div> ':null}}(0,N.Z)(Mh,"tagName","bs5-tabs");class Rh extends Fe{static get observedAttributes(){return["id","disable-submit-until-change","use-ajax","ajax-request-type","auto-set-form-data","strip-html","scroll-invalid-element","animate-invalid-element"]}getDefaultScope(){return{id:kt("form"),form:{fields:{},valid:!1,error:void 0},disableSubmitUntilChange:!1,submitDisabled:!1,onSubmit:this.onSubmit,useAjax:!0,ajaxRequestType:"form",autoSetFormData:!0,stripHtml:!0,scrollToInvalidElement:!0,animateInvalidElement:!0}}constructor(){super(),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"formEl",null),(0,N.Z)(this,"scope",this.getDefaultScope()),this.enableSubmit=this.enableSubmit.bind(this)}connectedCallback(){super.connectedCallback(),this.init(Rh.observedAttributes),this.addEventListeners()}addEventListeners(){this.scope.disableSubmitUntilChange&&this.addEventListener("input",this.enableSubmit)}removeEventListeners(){this.removeEventListener("input",this.enableSubmit)}enableSubmit(){this.scope.submitDisabled=!1}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.id=this.scope.id}async afterBind(){await super.afterBind()}stripHtml(){for(const t in this.scope.form.fields)this.scope.form.fields[t]&&"string"==typeof this.scope.form.fields[t]&&(this.scope.form.fields[t]=W(this.scope.form.fields[t]))}onSubmit(t,e){if(this.debug("onSubmit",t,e),!this.formEl)return console.warn("No form found"),!1;if(this.scope.autoSetFormData&&this.getFormValues(),this.scope.stripHtml&&this.stripHtml(),this.validate(this.formEl,this.scope.form),!this.scope.form.valid)return void this.onInvalidForm(t);const s=this.getSubmitSettings(t);if("_blank"===(null==s?void 0:s.target))return!0;this.scope.useAjax&&(t.preventDefault(),t.stopPropagation(),this.ajaxSubmit(t,e))}async ajaxSubmit(t,e){this.debug("onSubmit",t,e,this.scope);const s=this.getSubmitSettings(t);if(s){this.scope.autoSetFormData&&this.getFormValues();try{const t=await lt.fetch(s.action,s.method,this.scope.form.fields,s.type);if(!t||!t.body)return this.onErrorSubmit("500","Error","Empty body!");const e=t.body&&t.body.message?t.body.message:"";return Number(t.status)>=400&&this.onErrorSubmit(t.status.toString(),e,t.body),this.onSuccessSubmit(t.status.toString(),e,t.body)}catch(t){if(!t.status||!t.body)throw this.error;this.onErrorSubmit(t.status,t.body.message,t.body)}}else console.warn("Can't get submit settings")}getSubmitSettings(t){var e;if(!this.formEl)return console.warn("No form found"),null;let s=this.formEl.action,i=this.formEl.method,n=this.formEl.method;if(null!=t&&null!==(e=t.originalEvent)&&void 0!==e&&e.submitter){var o;const e=null==t||null===(o=t.originalEvent)||void 0===o?void 0:o.submitter;s=(null==e?void 0:e.formAction)||s,i=(null==e?void 0:e.formMethod)||i,n=(null==e?void 0:e.formTarget)||n}return{action:s,method:i.toUpperCase(),target:n,type:this.scope.ajaxRequestType}}onInvalidForm(t){if(this.debug("Form not valid",this.scope),t.preventDefault(),t.stopPropagation(),!this.formEl)return void console.warn("No form found");const e=this.formEl.querySelectorAll(":invalid");if(e&&e.length){const t=e[0];this.scope.scrollToInvalidElement&&this.scrollToElement(t),this.scope.animateInvalidElement&&this.scrollToElement(t)}this.dispatchEvent(new CustomEvent("invalid",{detail:{elements:e}}))}scrollToElement(t){const e=St().h/2;yt(t,e,window),this.animateInvalidElement(t)}animateInvalidElement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;t.classList.add("invalid-flashing-animation"),setTimeout((()=>{t.classList.remove("invalid-flashing-animation")}),e)}onErrorSubmit(t,e,s){this.debug("onErrorSubmit"),this.dispatchEvent(new CustomEvent("submit-error",{detail:{status:t,message:e,response:s}}))}onSuccessSubmit(t,e,s){this.debug("onSuccessSubmit"),this.scope.disableSubmitUntilChange&&(this.scope.submitDisabled=!0),this.dispatchEvent(new CustomEvent("submit-success",{detail:{status:t,message:e,response:s}}))}validate(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validation-error";e.valid=t.checkValidity(),e.error=t.validationMessage,e.valid||(this.dispatchEvent(new CustomEvent(s)),t.classList.add("was-validated"))}getFormValues(){return this.formEl?(this.scope.form.fields=new FormData(this.formEl),this.scope.form.fields):(console.warn("No form found"),null)}initForm(){const t=this.querySelector("form");t&&t.length>0?(this.formEl=t,this.formEl.classList.add("needs-validation"),this.formEl.setAttribute("novalidate","")):console.warn("bs5 form without children found")}template(){return gt(this)?(this.initForm(),null):"<form> </form>"}}(0,N.Z)(Rh,"tagName","bs5-form");class Hh extends Fe{static get observedAttributes(){return["icon-url","position-class","channel-name"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"scope",{notifications:[],positionClass:"absolute-bottom absolute-center",channelName:"toast",onItemHide:this.onItemHide})}connectedCallback(){super.connectedCallback(),this.init(Hh.observedAttributes)}onItemHide(t,e,s,i){s>-1?this.notifications.splice(s,1):console.warn("Notification not found",i)}onShowNotification(t){this.debug("Received notification container on "+this.scope.channelName,this.scope,t),this.scope.notifications.push(t)}async afterBind(){this.notificationDispatcher=new it(this.scope.channelName),this.notificationDispatcher.on("show-notification",this.onShowNotification,this),await super.afterBind()}disconnectedCallback(){super.disconnectedCallback(),this.notificationDispatcher.off("show-notification",this.onShowNotification,this)}requiredAttributes(){return[]}template(){return gt(this)?null:'<div class="toast-container"> <div aria-live="polite" aria-atomic="true" class="toast-item-container" rv-add-class="positionClass"> <div rv-each-toast="notifications"> <div rv-if="toast.type | eq \'toast\'"> <bs5-toast-item rv-index="%toast%" rv-parent rv-icon-url="iconUrl" rv-co-toast="toast"></bs5-toast-item> </div> </div> </div> </div> <div rv-each-modal="notifications"> <div rv-if="modal.type | eq \'modal\'"> <bs5-modal-item rv-index="%modal%" rv-parent rv-icon-url="iconUrl" rv-co-modal="modal"></bs5-modal-item> </div> </div>'}}(0,N.Z)(Hh,"tagName","bs5-notification-container");class jh extends Fe{static get observedAttributes(){return["toast","icon-url","index"]}requiredAttributes(){return["toast"]}constructor(){super(),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this),toast:void 0})}connectedCallback(){super.connectedCallback(),this.init(jh.observedAttributes)}async afterBind(){this.initToast(),await super.afterBind()}initToast(){const t=this.scope.toast,e=this.firstElementChild;t&&e&&(this.toastService=new $c(e,{delay:void 0!==t.delay?t.delay:5e3,autohide:void 0===t.autoHide||t.autoHide,animation:void 0===t.animation||t.animation}),e.addEventListener($c.EVENT_HIDDEN,this.scope.onHidden,{once:!0}),this.toastService.show())}dismiss(){var t;null===(t=this.toastService)||void 0===t||t.hide()}onHidden(t,e){var s;e||(e=Et(t));const i=(null===(s=this.scope.$parent)||void 0===s?void 0:s.$parent)||null;"function"==typeof(null==i?void 0:i.onItemHide)&&this.scope.toast&&e&&i.onItemHide(t,e,this.scope.index,this.scope.toast)}template(){return'<div class="toast my-1" rv-add-class="toast.contextualClass | prepend \'toast-\'" role="alert" aria-live="assertive" aria-atomic="true"> <div class="toast-header" rv-show="toast.title"> <bs5-icon rv-if="iconUrl" rv-src="iconUrl" size="16" rv-color="toast.contextualClass" class="me-2" alt="toast icon"></bs5-icon> <strong class="me-auto" rv-template="toast.title"></strong> <button type="button" class="ms-2 mb-1 btn-close" rv-on-click="dismiss" aria-label="Close"></button> </div> <div class="toast-body" rv-template="toast.message"></div> </div>'}}(0,N.Z)(jh,"tagName","bs5-toast-item");class Uh extends Fe{static get observedAttributes(){return["modal","index"]}requiredAttributes(){return["modal"]}constructor(){super(),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this)})}connectedCallback(){super.connectedCallback(),this.init(Uh.observedAttributes)}async afterBind(){this.initModal(),await super.afterBind()}initModal(){const t=this.scope.modal,e=this.firstElementChild;t&&e&&(this.modalService=new Dc(e,{focus:void 0===t.focus||t.focus,keyboard:void 0===t.keyboard||t.keyboard,backdrop:void 0===t.backdrop||t.backdrop}),e.addEventListener(Dc.EVENT_HIDDEN,this.scope.onHidden,{once:!0}),this.modalService.show())}dismiss(){var t;null===(t=this.modalService)||void 0===t||t.hide()}onHidden(t,e){var s;e||(e=Et(t));const i=(null===(s=this.scope.$parent)||void 0===s?void 0:s.$parent)||null;"function"==typeof(null==i?void 0:i.onItemHide)&&this.scope.modal&&e&&i.onItemHide(t,e,this.scope.index,this.scope.modal)}template(){return'<div class="modal fade" tabindex="-1" role="dialog" rv-add-class="modal.contextualClass | prepend \'modal-\'"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header" rv-show="modal.title"> <h5 class="modal-title" rv-template="modal.title"></h5> <button type="button" class="btn-close" aria-label="Close" rv-on-click="dismiss"></button> </div> <div class="modal-body"> <p rv-template="modal.message"></p> </div> <div class="modal-footer" rv-show="modal.buttons | size | gt 0"> <div rv-each-button="modal.buttons"> <button type="button" class="btn" rv-add-class="button.class" rv-on-click="button.action" rv-template="modal.label"></button> </div> </div> </div> </div> </div>'}}(0,N.Z)(Uh,"tagName","bs5-modal-item");function Fh(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Vh(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Fh(Object(s),!0).forEach((function(e){(0,N.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Fh(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class qh extends Fe{static get observedAttributes(){return["tags","options","debug"]}constructor(){super(),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"_debug",!0),(0,N.Z)(this,"scope",{debug:!1,tags:[],options:{popoverOptions:{},multiPopover:!1,tagOptions:{}},fillPopoverOptions:t=>Vh(Vh(Vh({},this.scope.options.popoverOptions),this.scope.options.tagOptions.popoverOptions),t),triggerOnFocus:t=>this.scope.fillPopoverOptions(t).trigger?0:null,onClick:this.onClick.bind(this),onPopoverBound:this.onPopoverBound.bind(this),onPopoverShown:this.onPopoverShown.bind(this),onPopoverHidden:this.onPopoverHidden.bind(this),updateTagPositions:ut(this.updateTagPositions.bind(this))}),this.scope.options.popoverOptions.container=this}parsedAttributeChangedCallback(t,e,s){if("options"===t){this.bound?this.scope.options=s:this.scope.options=G({deep:!0},e,s);const t=this.scope.options.popoverOptions;t&&"string"==typeof t.container&&(t.container=document.querySelector(t.container)||void 0)}}template(){return gt(this)&&this.parseChildTags(),'<img> <tag rv-each-tag="tags" rv-index="tag.index" rv-style-left="tag.left" rv-style-top="tag.top" rv-shape="tag.shape" rv-color="tag.color" rv-style---tag-color="tag.color" rv-style---tag-border-radius="tag.borderRadius" rv-style---tag-full-size="tag.fullSize" rv-style---tag-small-size="tag.smallSize" rv-bs5-popover="fillPopoverOptions | call tag.popoverOptions" rv-on-bound.bs.popover="onPopoverBound" rv-on-shown.bs.popover="onPopoverShown" rv-on-hidden.bs.popover="onPopoverHidden" rv-tabindex="triggerOnFocus | call tag.popoverOptions"> </tag> '}async beforeBind(){await super.beforeBind(),this.image=this.querySelector("img"),this.addEventListeners(),this.initTags()}addEventListeners(){const t=this.image;t.addEventListener("load",this.scope.updateTagPositions),window.addEventListener("resize",this.scope.updateTagPositions),t.addEventListener("click",this.scope.onClick)}async afterBind(){this.passImageAttributes(),await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(qh.observedAttributes)}disconnectedCallback(){this.removeEventListener("click",this.scope.onClick),window.removeEventListener("resize",this.updateTagPositions)}parseColor(t){return t.startsWith("--")?"var(".concat(t,")"):t.startsWith("bs-")?"var(--".concat(t,")"):t}parseChildTags(){this.debug("parseChildTags()");for(const e of Array.from(this.querySelectorAll("tag"))){const s=e.getAttribute("title")||"",i=e.innerHTML,n=(t=parseFloat(e.getAttribute("x")||""),isNaN(t)?Math.random():t),o=(t=>isNaN(t)?Math.random():t)(parseFloat(e.getAttribute("y")||"")),r=e.getAttribute("shape")||void 0;let a=e.getAttribute("color")||void 0;a&&(a=this.parseColor(a));const l=e.getAttribute("border-radius")||void 0,c=e.getAttribute("full-size")||void 0,h=e.getAttribute("small-size")||void 0,d=Vh(Vh({},this.scope.options.tagOptions),{},{popoverOptions:this.scope.fillPopoverOptions({title:s,content:i,html:!0}),x:n,y:o,shape:r,color:a,borderRadius:l,fullSize:c,smallSize:h});this.scope.tags.push(d)}var t}initTags(){const t=this.scope.options.tagOptions;for(const[e,s]of this.scope.tags.entries())s.index=e,s.shape=s.shape||t.shape,s.borderRadius=s.borderRadius||t.borderRadius,s.smallSize=s.smallSize||t.smallSize,s.fullSize=s.fullSize||t.fullSize,s.color=s.color||t.color}passImageAttributes(){const t=this.image,e=this.attributes;for(let s=e.length-1;s>=0;s--)e[s].name.startsWith("img-")&&t.setAttribute(e[s].name.substr(4),e[s].value)}onClick(t){if(this.scope.debug){const e=this.image,{clientTop:s,clientLeft:i,width:n,height:o,naturalWidth:r,naturalHeight:a}=e,{clientX:l,clientY:c}=t;let h=l-i,d=c-s;const u=n/r,p=o/a;let v=n,m=o;u<p?(v=n*p/u,h+=(v-n)/2):p<u&&(m=o*u/p,d+=(m-o)/2),h*=100/v,d*=100/m,console.log({x:h,y:d})}}onPopoverBound(t){const e=t.target.getAttribute("index");if(null===e)throw new Error("popup bound on no index");const s=parseInt(e);if(isNaN(s))throw new Error('boundIndex "'.concat(e,'" is not a number!'));const i=this.scope.tags.find((t=>t.index===s));if(!i)throw new Error("Tag with index (".concat(s,', "').concat(e,'") not found'));i.el=t.target}onPopoverShown(t){for(const i of this.scope.tags){var e,s;if(i.el===t.target)i.el.classList.add("active");else if(!this.scope.options.multiPopover)null===(e=i.el)||void 0===e||e.classList.remove("active"),null===(s=i.el)||void 0===s||s.dispatchEvent(new CustomEvent("trigger-hide"))}}onPopoverHidden(t){const e=this.scope.tags.find((e=>e.el===t.target));var s;e&&(null===(s=e.el)||void 0===s||s.classList.remove("active"))}updateTagPositions(){const t=this.image,{width:e,height:s,naturalWidth:i,naturalHeight:n}=t,o=i/e,r=n/s,a=window.getComputedStyle(t).getPropertyValue("object-fit");if("cover"===a&&o>r||"contain"===a&&r>o)for(const t of this.scope.tags)t.top=100*t.y+"%",t.left=100*(o/r*(t.x-.5)+.5)+"%";else if("cover"===a||"contain"===a)for(const t of this.scope.tags)t.left=100*t.x+"%",t.top=100*(r/o*(t.y-.5)+.5)+"%";else for(const t of this.scope.tags)t.left=100*t.x+"%",t.top=100*t.y+"%"}}(0,N.Z)(qh,"tagName","bs5-tagged-image");const zh={binders:A,services:T,formatters:L,components:_,constants:k,init(){const t=G({deep:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Vc);return Yc.setSingleton(t),this}};class Wh extends Fe{static get observedAttributes(){return["log-me"]}constructor(){super(),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"scope",{logMe:""})}connectedCallback(){super.connectedCallback(),this.init(Wh.observedAttributes)}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind()}async afterBind(){console.log(this.scope.logMe),await super.afterBind()}template(){return null}}(0,N.Z)(Wh,"tagName","rv-logger");class Yh extends Fe{static get observedAttributes(){return[]}constructor(){super(),(0,N.Z)(this,"_debug",!1),(0,N.Z)(this,"autobind",!0),(0,N.Z)(this,"scope",{items:[{label:"Home",url:"/"},{label:"Cool",url:"/pages/cool"},{label:"Nice",url:"/pages/nice"},{label:"Different",url:"/pages/different"}]})}connectedCallback(){super.connectedCallback(),this.init(Yh.observedAttributes)}template(){return null}}(0,N.Z)(Yh,"tagName","link-list");var Gh={en:{pages:{home:{title:"Hello World!"}}},de:{pages:{home:{title:"Hallo Welt!"}}}};class Xh{constructor(){(0,N.Z)(this,"riba",new He),(0,N.Z)(this,"model",{}),(0,N.Z)(this,"localesService",new Xi(Gh,void 0,!1)),console.debug("init the main application"),this.riba.module.component.regists(O),this.riba.module.binder.regists(x),this.riba.module.formatter.regists(P),this.riba.module.regist(fi.init()),this.riba.module.regist(qi.init()),this.riba.module.regist(fc.init({localesService:this.localesService})),this.riba.module.regist(zh.init()),this.view=this.riba.bind(document.body,this.model)}}(t=>{if(!t||"function"!=typeof t)return new Error("The callback is required!");const e=()=>{"loading"!==document.readyState&&(t(),document.attachEvent&&document.detachEvent("onreadystatechange",e),document.removeEventListener("DOMContentLoaded",e))};document.attachEvent&&document.attachEvent("onreadystatechange",e),document.addEventListener&&document.addEventListener("DOMContentLoaded",e),e()})((()=>{new Xh}))},462:function(){(()=>{if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),s}t.prototype=window.Event.prototype,window.CustomEvent=t})()},954:function(){}},s={};function i(t){var n=s[t];if(void 0!==n)return n.exports;var o=s[t]={exports:{}};return e[t].call(o.exports,o,o.exports,i),o.exports}i.m=e,t=[],i.O=function(e,s,n,o){if(!s){var r=1/0;for(h=0;h<t.length;h++){s=t[h][0],n=t[h][1],o=t[h][2];for(var a=!0,l=0;l<s.length;l++)(!1&o||r>=o)&&Object.keys(i.O).every((function(t){return i.O[t](s[l])}))?s.splice(l--,1):(a=!1,o<r&&(r=o));if(a){t.splice(h--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var h=t.length;h>0&&t[h-1][2]>o;h--)t[h]=t[h-1];t[h]=[s,n,o]},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t={179:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,o,r=s[0],a=s[1],l=s[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(l)var h=l(i)}for(e&&e(s);c<r.length;c++)o=r[c],i.o(t,o)&&t[o]&&t[o][0](),t[r[c]]=0;return i.O(h)},s=self.webpackChunk_ribajs_examples_nest_riba_ssr_theme=self.webpackChunk_ribajs_examples_nest_riba_ssr_theme||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}(),i.O(void 0,[216],(function(){return i(954)}));var n=i.O(void 0,[216],(function(){return i(749)}));n=i.O(n)}();