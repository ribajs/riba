!function(){var e={462:function(){(()=>{if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e})()},628:function(e,t,n){n(139);e.exports=function(e){var t="";return t+='<div class="container-fluid py-5 my-5 text-center"><div class="row"><div class="col-12"><h1 ssr-rv-html="title"></h1></div></div><section class="row"><div class="col-12"><p ssr-rv-html="content"></p></div></section><rv-logger ssr-rv-log-me="content"></rv-logger><rv-logger ssr-rv-log-me="obj | json"></rv-logger></div>'}},752:function(e,t,n){n(139);e.exports=function(e){var t="";return t+='<div class="container container-md py-5 my-5 text-center"><div class="row"><div class="col-12"><h1 ssr-rv-template="title"></h1></div></div><section class="row"><div class="col-12"><div ssr-rv-template="content"></div></div></section></div>'}},139:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function s(e,t){return Array.isArray(e)?function(e,t){for(var n,r="",i="",o=Array.isArray(t),a=0;a<e.length;a++)(n=s(e[a]))&&(o&&t[a]&&(n=c(n)),r=r+i+n,i=" ");return r}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var s in e)s&&e[s]&&r.call(e,s)&&(t=t+n+s,n=" ");return t}(e):e||""}function i(e){if(!e)return"";if("object"==typeof e){var t="";for(var n in e)r.call(e,n)&&(t=t+n+":"+e[n]+";");return t}return e+""}function o(e,t,n,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var s=typeof t;return"object"!==s&&"function"!==s||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=c(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}t.merge=function e(t,n){if(1===arguments.length){for(var r=t[0],s=1;s<t.length;s++)r=e(r,t[s]);return r}for(var o in n)if("class"===o){var a=t[o]||[];t[o]=(Array.isArray(a)?a:[a]).concat(n[o]||[])}else if("style"===o){a=(a=i(t[o]))&&";"!==a[a.length-1]?a+";":a;var c=i(n[o]);c=c&&";"!==c[c.length-1]?c+";":c,t[o]=a+c}else t[o]=n[o];return t},t.classes=s,t.style=i,t.attr=o,t.attrs=function(e,t){var n="";for(var a in e)if(r.call(e,a)){var c=e[a];if("class"===a){c=s(c),n=o(a,c,!1,t)+n;continue}"style"===a&&(c=i(c)),n+=o(a,c,!1,t)}return n};var a=/["&<>]/;function c(e){var t=""+e,n=a.exec(t);if(!n)return e;var r,s,i,o="";for(r=n.index,s=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}s!==r&&(o+=t.substring(s,r)),s=r+1,o+=i}return s!==r?o+t.substring(s,r):o}t.escape=c,t.rethrow=function e(t,r,s,i){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&r||i))throw t.message+=" on line "+s,t;var o,a,c,l;try{i=i||n(582).readFileSync(r,{encoding:"utf8"}),o=3,a=i.split("\n"),c=Math.max(s-o,0),l=Math.min(a.length,s+o)}catch(n){return t.message+=" - could not read from "+r+" ("+n.message+")",void e(t,null,s)}o=a.slice(c,l).map((function(e,t){var n=t+c+1;return(n==s?"  > ":"    ")+n+"| "+e})).join("\n"),t.path=r;try{t.message=(r||"Pug")+":"+s+"\n"+o+"\n\n"+t.message}catch(e){}throw t}},582:function(){}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{AdapterService:function(){return T},BindersService:function(){return B},ComponentService:function(){return D},CoreService:function(){return F},FormatterService:function(){return M},HttpService:function(){return I},LifecycleService:function(){return j}});var t={};n.r(t),n.d(t,{dotAdapter:function(){return H}});var r={};n.r(r),n.d(r,{AddClassBinder:function(){return ae},AnimateStarBinder:function(){return oe},AssignBinder:function(){return le},AssignPropertyBinder:function(){return ce},BlockBinder:function(){return de},CheckedBinder:function(){return he},ClassStarBinder:function(){return ue},ComponentAttributeBinder:function(){return pe},DisabledBinder:function(){return me},EachStarBinder:function(){return ke},EnabledBinder:function(){return Ae},FlexSortChildsBinder:function(){return Ee},HideBinder:function(){return Ce},HtmlBinder:function(){return Oe},IfBinder:function(){return Ne},MaxlengthBinder:function(){return xe},NotDraggableBinder:function(){return Pe},OnEventBinder:function(){return _e},ParentBinder:function(){return Se},ReadonlyBinder:function(){return Te},RemoveClassBinder:function(){return Be},ShowBinder:function(){return Le},SrcsetSizeBinder:function(){return Fe},StyleBackgroundImageBinder:function(){return je},StyleBinder:function(){return Me},StyleStarBinder:function(){return De},TagStarBinder:function(){return Ie},TemplateBinder:function(){return Re},TextBinder:function(){return He},ToggleOnEventBinder:function(){return Ue},UncheckedBinder:function(){return Ve},UnlessBinder:function(){return qe},ValueBinder:function(){return We}});var s={};n.r(s),n.d(s,{VideoComponent:function(){return Ke}});var i={};n.r(i),n.d(i,{andFormatter:function(){return ht},appendFormatter:function(){return Vt},argsFormatter:function(){return Tt},betweenFormatter:function(){return ut},booleanFormatter:function(){return pn},callFormatter:function(){return Dt},callNameFormatter:function(){return Mt},capitalizeFormatter:function(){return qt},containsFormatter:function(){return Ze},cutFormatter:function(){return Wt},debugFormatter:function(){return Bt},defaultFormatter:function(){return Lt},digitsFormatter:function(){return St},dividedByFormatter:function(){return Ct},downcaseFormatter:function(){return zt},egtFormatter:function(){return pt},eltFormatter:function(){return gt},emptyFormatter:function(){return tt},endsWithFormatter:function(){return Jt},eqFormatter:function(){return mt},evenFormatter:function(){return Pt},filledFormatter:function(){return Gt},firstFormatter:function(){return rt},gcdFormatter:function(){return xt},getFormatter:function(){return nt},gtFormatter:function(){return ft},handleizeFormatter:function(){return Yt},isArrayFormatter:function(){return mn},isBooleanFormatter:function(){return fn},isDefinedFormatter:function(){return bn},isDesktopFormatter:function(){return Ft},isIntegerFormatter:function(){return tn},isLastFormatter:function(){return st},isMobileFormatter:function(){return jt},isNumberFormatter:function(){return vn},isObjectFormatter:function(){return gn},isStringFormatter:function(){return yn},isUndefinedFormatter:function(){return wn},joinFormatter:function(){return dt},jsonFormatter:function(){return ge},lastFormatter:function(){return it},ltFormatter:function(){return vt},mapFormatter:function(){return It},matchFormatter:function(){return $t},minusFormatter:function(){return At},moduloFormatter:function(){return Ot},neFormatter:function(){return bt},notFormatter:function(){return wt},numberFormatFormatter:function(){return nn},orFormatter:function(){return yt},osFormatter:function(){return Rt},overlapsFormatter:function(){return lt},padEndFormatter:function(){return Xt},padStartFormatter:function(){return Qt},parseFormatter:function(){return kn},pluralizeFormatter:function(){return rn},plusFormatter:function(){return kt},preferFormatter:function(){return Ht},prependFormatter:function(){return sn},randomFormatter:function(){return ot},rangeFormatter:function(){return at},replaceFirstFormatter:function(){return cn},replaceFormatter:function(){return an},setFormatter:function(){return ct},sizeFormatter:function(){return et},sliceFormatter:function(){return ln},startsWithFormatter:function(){return dn},stripFormatter:function(){return hn},stripHtmlFormatter:function(){return un},ternaryFormatter:function(){return Ut},timesFormatter:function(){return Et},toDecimalFormatter:function(){return en},toFloatFormatter:function(){return Zt},toIntegerFormatter:function(){return Kt},toNumberFormatter:function(){return En},toStringFormatter:function(){return An},unevenFormatter:function(){return _t},upcaseFormatter:function(){return on}});var o={};n.r(o),n.d(o,{CsrBinder:function(){return On}});var a={};n.r(a);var c={};n.r(c),n.d(c,{ModuleService:function(){return xn},OpenGraphService:function(){return Pn}});var l={};n.r(l);var d={};n.r(d),n.d(d,{IndexPageComponent:function(){return Bn},PagesPageComponent:function(){return jn}});var h={};n.r(h);var u={};function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let m;n.r(u),function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(m||(m={}));n(462);const f=e=>!(!e||"string"!=typeof e)&&("{"===(e=e.trim()).charAt(0)||"["===e.charAt(0)),b=e=>{if(!e||!f(e))return!1;try{const t=JSON.parse(e);return!(!Array.isArray(t)&&"object"!=typeof t)}catch(e){return!1}},v=e=>{let t=null;if(!f(e))return t;if(b(e))t=JSON.parse(e)||null;else try{t=JSON.parse(e.replace(/'/g,'"'))||null}catch(e){console.warn(e)}return t},g=e=>void 0===e,y=e=>!g(e),w=e=>y(e)&&"object"==typeof e&&null!==e,k=e=>null!=e&&e.toString?e.toString():void 0,A=e=>!isNaN(parseFloat(e))&&!isNaN(e-0),E=e=>"string"==typeof e,C=e=>{if("number"==typeof e)return e;const t=e.replace(/[^-\d.]/g,"");return A(t)?Number(t):0},O=e=>e.replace(/-([a-z0-9])/g,(e=>e[1].toUpperCase())),N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=n=>{for(const r in n)n.hasOwnProperty(r)&&(e.deep&&"[object Object]"===Object.prototype.toString.call(n[r])?t[r]=N(e,t[r],n[r]):e.keepValues?void 0===t[r]&&(t[r]=n[r]):e.onlyDefined?void 0!==n[r]&&(t[r]=n[r]):e.mergeArrays&&Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=[...t[r],...n[r]]:t[r]=n[r])};for(let e=0;e<(arguments.length<=2?0:arguments.length-2);e++)n(e+2<2||arguments.length<=e+2?void 0:arguments[e+2]);return t};class x{constructor(e){this.elements=e}regists(e){if(!w(e))throw new Error("Elements to register must be an object of elements");for(const t in e)if(e[t]&&"__esModule"!==t){const n=e[t];this.regist(n,t)}return this.elements}}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class S{static updateOptions(e){if(!e.adapters)throw new Error("adapters are required!");if(e.adapters&&(S.adapters=_(_({},S.adapters),e.adapters),S.interfaces=Object.keys(S.adapters)),S.rootInterface=e.rootInterface||S.interfaces[0],!S.rootInterface)throw new Error("rootInterface is required!")}static tokenize(e,t){const n=[];let r,s,i={i:t,path:""};for(r=0;r<e.length;r++)s=e.charAt(r),~S.interfaces.indexOf(s)?(n.push(i),i={i:s,path:""}):i.path+=s;return n.push(i),n}static get(e,t){return S.adapters[e.i].get(t,e.path)}static set(e,t,n,r){e?S.adapters[t.i].observe(n,t.path,r):S.adapters[t.i].unobserve(n,t.path,r)}constructor(e,t,n){this.keypath=t,this.callback=n,this.objectPath=[];const r=this.parse();this.key=r.key,this.tokens=r.tokens,this.obj=this.getRootObject(e),this.target=this.realize(),w(this.target)&&S.set(!0,this.key,this.target,this.callback)}parse(){let e,t;if(!S.interfaces||!S.interfaces.length)throw new Error('[Observer] Must define at least one adapter interface. interfaces: "'.concat(JSON.stringify(S.interfaces),'" adapters: "').concat(JSON.stringify(S.adapters),'"'));if(~S.interfaces.indexOf(this.keypath[0])?(t=this.keypath[0],e=this.keypath.substr(1)):(t=S.rootInterface,e=this.keypath),this.tokens=S.tokenize(e,t),!this.tokens.length)throw new Error("[Observer] No tokens");return this.key=this.tokens.pop(),{key:this.key,tokens:this.tokens}}realize(){let e,t,n=this.obj,r=-1;for(let s=0;s<this.tokens.length;s++)t=this.tokens[s],w(n)?(void 0!==this.objectPath[s]?(e=this.objectPath[s],n!==e&&(S.set(!1,t,e,this),S.set(!0,t,n,this),this.objectPath[s]=n)):(S.set(!0,t,n,this),this.objectPath[s]=n),n=S.get(t,n)):(-1===r&&(r=s),e=this.objectPath[s],e&&S.set(!1,t,e,this));return-1!==r&&this.objectPath.splice(r),n}sync(){let e,t;const n=this.realize();n!==this.target?(w(this.target)&&S.set(!1,this.key,this.target,this.callback),w(n)&&S.set(!0,this.key,n,this.callback),e=this.value(),this.target=n,t=this.value(),(t!==e||Array.isArray(t))&&this.callback.sync()):Array.isArray(n)&&this.callback.sync()}value(){if(w(this.target))return S.get(this.key,this.target)}setValue(e){w(this.target)&&S.adapters[this.key.i].set(this.target,this.key.path,e)}unobserve(){let e,t;for(let n=0;n<this.tokens.length;n++)t=this.tokens[n],e=this.objectPath[n],e&&S.set(!1,t,e,this);w(this.target)&&S.set(!1,this.key,this.target,this.callback)}getRootObject(e){let t,n;if(!e.$parent)return e;for(t=this.tokens.length?this.tokens[0].path:this.key.path,n=e;n.$parent&&void 0===n[t];)n=n.$parent;return n}}p(S,"interfaces",[]);class T extends x{constructor(e){super(e),p(this,"type","adapter")}regist(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t||e.name:e.name||t;if(!n)throw new Error("Adapter name not found!");this.elements[n]=e;const r={adapters:this.elements};return S.updateOptions(r),this.elements}}class B extends x{constructor(e){super(e),p(this,"type","binder")}regist(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)throw new Error("No Binder passed to register!");const r=n?t||e.key:e.key||t;if(!r)throw new Error("Binder name not found!");return this.elements[r]=e,this.elements}}class L{static getNamespaces(){return Object.keys(this.instances)}static getInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";const t=L.instances[e];return t||new this(e)}static getAllInstances(){return L.instances}static clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";const t=L.instances[e];return t.events={},t.eventsOnce={},t}static deleteInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";this.clearInstance(e),delete this.instances[e]}static clearAllInstances(){const e=this.getNamespaces();for(const t of e)this.clearInstance(t)}static deleteAllInstances(){this.clearAllInstances(),this.instances={}}get namespace(){return this._namespace}constructor(e){if(p(this,"events",{}),p(this,"eventsOnce",{}),p(this,"_namespace","anonymous"),e)return L.instances[e]||(this._namespace=e,L.instances[e]=this),L.instances[e]}once(e,t,n){this.eventsOnce[e]=this.eventsOnce[e]||[],void 0!==n?this.eventsOnce[e].push({cb:t.bind(n),orgCb:t,thisContext:n}):this.eventsOnce[e].push(t)}on(e,t,n){this.events[e]=this.events[e]||[],void 0!==n?this.events[e].push({cb:t.bind(n),orgCb:t,thisContext:n}):this.events[e].push(t)}off(e,t,n){if(void 0===e)return this.events={},void(this.eventsOnce={});if(void 0!==t)if(void 0!==n){if(e in this.events)for(const[r,s]of this.events[e].entries()){const i=s;i.orgCb===t&&i.thisContext===n&&this.events[e].splice(r,1)}if(e in this.eventsOnce)for(const[r,s]of this.eventsOnce[e].entries()){const i=s;i.orgCb===t&&i.thisContext===n&&this.eventsOnce[e].splice(r,1)}}else{if(e in this.events)for(const[n,r]of this.events[e].entries()){r===t&&this.events[e].splice(n,1)}if(e in this.eventsOnce)for(const[n,r]of this.eventsOnce[e].entries()){r===t&&this.eventsOnce[e].splice(n,1)}}else this.events[e]=[],this.eventsOnce[e]=[]}trigger(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e in this.events)for(const t of this.events[e])null!=t&&t.cb?t.cb(...n):t(...n);if(e in this.eventsOnce)for(const[t,r]of this.eventsOnce[e].entries())null!=r&&r.cb?(r.cb(...n),this.eventsOnce[e].splice(t,1)):(r(...n),this.eventsOnce[e].splice(t,1))}}p(L,"instances",{});class F{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of CoreService not defined, please call setSingleton first!")}static setSingleton(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.instance)throw new Error("Singleton of CoreService already defined!");return this._options=e,this.instance=new this,this.instance}}p(F,"_options",{});class j{constructor(){p(this,"events",L.getInstance("lifecycle")),p(this,"debug",!1),p(this,"routerEvents",L.getInstance()),p(this,"timeout",null),p(this,"components",{}),this.addEventListeners(),this.reset(),j.instance=this}static getInstance(){return j.instance||(j.instance=new j),j.instance}getEmpty(){return{components:[]}}addEventListeners(){this.events.on("Component:connected",(e=>{this.resetTimeout(),this.components[e.tagName]=this.components[e.tagName]||this.getEmpty(),this.components[e.tagName].components.push(e.component)})),this.events.on("Component:disconnected",(()=>{this.resetTimeout(),this.checkStates()})),this.events.on("Component:afterBind",(()=>{this.resetTimeout(),this.checkStates()})),this.events.on("Component:error",((e,t)=>{this.onError(e,t)})),this.routerEvents.on("newPageReady",((e,t,n,r,s,i,o)=>{this.debug&&console.debug("newPageReady",e,t,n,"firstPageLoad",o),o||this.reset()}))}getState(e){let t=0,n=0;for(const r of this.components[e].components)r.connected&&(t++,r.bound&&n++);return{connected:t,bound:n}}getStates(){const e={};for(const t in this.components){const n=this.getState(t);e[t]={state:n,components:this.components[t].components}}return e}checkStates(){let e=!0;const t=this.getStates();for(const n in t){const r=t[n].state;if(r.connected!==r.bound){e=!1;break}}return e&&this.onAllBound(),{states:t,allBound:e}}onAllBound(){this.clearTimeout(),this.events.trigger("ComponentLifecycle:allBound",this.components),this.debug&&console.debug("[ComponentLifecycle] All components bound!")}onError(e,t){this.clearTimeout(),console.error('The component "'.concat(t.tagName,'" has caused an error:'),e),this.events.trigger("ComponentLifecycle:error",e,t)}onTimeout(){this.clearTimeout();const e=this.getStates();if(Object.keys(e).length<=0)return void console.warn("No component found");let t="[ComponentLifecycle] Timeout! {count} component(s) takes too long!\nUnfinished components:\n",n=0;for(const r in e){const s=e[r].state;s.connected!==s.bound&&(n++,t+="".concat(r,": ").concat(JSON.stringify(e[r].state,null,2)," + \n"))}t=t.replace("{count}",n.toString()),this.events.trigger("ComponentLifecycle:error",new Error(t),{})}clearTimeout(){this.timeout&&window.clearTimeout(this.timeout)}resetTimeout(){var e;return this.debug&&console.debug("[ComponentLifecycle] reset timeout.."),this.clearTimeout(),this.timeout=window.setTimeout(this.onTimeout.bind(this),(null===(e=F.options.lifecycle)||void 0===e?void 0:e.timeout)||5e3),this.timeout}reset(){this.debug&&console.debug("[ComponentLifecycle] reset!"),this.components={},this.resetTimeout()}}class D extends x{constructor(e){super(e),p(this,"type","components")}regist(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t||e.tagName:e.tagName||t;return n?(this.elements[n]=e,this.elements):(console.warn(new Error("Component name not found!"),e),this.elements)}}class M extends x{constructor(e){super(e),p(this,"type","formatter")}regist(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t||e.name:e.name||t;if(!n)throw new Error("Formatter name not found!");return this.elements[n]=e,this.elements}}class I{static setRequestHeaderEachRequest(e,t){this._requestHeadersEachRequest.push({name:e,value:t})}static async getJSON(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.fetch(e,"GET",t,"json",n,r)}static async post(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(e,"POST",t,n,r,s)}static async delete(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(e,"DELETE",t,n,r,s)}static async put(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(e,"PUT",t,n,r,s)}static async get(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(e,"GET",t,n,r,s)}static parseDataType(e){const t={};let n="application/x-www-form-urlencoded",r="*/*";switch(e){case"script":n="application/javascript";break;case"json":n="application/json",r="application/json, text/javascript";break;case"xml":n="application/xml",r="application/xml, text/xml";break;case"text":n="text/plain",r="text/plain";break;case"html":n="text/html",r="text/html";break;case"form":n="application/x-www-form-urlencoded"}return n&&(t["Content-Type"]=n,t.Accept=r),t}static async fetch(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!fetch)throw new Error("Your browser does not support the fetch API, use xhr instead or install a polyfill.");for(const e of this._requestHeadersEachRequest)i[e.name]=e.value;s&&(i=N({deep:!1},i,this.parseDataType(s))),o.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");const a=o.cache?o.cache:"default";if("GET"===n&&r){if(new URLSearchParams(r).toString()){const t=-1!==e.indexOf("?")?"&":"?";e=e+t+new URLSearchParams(r).toString()}}else r&&(t="form"===s?new URLSearchParams(r):JSON.stringify(r));const c=await fetch(e,{credentials:"same-origin",cache:a,method:n,body:t,headers:i,mode:o.mode||"cors"});let l=await c.text();if("string"==typeof l&&b(l)&&(l=JSON.parse(l)),"string"==typeof l)switch(l){case"null":l=null;break;case"true":l=!0;break;case"false":l=!1;break;case"undefined":l=void 0}return{status:c.status,headers:c.headers,ok:c.ok,redirected:c.redirected,statusText:c.statusText,type:c.type,url:c.url,arrayBuffer:c.arrayBuffer,blob:c.blob,bodyUsed:c.bodyUsed,clone:c.clone,formData:c.formData,text:c.text,body:l}}}p(I,"_requestHeadersEachRequest",[]);class R{constructor(){p(this,"name","."),p(this,"counter",0),p(this,"weakmap",{})}weakReference(e){if(!e.hasOwnProperty("__rv")){const t=this.counter++;Object.defineProperty(e,"__rv",{value:t})}return this.weakmap[e.__rv]||(this.weakmap[e.__rv]={callbacks:{}}),this.weakmap[e.__rv]}cleanupWeakReference(e,t){Object.keys(e.callbacks).length||e.pointers&&Object.keys(e.pointers).length||delete this.weakmap[t]}stubFunction(e,t){const n=e[t],r=this.weakReference(e),s=this.weakmap;e[t]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];const a=n.apply(e,i);return Object.keys(r.pointers).forEach((e=>{const t=r.pointers[e];s[e]&&Array.isArray(s[e].callbacks[t])&&s[e].callbacks[t].forEach((e=>{e.sync()}))})),a}}observeMutations(e,t,n){if(Array.isArray(e)){const r=this.weakReference(e);r.pointers||(r.pointers={},R.ARRAY_METHODS.forEach((t=>{this.stubFunction(e,t)}))),r.pointers[t]||(r.pointers[t]=[]),-1===r.pointers[t].indexOf(n)&&r.pointers[t].push(n)}}unobserveMutations(e,t,n){if(Array.isArray(e)&&null!=e.__rv){const r=this.weakmap[e.__rv];if(r){const s=r.pointers[t];if(s){const i=s.indexOf(n);i>-1&&s.splice(i,1),s.length||delete r.pointers[t],this.cleanupWeakReference(r,e.__rv)}}}}observe(e,t,n){let r;const s=this.weakReference(e).callbacks;if(!s[t]){s[t]=[];const n=Object.getOwnPropertyDescriptor(e,t);n&&(n.get||n.set||!n.configurable)||(r=e[t],Object.defineProperty(e,t,{enumerable:!0,get:()=>r,set:n=>{if(n!==r){this.unobserveMutations(r,e.__rv,t),r=n;const s=this.weakmap[e.__rv];if(s){const r=s.callbacks[t];r&&r.forEach((e=>{e.sync()})),this.observeMutations(n,e.__rv,t)}}}}))}-1===s[t].indexOf(n)&&s[t].push(n),this.observeMutations(e[t],e.__rv,t)}unobserve(e,t,n){const r=this.weakmap[e.__rv];if(r){const s=r.callbacks[t];if(s){const i=s.indexOf(n);i>-1&&(s.splice(i,1),s.length||(delete r.callbacks[t],this.unobserveMutations(e[t],e.__rv,t))),this.cleanupWeakReference(r,e.__rv)}}}get(e,t){return e[t]}set(e,t,n){e[t]=n}}p(R,"ARRAY_METHODS",["push","pop","shift","unshift","sort","reverse","splice"]);const H=new R,U=e=>{const t=[];if("checkbox"===e.type)return e.checked;if("select-multiple"===e.type){const n=e.options;for(const e in n)if(n[e]){const r=n[e];r.selected&&t.push(r.value)}return t}return e.hasAttribute&&e.hasAttribute("contenteditable")?e.innerHTML:e.value},V=async e=>new Promise((t=>{let n;const r=()=>{void 0!==n&&clearTimeout(n),n=setTimeout((()=>{t()}),100)};e.removeEventListener("scroll",r),e.addEventListener("scroll",r),r()}));window.scrollToPosition=async function(e,t){let n,r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"smooth";if(!e)return;const o=V(e);if("vertical"===s||"both"===s)switch(t){case"start":n=0;break;case"end":if(e.document){const t=e,r=t.document;n=t.scrollMaxY||Math.max(r.body.scrollHeight,r.body.offsetHeight,r.documentElement.clientHeight,r.documentElement.scrollHeight,r.documentElement.offsetHeight)}else n=e.scrollHeight;break;default:n=t}if("horizontal"===s||"both"===s)switch(t){case"start":r=0;break;case"end":if(e.document){const t=e,n=t.document;r=t.scrollMaxX||Math.max(n.body.scrollWidth,n.body.offsetWidth,n.documentElement.clientWidth,n.documentElement.scrollWidth,n.documentElement.offsetWidth)}else r=e.scrollWidth;break;default:r=t}return e.scroll({behavior:i,top:n,left:r}),o};const q=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=-1!==e.localName.indexOf("-");if(r&&t&&customElements){const t=customElements.get(e.localName);return!!t&&(!n||t===e.constructor)}return r},W=async e=>(await customElements.whenDefined(e.localName),e);let z=1;const J={};let G=!1;const Y="setImmediate$"+Math.random()+"$";function $(e){window.postMessage(Y+e,"*")}function Q(e){delete J[e]}function X(e){if(G)setTimeout(X,0,e);else{const t=J[e];if(t){G=!0;try{!function(e){(0,e.callback)(...e.args)}(t)}finally{Q(e),G=!1}}}}window.addEventListener("message",(function(e){e.source===window&&"string"==typeof e.data&&0===e.data.indexOf(Y)&&X(+e.data.slice(Y.length))}),!1);window.setImmediate,window.clearImmediate;const K=()=>{const e=navigator.userAgent,t=window.navigator.platform,n={windows7:/Windows NT 6.1/,windows8:/Windows NT 6.2/,windows81:/Windows NT 6.3/,windows10:/Windows NT 10.0/,windows:/windows/i,windowsPhone:/trident/i,android:/android/i,ios:/(ipad|iphone|ipod)/i,linux:/(linux)/i,unix:/(openbsd|freebsd|netbsd)/i,osxCatalina:/macintosh.+10(_|\.)15/i,osxBigSur:/macintosh.+((10(_|\.)16)|(11(_|\.)))/i,osx:/macintosh/i,mac:/mac/i},r={linux:/Linux/i,unix:/(FreeBSD|OpenBSD|X11|SunOS)/i,webOS:/webOS/i,playstation3:/playstation 3/i,playstation4:/playstation 4/i,PlaystationPortable:/psp/i,newNintendo3Ds:/new nintendo 3ds/i,nintendoDsi:/nintendo dsi/i,nintendo3Ds:/nintendo 3ds/i,nintendoWii:/nintendo wii/i,nintendoWiiU:/nintendo wiiu/i,palmos:/palmos/i,symbian:/(nokia_series_40|s60|symbian)/i};for(const t of Object.keys(n)){if(n[t].test(e))return"mac"===t&&"ontouchend"in document?"ios":t}for(const e of Object.keys(r)){if(r[e].test(t))return e}return"Unknown"},Z=()=>{const e=K();let t=!1,n=!1,r=!1;switch(e){case"windows":case"windows10":case"windows7":case"windows8":case"windows81":case"osxBigSur":case"osxCatalina":case"osx":case"mac":case"linux":case"unix":n=!0;break;case"ios":case"android":case"windowsPhone":case"symbian":t=!0}return-1===e.indexOf("playstation")&&-1===e.indexOf("nintendo")||(r=!0),{isMobile:t,isDesktop:n,isGameConsole:r}},ee=/^'.*'$|^".*"$/,te=/((?:'[^']*')*(?:(?:[^|']*(?:'[^']*')+[^|']*)+|[^|]+))|^$/g;function ne(e){let t=0,n=e;if(void 0===e)return{type:t,value:void 0};if(ee.test(e)){n=e.slice(1,-1);const t=v(n);n=t||n}else if("true"===e)n=!0;else if("false"===e)n=!1;else if("null"===e)n=null;else if("undefined"===e)n=void 0;else if(""===e)n=void 0;else if(isNaN(Number(e)))if(f(n)){const e=v(n);n=e||n}else t=1;else n=Number(e);return{type:t,value:n}}const re=/[^\s']+|'([^']|'[^\s])*'|"([^"]|"[^\s])*"/g,se=/\s+/;class ie{constructor(e,t,n,r,s,i,o){p(this,"publishes",!1),p(this,"priority",0),p(this,"formatterObservers",{}),this.view=e,this.el=t,this.type=n,this.name=r,this.keypath=s,this.formatters=i,this.model=void 0,this.args=o&&n?this.getStarArguments(o,n):new Array}observe(e,t,n){return new S(e,t,n)}parseTarget(){if(this.keypath){const e=ne(this.keypath);if(0===e.type)this.value=e.value;else{if(1!==e.type)throw new Error("[".concat(this.name,"] Unknown type in token"));this.observer=this.observe(this.view.models,this.keypath,this),this.model=this.observer.target}}else this.value=void 0}getIterationAlias(e){return"%"+e+"%"}parseFormatterArguments(e,t){return e.map(ne).map(((e,n)=>{let{type:r,value:s}=e;if(0===r){return s}if(1===r){const e=s;this.formatterObservers[t]||(this.formatterObservers[t]={});let r=this.formatterObservers[t][n];return r||(r=this.observe(this.view.models,e,this),this.formatterObservers[t][n]=r),r.value()}throw new Error("[".concat(this.name,"] Unknown argument type"))}))}formattedValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null===this.formatters)throw new Error("[".concat(this.name," formatters is null"));let n=!1;const r=t?this.formatters.slice(t):this.formatters;return r.reduce(((t,s,i)=>{if(n)return t;const o=s.match(re);if(null===o)return console.warn(new Error("[".concat(this.name,'] No args matched with regex "FORMATTER_ARGS"!\nvalue: ').concat(JSON.stringify(e),"\nresult: ").concat(JSON.stringify(t),"\ndeclaration: ").concat(JSON.stringify(s),"\nindex: ").concat(i,"\n"))),t;const a=o.shift();if(!a)throw new Error("[".concat(this.name,"] No formatter id found in args!"));if(!this.view.options.formatters)throw new Error("[".concat(this.name,"] No formatters are defined!"));const c=this.view.options.formatters[a];if(!c)throw new Error("[".concat(this.name,'] No formatters with id "').concat(a,'" found!'));const l=this.parseFormatterArguments(o,i);return c&&"function"==typeof c.read&&(t=c.read.apply(this.model,[t,...l])),i<r.length-1&&t&&"function"==typeof t.then&&"function"==typeof t.catch?(n=!0,t.then((e=>this.formattedValue(e,i+1)))):t}),e)}eventHandler(e,t){const n=this.view.options.handler;return r=>{if(!n)throw new Error("No handler defined in binding.view.options.handler");n.call(e,this,r,this,t)}}set(e){try{e=this.formattedValue(e)}catch(t){return console.error(t),e}"function"==typeof this.routine&&(e&&"function"==typeof e.then&&"function"==typeof e.catch?e.then((e=>{this.routine(this.el,e)})).catch((e=>{console.error(e)})):this.routine(this.el,e))}sync(){this.observer?(this.model=this.observer.target,this.set(this.observer.value())):this.set(this.value)}publish(){if(this.observer){if(null===this.formatters)throw new Error("formatters is null");const e=this.formatters.reduceRight(((e,t,n)=>{const r=t.split(se),s=r.shift();if(!s)throw new Error("id not defined");if(!this.view.options.formatters)return;const i=this.view.options.formatters[s],o=this.parseFormatterArguments(r,n);return i&&"function"==typeof i.publish&&(e=i.publish(e,...o)),e}),this._getValue(this.el));this.observer.setValue(e)}}_bind(){if(this.parseTarget(),this.bind){if("function"!=typeof this.bind)throw new Error("the method bind is not a function");this.bind(this.el)}this.view.options.preloadData&&this.sync()}_unbind(){this.unbind&&this.unbind(this.el),this.observer&&this.observer.unobserve(),Object.keys(this.formatterObservers).forEach((e=>{const t=this.formatterObservers[e];Object.keys(t).forEach((e=>{t[e].unobserve()}))})),this.formatterObservers={}}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.observer&&(this.model=this.observer.target),"function"==typeof this.update&&this.update(e)}_getValue(e){return"function"==typeof this.getValue?this.getValue(e):U(e)}getStarArguments(e,t){const n=new RegExp("^".concat(e.replace(/\*/g,"(.+)"),"$")),r=t.match(n);return r&&r.slice(1)||[]}}p(ie,"key",""),p(ie,"block",!1);class oe extends ie{constructor(){super(...arguments),p(this,"function",!0),p(this,"priority",1e3)}bind(e){const t=this.args[0];e.classList.add(t)}routine(e,t){const n=this.args[0];t?(e.classList.add(n+"-start"),e.classList.remove(n+"-done")):(e.classList.remove(n+"-start"),e.classList.add(n+"-done"))}}p(oe,"key","animate-*");class ae extends ie{constructor(){super(...arguments),p(this,"function",!0),p(this,"priority",1e3)}bind(e){this.staticClasses=e.className.split(" ")}unbind(){delete this.staticClasses}routine(e,t){var n;t?-1===(null===(n=this.staticClasses)||void 0===n?void 0:n.indexOf(t))&&(e.className=this.staticClasses.join(" ")+" "+t):this.staticClasses&&(e.className=this.staticClasses.join(" "));e.className=e.className.trim()}}p(ae,"key","add-class");class ce extends ie{routine(e,t){const n=O(this.args[0].trim());this.view.models[n]=t}}p(ce,"key","assign-*");class le extends ie{routine(e,t){if("object"==typeof t)return N({deep:!1},this.view.models,t);console.warn("Value must be an object or propertyName is required")}}p(le,"key","assign");class de extends ie{routine(){}}p(de,"key","block"),p(de,"block",!0);class he extends ie{constructor(){super(...arguments),p(this,"publishes",!0),p(this,"priority",2e3),p(this,"onChange",this.publish.bind(this))}bind(e){e.addEventListener("change",this.onChange)}unbind(e){e.removeEventListener("change",this.onChange)}routine(e,t){let n;this._getValue?n=this._getValue(e):(console.warn("this._getValue is not a function, this: ",this),n=U(e)),"radio"===e.type?e.checked=k(n)===k(t):n!==t&&(e.checked=!!t)}getValue(e){return U(e)}}p(he,"key","checked");class ue extends ie{routine(e,t){if(null===this.args)throw new Error("args is null");const n=e.className.split(" ").filter((e=>""!==e)),r=this.args[0].trim(),s=n.indexOf(r);-1===s?t&&(e.className+=" ".concat(r)):t||(e.className=n.filter(((e,t)=>t!==s)).join(" "))}}p(ue,"key","class-*");class pe extends ie{constructor(){super(...arguments),p(this,"publishes",!0)}routineIntern(e,t){const n=this.args[0].trim();e.setBinderAttribute?void 0!==t&&e.setBinderAttribute(n,t):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",e)}async routine(e,t){q(e,!0,!0)?this.routineIntern(e,t):q(e,!0)?(await W(e),this.routineIntern(e,t)):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",e)}bindIntern(e){const t=this.args[0].trim();"function"==typeof e.observeAttribute?this.componentAttributeObserver=e.observeAttribute(t,{sync:()=>{this.publish()}}):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",e)}async bind(e){q(e,!0,!0)?this.bindIntern(e):q(e,!0)?(await W(e),this.bindIntern(e)):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",e)}unbind(){var e;null===(e=this.componentAttributeObserver)||void 0===e||e.unobserve()}getValue(e){const t=this.args[0].trim();return e.getBinderAttribute(t)}}p(pe,"key","co-*");class me extends ie{routine(e,t){e.disabled=!!t}}p(me,"key","disabled");class fe extends ie{routine(e,t){e.data=null!=t?t:""}}function be(e,t){let n=null;const r=e.length;let s=0,i=0;const o=t[0],a=t[1];for(;i<r;){if(s=e.indexOf(o,i),s<0){n&&n.push({type:0,value:e.slice(i)});break}{if(n=n||[],s>0&&i<s&&n.push({type:0,value:e.slice(i,s)}),i=s+o.length,s=e.indexOf(a,i),s<0){const t=e.slice(i-o.length),r=n[n.length-1];r&&0===r.type?r.value+=t:n.push({type:0,value:t});break}const t=e.slice(i,s).trim();n.push({type:1,value:t}),i=s+a.length}}return n}function ve(e,t,n){let r=!1;if((t=t).nodeType===Node.TEXT_NODE){let s=null;if(t.data&&(s=be(t.data,n)),s&&s.length){for(let n=0;n<s.length;n++){const r=s[n],i=document.createTextNode(r.value);t.parentNode&&i&&t&&t.parentNode.insertBefore(i,t),1===r.type&&e.buildBinding(i,null,r.value,fe,null)}t.parentNode&&t.parentNode.removeChild(t)}r=!0}else t.nodeType===Node.ELEMENT_NODE&&(r=e.traverse(t));if(!r&&t.childNodes&&t.childNodes.length>0)for(let r=0;r<t.childNodes.length;r++){const s=t.childNodes[r];s&&ve(e,s,n)}}p(fe,"key","mustache-text");const ge={name:"json",read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=JSON.stringify(e,null,t);return n&&r?r.replace(/'/g,"&#39;"):r}};class ye extends ie{routine(e,t){if(!this.type)throw new Error("Can't set attribute of "+this.type);const n=e.getAttribute(this.type);let r;switch(typeof t){case"string":case"number":case"boolean":r=t;break;case"object":null===t?t=null:r=ge.read(t,0);break;default:r=t}null!=r?String(n).toString()!==String(r).toString()&&(e.setAttribute(this.type,r),e.dispatchEvent(new CustomEvent("binder-changed",{detail:{name:this.type,newValue:r,oldValue:n}}))):(e.removeAttribute(this.type),e.dispatchEvent(new CustomEvent("binder-changed",{detail:{name:this.type,newValue:r,oldValue:n}})))}}p(ye,"key","*");class we{static create(e,t,n){var r;const s=e.el.cloneNode(!0),i=new we(s,t,e.view.options);return i.bind(),null!=e&&null!==(r=e.marker)&&void 0!==r&&r.parentNode?e.marker.parentNode.insertBefore(s,n):console.warn("[View]: No parent node for binding!"),i}constructor(e,t,n){p(this,"bindings",[]),p(this,"webComponents",[]),Array.isArray(e)?this.els=e:this.els=[e],this.models=t,this.options=n,this.build()}registComponents(){for(const e in this.options.components)if(this.options.components[e]&&!customElements.get(e)){const t=this.options.components[e];this.registComponent(t,e)}}bind(){this.bindings.forEach((e=>{e._bind()}))}unbind(){Array.isArray(this.bindings)&&this.bindings.forEach((e=>{e._unbind(),e.el,this.options.removeBinderAttributes})),Array.isArray(this.webComponents)&&this.webComponents.forEach((e=>{"function"==typeof e.unbind&&e.unbind()}))}sync(){this.bindings.forEach((e=>{e.sync&&e.sync()}))}publish(){this.bindings.forEach((e=>{e.publishes&&e.publish&&e.publish()}))}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((t=>{this.models[t]=e[t]}));for(const t of this.bindings)t._update&&t._update(e)}build(){if(this.bindings=[],!this.options.templateDelimiters)throw new Error("templateDelimiters required");const e=this.els;for(let t=0;t<e.length;t++){const n=e[t];n&&ve(this,n,this.options.templateDelimiters)}this.bindings.sort(we.bindingComparator)}startsWithPrefix(e){const t=this.options.fullPrefix;if(!t)throw new Error("prefix is required");for(const n of t)if(e.startsWith(n))return n}bindBinders(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.attributeBinders,r=!1;if(!this.options.binders)return r;const s=[];for(let i=0,o=e.length;i<o;i++){let o="",a=null;const c=e[i],l=this.startsWithPrefix(c.name);if(l){let e="";if(o=c.name.slice(l.length),this.options.binders[o]&&(a=this.options.binders[o]),null===a)for(let t=0;t<n.length;t++){e=n[t];if(new RegExp("^".concat(e.replace(/\*/g,".+"),"$")).test(o)){a=this.options.binders[e];break}}if(null===a&&(this.options.binders["*"]?(a=this.options.binders["*"],e="*"):a=ye),a.block)return this.buildBinding(t,o,c.value,a,e),t.removeAttribute&&this.options.removeBinderAttributes&&t.removeAttribute(c.name),r=!0,r;s.push({attr:c,Binder:a,nodeName:o,identifier:e})}}for(let e=0;e<s.length;e++){const n=s[e];this.buildBinding(t,n.nodeName,n.attr.value,n.Binder,n.identifier),t.removeAttribute&&this.options.removeBinderAttributes&&t.removeAttribute(n.attr.name)}return r}bindComponent(e){let t=!1;if(!this.options.components)return t;const n=e.nodeName.toLowerCase(),r=this.options.components[n];return r?(this.registComponent(r,n),t=!0):this.options.blockUnknownCustomElements&&q(e)&&!n.endsWith("-page")&&(t=!0),t}traverse(e){let t=-1!==this.options.blockNodeNames.indexOf(e.nodeName);const n=e.attributes;return n&&this.options.binders&&(t=this.bindBinders(n,e),t)||t||e._bound||!this.options.components||(t=this.bindComponent(e)),t}buildBinding(e,t,n,r,s){const i=function(e){const t=e.match(te);if(null===t)throw new Error("[View] No matches");const n=t.map((e=>e.trim()));return{keypath:n.shift()||void 0,pipes:n}}(n),o=i.keypath,a=i.pipes;this.bindings.push(new r(this,e,t,r.key,o,a,s))}registComponent(e,t){if(!customElements)throw console.error("customElements not supported by your browser!"),new Error("customElements not supported by your browser!");const n=t||e.tagName;customElements.get(n)||customElements.define(e.tagName,e)}}p(we,"bindingComparator",((e,t)=>{const n=e.priority||0;return(t.priority||0)-n}));class ke extends ie{constructor(){super(...arguments),p(this,"priority",4e3),p(this,"iterated",[])}bind(e){var t,n,r;this.marker?this.iterated.forEach((e=>{e.bind()})):(this.marker=null===(t=window)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.createComment(" riba: ".concat(this.type," ")),null!==(r=e.parentNode)&&void 0!==r&&r.insertBefore&&this.marker&&(e.parentNode.insertBefore(this.marker,e),e.parentNode.removeChild(e)))}unbind(){this.iterated&&this.iterated.forEach((e=>{e.unbind()}))}routine(e,t){if(null===this.args)throw new Error("args is null");let n=!1;const r=O(this.args[0].toString());if(t=t||[],Array.isArray(t)||"object"!=typeof t||null===t||(t=Object.entries(t).map((e=>{let[t,n]=e;return{key:t,value:n}})),n=!0),!Array.isArray(t))throw new Error("each-".concat(this.args[0]," needs an array or object to iterate over, but it is ").concat(typeof t));const s=e.getAttribute("index-property")||this.getIterationAlias(r);t.forEach(((e,t)=>{const i={$parent:this.view.models};n?(i[s]=e.key,i[r]=e.value):(i[s]=t,i[r]=e);let o=this.iterated[t];if(o)if(o.models[r]!==e){let n,c=this.iterated[t];for(let s=t+1;s<this.iterated.length;s++)if(c=this.iterated[s],c.models[r]===e){n=s;break}if(void 0!==n){var a;if(this.iterated.splice(n,1),!this.marker||null===(a=this.marker.parentNode)||void 0===a||!a.insertBefore)throw new Error("Marker has no parent node");c&&c.els[0]&&o.els[0]&&this.marker.parentNode.insertBefore(c.els[0],o.els[0]),c.models[s]=t}else c=we.create(this,i,o.els[0]);this.iterated.splice(t,0,c)}else o.models[s]=t;else{let e;if(this.iterated.length?e=this.iterated[this.iterated.length-1].els[0]:this.marker&&(e=this.marker),!e)return;o=we.create(this,i,e.nextSibling),this.iterated.push(o)}})),this.iterated.length>t.length&&((e,t)=>{for(let n=0;n<e;n++)t()})(this.iterated.length-t.length,(()=>{const e=this.iterated.pop();if(!e)throw new Error("view is undefined!");if(e.unbind(),!this.marker||!this.marker.parentNode)throw new Error("Marker has no parent node");this.marker.parentNode.removeChild(e.els[0])})),"OPTION"===e.nodeName&&this.view.bindings&&this.view.bindings.forEach((e=>{this.marker&&e.el===this.marker.parentNode&&"value"===e.type&&e.sync&&e.sync()}))}update(e){const t={};Object.keys(e).forEach((n=>{if(null===this.args)throw new Error("args is null");n!==this.args[0]&&(t[n]=e[n])})),this.iterated.forEach((e=>{e.update(t)}))}}p(ke,"key","each-*"),p(ke,"block",!0);class Ae extends ie{routine(e,t){e.disabled=!t}}p(Ae,"key","enabled");class Ee extends ie{constructor(){super(...arguments),p(this,"priority",9e4)}routine(e,t){const n=Array.from(e.children);n.sort(((e,n)=>e.dataset.sortBy&&n.dataset.sortBy?e.dataset.sortBy<n.dataset.sortBy?t?1:-1:e.dataset.sortBy>n.dataset.sortBy?t?-1:1:0:0));for(let e=0;e<n.length;e++){n[e].style.order=e.toString()}}}p(Ee,"key","flex-sort-childs");class Ce extends ie{routine(e,t){e.style.display=t?"none":"",t?e.setAttribute("hidden","true"):e.removeAttribute("hidden")}}p(Ce,"key","hide");class Oe extends ie{routine(e,t){e.innerHTML=void 0!==t?t.toString():""}}p(Oe,"key","html");class Ne extends ie{constructor(){super(...arguments),p(this,"priority",4e3),p(this,"attached",!1)}bind(e){var t,n,r;this.marker?this.nested&&this.nested.bind():(this.marker=null===(t=window)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.createComment(" riba: "+this.type+" "+this.keypath+" "),this.attached=!1,null!==(r=e.parentNode)&&void 0!==r&&r.insertBefore&&(e.parentNode.insertBefore(this.marker,e),e.parentNode.removeChild(e)))}unbind(){this.nested&&this.nested.unbind()}routine(e,t){(t=!!t)!==this.attached&&(t?(this.nested||(this.nested=new we(e,this.view.models,this.view.options),this.nested.bind()),this.marker&&this.marker.parentNode&&this.marker.parentNode.insertBefore(e,this.marker.nextSibling),this.attached=!0):(e.parentNode&&e.parentNode.removeChild(e),this.attached=!1))}update(e){this.nested&&this.nested.update(e)}}p(Ne,"key","if"),p(Ne,"block",!0);class xe extends ie{routine(e,t){"number"==typeof t?(e.setAttribute("maxlength",t.toString()),e.maxLength=t):e.removeAttribute("maxlength")}}p(xe,"key","maxlength");class Pe extends ie{routine(e){e.addEventListener("dragstart",(e=>(e.preventDefault(),!1)))}}p(Pe,"key","not-draggable");class _e extends ie{constructor(){super(...arguments),p(this,"function",!0),p(this,"priority",1e3)}unbind(e){if(this.handler){if(null===this.args)throw new Error("args is null");const t=this.args[0];e.removeEventListener(t,this.handler)}}routine(e,t){if(null===this.args)throw new Error("args is null");const n=this.args[0],r={passive:"true"===this.el.dataset.passive};this.handler&&e.removeEventListener(n,this.handler,r),this.handler=this.eventHandler(t,e).bind(this),e.addEventListener(n,this.handler,r)}}p(_e,"key","on-*");class Se extends ie{routine(){}bindIntern(e){e.setBinderAttribute?e.setBinderAttribute("$parent",this.view.models):console.warn("[parentBinder] You can only use this binder on Riba components",e.localName,customElements.get(e.localName))}async bind(e){q(e,!0,!0)?this.bindIntern(e):q(e,!0)?(console.info("[parentBinder] CustomElement ".concat(e.localName," has been defined, but is not yet upgraded. Waiting for upgrade.."),e),await W(e),this.bindIntern(e)):console.warn("[parentBinder] You can only use this binder on Riba components",e.localName)}}p(Se,"key","parent");class Te extends ie{routine(e,t){t=!!t,e.readOnly=t,t?e.setAttribute("readonly",""):e.removeAttribute("readonly")}}p(Te,"key","readonly");class Be extends ie{bind(e){this.staticClassesString=e.className}routine(e,t){const n=new RegExp("\\b".concat(t,"\\b"),"g");if(!this.staticClassesString)throw new Error("staticClassesString is undefined!");e.className=this.staticClassesString.replace(n,"").trim()}}p(Be,"key","remove-class");class Le extends ie{routine(e,t){e.style.display=t?"":"none",t?e.removeAttribute("hidden"):e.setAttribute("hidden","true")}}p(Le,"key","show");class Fe extends ie{routine(e,t){const n=this.args[0];let r=e.getAttribute("srcset");if("string"!=typeof r&&(r=""),"string"==typeof t&&t.length>0){const e=r.length>0?", ":"";r+="".concat(e).concat(t," ").concat(n)}else{let e=r.split(",");e=e.map((e=>e.trim())),e=e.filter((e=>!(-1!==e.indexOf(n)))),r=e.join(", ")||""}e.setAttribute("srcset",r)}}p(Fe,"key","srcset-*");class je extends ie{routine(e,t){const n="background-image";null==t||""===t?e.style.removeProperty(n):e.style.setProperty(n,"url(".concat(t,")"))}}p(je,"key","style-background-image");class De extends ie{routine(e,t){const n=this.args[0];null==t||""===t?e.style.removeProperty(n.toString()):e.style.setProperty(n.toString(),t)}}p(De,"key","style-*");class Me extends ie{routine(e,t){if(t)if("string"==typeof t)e.setAttribute("style",t);else for(const n of Object.keys(t))e.style.setProperty(n.replace(/[A-Z]/g,(e=>"-".concat(e.toLowerCase()))),t[n]||null);else for(const t of Object.keys(e.style))e.style.removeProperty(t)}}p(Me,"key","style");class Ie extends ie{constructor(){super(...arguments),p(this,"priority",-1e3)}bind(e){this.originalTag=e.tagName.toLowerCase()}routine(e,t){if(null===this.args)throw new Error("args is null");const n=this.el.tagName.toLowerCase();let r;if(t)r=this.args[0].trim().toLowerCase();else{if(!this.originalTag)throw new Error("Tag name not found!");r=this.originalTag.toLowerCase()}if(n!==r){const t=document.createElement(r);for(;e.childNodes.length>0;)e.firstChild&&t.appendChild(e.firstChild);const n=Array.prototype.slice.call(e.attributes);for(const e of n)t.setAttribute(e.name,e.value);e.parentNode?e.parentNode.replaceChild(t,e):console.warn("No parent"),this.el=t}}}p(Ie,"key","tag-*");class Re extends ie{bind(e){this.nested=new we(e,this.view.models,this.view.options)}routine(e,t){var n,r;null===(n=this.nested)||void 0===n||n.unbind(),e.innerHTML=t||"",this.nested=new we(e,this.view.models,this.view.options),null===(r=this.nested)||void 0===r||r.bind()}unbind(){var e;null===(e=this.nested)||void 0===e||e.unbind()}update(e){var t;null===(t=this.nested)||void 0===t||t.update(e)}}p(Re,"key","template");class He extends ie{routine(e,t){e.textContent=null!=t?t.toString():""}}p(He,"key","text");class Ue extends ie{toggle(){this.propertyKey&&(this.view.models[this.propertyKey]=!this.view.models[this.propertyKey])}bind(e){const t=this.args[0],n="true"===this.el.dataset.passive;e.addEventListener(t,this.toggle,{passive:n})}unbind(e){if(null===this.args)throw new Error("args is null");const t=this.args[0];e.removeEventListener(t,this.toggle)}routine(e,t){if(null===this.args)throw new Error("args is null");this.propertyKey=t}}p(Ue,"key","toggle-on-*");class Ve extends ie{constructor(){super(...arguments),p(this,"publishes",!0),p(this,"priority",2e3),p(this,"onChange",this.publish.bind(this))}bind(e){e.addEventListener("change",this.onChange)}unbind(e){e.removeEventListener("change",this.onChange)}routine(e,t){"radio"===e.type?e.checked=k(e.value)!==k(t):e.checked=!t}getValue(e){return U(e)}}p(Ve,"key","unchecked");class qe extends Ne{routine(e,t){return super.routine(e,!t)}}p(qe,"key","unless");class We extends ie{constructor(){super(...arguments),p(this,"publishes",!0),p(this,"priority",3e3),p(this,"onChange",this.publish.bind(this))}getData(e){const t={type:e.type,tagName:e.tagName,contenteditable:!!e.getAttribute("contenteditable"),isRadio:!1};return t.isRadio="INPUT"===t.tagName&&"radio"===t.type,t}bind(e){if(!this.getData(e).isRadio){this.event=e.getAttribute("event-name")||"change input paste blur focus";const t=this.event.split(" ");for(const n of t)e.addEventListener(n.trim(),this.onChange,!1)}}unbind(e){if(this.event){const t=this.event.split(" ");for(const n in t)e.removeEventListener(n.trim(),this.onChange)}}routine(e,t){let n=this.getValue(e);if(Array.isArray(t)||(t=null!=t?k(t):""),Array.isArray(n)||(n=null!=n?k(n):""),n===t)return;if(this.getData(e).isRadio)e.setAttribute("value",t);else if("select-multiple"===e.type){if(Array.isArray(t))for(let n=0;n<e.options.length;n++){const r=e.options[n];r.selected=t.indexOf(r.value)>-1}}else e.getAttribute("contenteditable")?e.innerHTML=t:e.value=t}getValue(e){return U(e)}}p(We,"key","value");class ze{constructor(e,t,n,r){this.binder=new B(e),this.component=new D(t),this.formatter=new M(n),this.adapter=new T(r)}regist(e){if(!e)throw console.error(e),new Error("The Riba module is falsy!");e.binders&&this.binder.regists(e.binders),e.components&&this.component.regists(e.components),e.formatters&&this.formatter.regists(e.formatters),e.adapters&&this.adapter.regists(e.adapters)}}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Ye{static handler(e,t,n,r){if(!this||!this.call){const e=new Error("[rv-".concat(n.type,'="').concat(n.keypath,'"] Event handler "').concat(n.keypath,'" not found!"'));throw console.error(e,n,r,n.view.models),e}this.call(e,t,n.view.models,r)}set prefix(e){if(Array.isArray(e)){this._prefix=[],this._fullPrefix=[];for(const t of e)this._prefix.push(t),this._fullPrefix.push(t+"-")}}get prefix(){return this._prefix}get fullPrefix(){return this._fullPrefix}constructor(){if(p(this,"lifecycle",j.getInstance()),p(this,"binders",{}),p(this,"components",{}),p(this,"formatters",{}),p(this,"adapters",{}),p(this,"parseTemplate",be),p(this,"parseType",ne),p(this,"templateDelimiters",["{","}"]),p(this,"rootInterface","."),p(this,"preloadData",!0),p(this,"removeBinderAttributes",!0),p(this,"blockNodeNames",["SCRIPT","STYLE","TEMPLATE","CODE"]),p(this,"blockUnknownCustomElements",!0),p(this,"_prefix",["rv"]),p(this,"_fullPrefix",["rv-"]),this.module=new ze(this.binders,this.components,this.formatters,this.adapters),Ye.instance)return Ye.instance;Ye.instance=this}configure(e){if(e)for(const[t,n]of Object.entries(e))switch(t){case"binders":this.binders=Ge(Ge({},this.binders),n);break;case"formatters":this.formatters=Ge(Ge({},this.formatters),n);break;case"components":this.components=Ge(Ge({},this.components),n);break;case"adapters":this.adapters=Ge(Ge({},this.adapters),n);break;case"prefix":this.prefix=n;break;case"parseTemplate":this.parseTemplate=n;break;case"parseType":this.parseType=n;break;case"templateDelimiters":this.templateDelimiters=n;break;case"rootInterface":this.rootInterface=n;break;case"preloadData":this.preloadData=n;break;case"blockNodeNames":this.blockNodeNames=n;break;case"blockUnknownCustomElements":this.blockUnknownCustomElements=Boolean(n);break;default:console.warn("Option not supported",t,n)}}getViewOptions(e){const t={adapters:{},binders:{},components:{},formatters:{},attributeBinders:[],rootInterface:{}};if(e&&(t.binders=Ge(Ge({},t.binders),e.binders),t.formatters=Ge(Ge({},t.formatters),e.formatters),t.components=Ge(Ge({},t.components),e.components),t.adapters=Ge(Ge({},t.adapters),e.adapters)),null!=e&&e.prefix&&Array.isArray(null==e?void 0:e.prefix)){t.prefix=[],t.fullPrefix=[];for(const n of e.prefix)t.prefix.push(n),t.fullPrefix.push(n+"-")}else t.prefix=this.prefix,t.fullPrefix=this.fullPrefix;if(t.templateDelimiters=(null==e?void 0:e.templateDelimiters)||this.templateDelimiters,t.rootInterface=(null==e?void 0:e.rootInterface)||this.rootInterface,t.removeBinderAttributes="boolean"==typeof(null==e?void 0:e.removeBinderAttributes)?e.removeBinderAttributes:this.removeBinderAttributes,t.blockNodeNames=(null==e?void 0:e.blockNodeNames)||this.blockNodeNames,t.preloadData="boolean"==typeof(null==e?void 0:e.preloadData)?e.preloadData:this.preloadData,t.handler=(null==e?void 0:e.handler)||Ye.handler,t.binders=Ge(Ge({},this.binders),t.binders),t.formatters=Ge(Ge({},this.formatters),t.formatters),t.components=Ge(Ge({},this.components),t.components),t.adapters=Ge(Ge({},this.adapters),t.adapters),t.attributeBinders||(t.attributeBinders=[]),t.binders){const e=Object.keys(t.binders).filter((e=>e.indexOf("*")>=1));t.attributeBinders.push(...e)}return t}bind(e,t,n){const r=this.getViewOptions(n);t=t||Object.create(null),S.updateOptions(r);const s=new we(e,t,r);return s.bind(),s}}window.Riba=Ye;const $e=()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e};class Qe extends HTMLElement{constructor(){super(),p(this,"_debug",!1),p(this,"templateLoaded",!1),p(this,"observedAttributesToCheck",{}),p(this,"observedAttributes",[]),this._debug&&(this._color=$e())}remove(){this&&this.parentElement&&this.parentElement.removeChild(this)}_log(e){const t=this.constructor.name||this.tagName;this._color||(this._color=$e());for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];!function(e){const t=[];e.color?(e.namespace?t.push("%c[".concat(e.namespace,"] ").concat(e.mode.toUpperCase(),": ")):t.push("%c".concat(e.mode.toUpperCase(),": ")),t.push("color: ".concat(e.color))):e.namespace?t.push("[".concat(e.namespace,"] ").concat(e.mode.toUpperCase(),": ")):t.push("".concat(e.mode.toUpperCase(),": "));for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t.push(...r),console[e.mode](...t)}({namespace:t,color:this._color,mode:e},...r)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._log("info",...t)}debug(){if(this._debug){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._log("debug",...t)}}error(){console.error(...arguments)}requiredAttributes(){return[]}async init(e){this.loadAttributes(e),this.getPassedObservedAttributes(e)}ready(){return this.allPassedObservedAttributesAreInitialized()&&this.checkRequiredAttributes()}attributeIsPassed(e){return this.hasAttribute(e)}getPassedObservedAttributes(e){const t=this.observedAttributesToCheck;for(const n of e)t[n]?t[n].passed||(t[n].passed=this.attributeIsPassed(n)):t[n]={passed:!1,initialized:!1}}allPassedObservedAttributesAreInitialized(){return Object.keys(this.observedAttributesToCheck).every((e=>{var t,n;return!(null!==(t=this.observedAttributesToCheck[e])&&void 0!==t&&t.passed)||(null===(n=this.observedAttributesToCheck[e])||void 0===n?void 0:n.initialized)}))}checkRequiredAttributes(){return this.requiredAttributes().every((e=>(e=O(e),this.scope.hasOwnProperty(e)&&void 0!==this.scope[e])))}parseAttribute(e){let t=e;if("true"===e)t=!0;else if("false"===e)t=!1;else if("null"===e)t=null;else if("undefined"===e)t=void 0;else if(""===e)t=void 0;else if(isNaN(Number(e))){const e=v(t);t=e||t}else t=Number(e),t>=Number.MAX_SAFE_INTEGER&&(t=e);return t}eventHandler(e){return function(t,n,r,s){if(!this||!this.call){const e=new Error("[rv-".concat(r.type,'="').concat(r.keypath,'"] Event handler "').concat(r.keypath,'" not found!"'));throw console.error(r,s),e}this.call(e,n,r.view.models,s)}}connectedCallback(){}disconnectedCallback(){}async attributeChangedCallback(e,t,n,r){this.observedAttributesToCheck&&this.observedAttributesToCheck[e]&&(this.observedAttributesToCheck[e].initialized=!0),n=this.parseAttribute(n);const s=O(e);this.scope&&this.scope[s]&&(t=this.scope[s]),this.scope[s]=n,this.parsedAttributeChangedCallback(s,t,n,r)}parsedAttributeChangedCallback(e,t,n,r){this.debug("parsedAttributeChangedCallback called",e,t,n,r)}adoptedCallback(e,t){this.debug("adoptedCallback called",e,t)}async loadTemplate(){return!0===this.templateLoaded?null:this.checkRequiredAttributes()?(this.templateLoaded=!0,Promise.resolve(this.template()).then((e=>(e instanceof HTMLElement?(this.innerHTML="",this.appendChild(e)):null!==e&&(this.innerHTML=e),e))).catch((e=>(console.error(e),this.templateLoaded=!1,null)))):(this.debug("Not all required attributes are set to load the template"),null)}async beforeTemplate(){}async afterTemplate(e){this.debug("afterTemplate",e)}async onReady(){}observe(e,t){return new S(this.scope,e,t)}observeAttribute(e,t){const n=O(e);return this.observe(n,t)}setBinderAttribute(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=O(e),s=this.scope[r];this.attributeChangedCallback(e,s,t,n)}getBinderAttribute(e){const t=O(e);return this.scope[t]}loadAttributes(e){const t=this.attributes;for(const n in t){const r=t[n],s=r.nodeName;if(-1!==e.indexOf(s)){const e=r.nodeValue;this.attributeChangedCallback(s,void 0,e,null)}}}}class Xe extends Qe{get binds(){return this._binds}get bound(){return this._bound}get connected(){return this._connected}get disconnected(){return this._disconnected}constructor(){super(),p(this,"view",null),p(this,"_binds",!1),p(this,"_bound",!1),p(this,"_connected",!1),p(this,"_disconnected",!1),p(this,"lifecycleEvents",L.getInstance("lifecycle")),p(this,"autobind",!0),this.lifecycleEvents.trigger("Component:constructor",this.getLifecycleEventData()),this.lifecycleEvents.on("ComponentLifecycle:allBound",this.afterAllBind,this)}async init(e){try{return await super.init(e),this.lifecycleEvents.trigger("Component:init",this.getLifecycleEventData()),this.bindIfReady()}catch(e){this.throw(e)}}throw(e){e.message&&console.error("[".concat(this.tagName,"] ").concat(e.message)),this.lifecycleEvents.trigger("Component:error",e,this.getLifecycleEventData()),this.error(e)}async bindIfReady(){if(this.ready()){await this.beforeTemplate();const e=await this.loadTemplate();return await this.afterTemplate(e),this.autobind&&await this.bind(),void await this.onReady()}this.debug("Not all required or passed attributes are set to load and bind the template",this.observedAttributesToCheck,this.scope)}async _beforeBind(){this._binds=!0,this.debug("Start to bind Riba"),this.lifecycleEvents.trigger("Component:beforeBind",this.getLifecycleEventData())}async beforeBind(){}async _afterBind(){this._binds=!1,this._bound=!0,this.lifecycleEvents.trigger("Component:afterBind",this.getLifecycleEventData())}async afterBind(){}async afterAllBind(){}getLifecycleEventData(){return{tagName:this.tagName.toLowerCase(),component:this}}disconnectedCallback(){try{this._disconnected=!0,this._connected=!1,super.disconnectedCallback(),this.lifecycleEvents.trigger("Component:disconnected",this.getLifecycleEventData()),this.lifecycleEvents.off("ComponentLifecycle:allBound",this.afterAllBind,this)}catch(e){this.throw(e)}}connectedCallback(){try{this._disconnected=!1,this._connected=!0,super.connectedCallback(),this.lifecycleEvents.trigger("Component:connected",this.getLifecycleEventData())}catch(e){this.throw(e)}}async attributeChangedCallback(e,t,n,r){try{super.attributeChangedCallback(e,t,n,r),await this.bindIfReady()}catch(e){this.throw(e)}}callFormatterHandler(e){return{name:"call",read:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(!t)throw new Error("[".concat(e.tagName,'] Can not use "call" formatter: fn is undefined!'));return t.apply(e,r)}}}argsFormatterHandler(e){return{name:"args",read:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return(n,s,i,o)=>{if(!t)throw new Error("[".concat(e.tagName,'] Can not use "args" formatter: fn is undefined!'));return r.push(n),r.push(s),r.push(i),r.push(o),t.apply(e,r)}}}}async bind(){if(this.binds||this.bound)return this.view;if(this.checkRequiredAttributes()){try{await this._beforeBind(),await this.beforeBind(),this.riba=new Ye,this.view=this.getView(),this.view&&(this.scope=this.view.models,this.view.bind()),await this._afterBind(),await this.afterBind()}catch(e){this._binds=!1,this._bound=!1,this.throw(e)}return this.view}this.debug("Not all required attributes are set for bind")}getView(){try{var e;const t=null===(e=this.riba)||void 0===e?void 0:e.getViewOptions({handler:this.eventHandler(this),formatters:{call:this.callFormatterHandler(this),args:this.argsFormatterHandler(this)}});if(t){return new we(Array.prototype.slice.call(this.childNodes),this.scope,t)}return null}catch(e){this.throw(e)}}async unbind(){try{this.view&&(this._binds=!1,this._bound=!1,this.view.unbind(),this.view=null)}catch(e){this.throw(e)}}async build(){try{this.view&&this.view.build()}catch(e){this.throw(e)}}}class Ke extends Xe{static get observedAttributes(){return["video-src","autoplay-on-min-buffer","autoplay-media-query"]}get muted(){return this.video&&this.video.muted}set muted(e){this.video.muted=e,this.scope.muted=this.video.muted,e?this.video.setAttribute("muted",""):this.video.removeAttribute("muted"),this.onUpdate()}get volume(){var e;return(null===(e=this.video)||void 0===e?void 0:e.volume)||0}set volume(e){this.video.volume=e,this.onUpdate()}get loop(){var e;return null===(e=this.video)||void 0===e?void 0:e.loop}set loop(e){this.video.loop=e,e?this.video.setAttribute("loop",""):this.video.removeAttribute("loop"),this.onUpdate()}get controls(){var e;return null===(e=this.video)||void 0===e?void 0:e.controls}set controls(e){this.video.controls=e,this.scope.controls=this.video.controls,e?(this.video.setAttribute("controls",""),this.video.dispatchEvent(new Event("mouseover")),this.video.dispatchEvent(new Event("mouseenter")),this.video.dispatchEvent(new Event("mousemove"))):this.video.removeAttribute("controls"),this.onUpdate()}get currentTime(){var e;return(null===(e=this.video)||void 0===e?void 0:e.currentTime)||0}set currentTime(e){this.video.currentTime=e,this.onUpdate()}get autoplay(){var e;return(null===(e=this.video)||void 0===e?void 0:e.autoplay)||!1}set autoplay(e){this.video.autoplay=e,this.onUpdate()}get height(){var e;return(null===(e=this.video)||void 0===e?void 0:e.height)||0}set height(e){this.video.height=e,this.onUpdate()}get width(){var e;return(null===(e=this.video)||void 0===e?void 0:e.width)||0}set width(e){this.video.width=e,this.onUpdate()}get poster(){var e;return null===(e=this.video)||void 0===e?void 0:e.poster}set poster(e){this.video.poster=e,this.onUpdate()}get preload(){var e;return null===(e=this.video)||void 0===e?void 0:e.preload}set preload(e){this.video.preload=e,this.onUpdate()}get disablePictureInPicture(){var e,t;return(null===(e=this.video)||void 0===e?void 0:e.disablePictureInPicture)||(null===(t=this.video)||void 0===t?void 0:t.hasAttribute("disablePictureInPicture"))||!1}set disablePictureInPicture(e){var t;void 0!==(null===(t=this.video)||void 0===t?void 0:t.disablePictureInPicture)&&(this.video.disablePictureInPicture=e),e?this.video.setAttribute("disablePictureInPicture",""):this.video.removeAttribute("disablePictureInPicture"),this.onUpdate()}get paused(){var e,t;return null===(e=null===(t=this.video)||void 0===t?void 0:t.paused)||void 0===e||e}constructor(){super(),p(this,"autobind",!0),p(this,"alreadyStartedPlaying",!1),p(this,"wasPaused",!1),p(this,"_debug",!1),p(this,"scope",{muted:this.muted,volume:this.volume,loop:this.loop,controls:this.controls,currentTime:this.currentTime,videoSrc:void 0,autoplayOnMinBuffer:0,autoplayMediaQuery:"",disablePictureInPicture:this.disablePictureInPicture,paused:this.paused,loading:!1,duration:0,readyState:m.HAVE_NOTHING,buffer:0,toggleMute:this.toggleMute,toggleControls:this.toggleControls,play:this.play,pause:this.pause,togglePlay:this.togglePlay,togglePause:this.togglePause,reset:this.reset}),p(this,"onUpdate",this._onUpdate.bind(this)),p(this,"forceAutoplay",this._forceAutoplay.bind(this)),p(this,"onMediaQueryListEvent",this._onMediaQueryListEvent.bind(this)),p(this,"onVideoProgress",this._onVideoProgress.bind(this)),p(this,"onLoadStart",this._onLoadStart.bind(this)),p(this,"onCanPlay",this._onCanPlay.bind(this)),p(this,"onCanPlayThrough",this._onCanPlayThrough.bind(this)),p(this,"onWaiting",this._onWaiting.bind(this)),p(this,"onDurationChange",this._onDurationChange.bind(this)),p(this,"onTimeUpdate",this._onTimeUpdate.bind(this)),p(this,"onPlay",this._onPlay.bind(this)),p(this,"onPause",this._onPause.bind(this));const e=this.querySelector("video");this.video=e}toggleMute(){this.debug("toggleMute"),this.muted=!this.muted,this.onUpdate()}toggleControls(){this.debug("toggleControls"),this.controls=!this.controls,this.onUpdate()}play(){this.debug("play"),this.video.play()}pause(){this.debug("pause"),this.video.pause(),this.onUpdate()}togglePlay(){return this.paused?this.play():this.pause()}togglePause(){return this.debug("togglePause"),this.togglePlay()}reset(){this.debug("reset"),this.video.currentTime=0,this.onUpdate()}connectedCallback(){super.connectedCallback(),this.init(Ke.observedAttributes)}initVideoElement(){const e=this.querySelector("video");if(!e)throw new Error("The video child element is required!");this.video=e,this.addEventListeners(),this.onUpdate()}resetVideo(){this.video.innerHTML="";const e=this.video.cloneNode(!0),t=this.querySelector(".video-wrapper");this.removeEventListeners(),this.video.remove(),t?t.appendChild(e):this.appendChild(e),this.video=e,this.video.hasAttribute("muted")?this.muted=!0:this.muted=!1,this.video.hasAttribute("controls")?this.controls=!0:this.controls=!1,this.video.hasAttribute("autoplay")?this.autoplay=!0:this.autoplay=!1,this.video.hasAttribute("height")&&(this.height=C(this.video.getAttribute("height")||0)),this.video.hasAttribute("width")&&(this.width=C(this.video.getAttribute("width")||0)),this.video.hasAttribute("loop")?this.loop=!0:this.loop=!1,this.video.hasAttribute("muted")?this.muted=!0:this.muted=!1,this.video.hasAttribute("poster")&&(this.poster=this.video.getAttribute("poster")||""),this.video.hasAttribute("preload")&&(this.preload=this.video.getAttribute("preload")||""),this.video.hasAttribute("disablePictureInPicture")?this.disablePictureInPicture=!0:this.disablePictureInPicture=!1,this.scope.readyState=m.HAVE_NOTHING,this.alreadyStartedPlaying=!1,this.scope.loading=!1,this.initVideoElement()}setVideoSource(){if(this.scope.videoSrc){this.resetVideo();let e=this.video.querySelector("source");e||(e=document.createElement("source"),this.video.appendChild(e)),e.setAttribute("src",this.scope.videoSrc)}}parsedAttributeChangedCallback(e,t,n,r){super.parsedAttributeChangedCallback(e,t,n,r),this.debug("parsedAttributeChangedCallback",e),"videoSrc"===e&&this.setVideoSource()}addEventListeners(){if(this.scope.autoplayMediaQuery){const e=window.matchMedia(this.scope.autoplayMediaQuery);e.addEventListener("change",this.onMediaQueryListEvent),e.matches&&this.startAutoplay()}this.video.addEventListener("progress",this.onVideoProgress),this.video.addEventListener("loadstart",this.onLoadStart),this.video.addEventListener("canplay",this.onCanPlay),this.video.addEventListener("canplaythrough",this.onCanPlayThrough),this.video.addEventListener("waiting",this.onWaiting),this.video.addEventListener("durationchange",this.onDurationChange),this.video.addEventListener("timeupdate",this.onTimeUpdate),this.video.addEventListener("play",this.onPlay),this.video.addEventListener("pause",this.onPause)}removeEventListeners(){if(this.scope.autoplayMediaQuery){window.matchMedia(this.scope.autoplayMediaQuery).removeEventListener("change",this.onMediaQueryListEvent)}this.video.removeEventListener("progress",this.onVideoProgress),this.video.removeEventListener("loadstart",this.onLoadStart),this.video.removeEventListener("canplay",this.onCanPlay),this.video.removeEventListener("canplaythrough",this.onCanPlayThrough),this.video.removeEventListener("waiting",this.onWaiting),this.video.removeEventListener("durationchange",this.onDurationChange),this.video.removeEventListener("timeupdate",this.onTimeUpdate),this.video.removeEventListener("play",this.onPlay),this.video.removeEventListener("pause",this.onPause)}_onUpdate(){this.scope.muted!==this.video.muted&&(this.scope.muted=this.video.muted),this.scope.volume!==this.video.volume&&(this.scope.volume=this.video.volume),this.scope.loop!==this.video.loop&&(this.scope.loop=this.video.loop),this.scope.controls!==this.video.controls&&(this.scope.controls=this.video.controls),this.scope.currentTime!==this.video.currentTime&&(this.scope.currentTime=this.video.currentTime),this.scope.paused!==this.video.paused&&(this.scope.paused=this.video.paused),this.scope.duration!==this.video.duration&&(this.scope.duration=this.video.duration),this.scope.readyState!==this.video.readyState&&(this.scope.readyState=this.video.readyState)}async beforeBind(){this.initVideoElement()}startAutoplay(){this.scope.autoplayOnMinBuffer?this.forceLoad():this.forceAutoplay()}forceLoad(){this.video.setAttribute("preload","auto"),this.video.load()}_forceAutoplay(){this.alreadyStartedPlaying||(this.alreadyStartedPlaying=!0,this.video.muted=!0,this.forceLoad(),this.play())}_onMediaQueryListEvent(e){e.matches?this.alreadyStartedPlaying?this.wasPaused||this.play():this.startAutoplay():(this.wasPaused=this.video.paused,this.pause())}_onVideoProgress(){if(this.debug("_onVideoProgress"),this.alreadyStartedPlaying)return;if(isNaN(this.video.duration))return void console.warn("Video duration is NaN");let e=0;for(let t=0;t<this.video.buffered.length;t++)e+=this.video.buffered.end(t)-this.video.buffered.start(t);this.scope.buffer=e/this.video.duration,this.scope.autoplayOnMinBuffer&&this.scope.buffer>this.scope.autoplayOnMinBuffer&&this.forceAutoplay()}_onLoadStart(){this.debug("_onLoadStart"),this.scope.loading=!0,this.onUpdate()}_onCanPlay(){this.debug("_onCanPlay"),this.onUpdate()}_onCanPlayThrough(){this.scope.loading=!1,this.scope.autoplayOnMinBuffer&&this.forceAutoplay(),this.onUpdate()}_onWaiting(){this.debug("_onPlay"),this.scope.loading=!0,this.onUpdate()}_onDurationChange(){this.onUpdate()}_onTimeUpdate(){this.onUpdate()}_onPlay(){this.debug("_onPlay"),this.scope.loading=!1,this.alreadyStartedPlaying=!0,this.scope.paused=!1,this.onUpdate()}_onPause(){this.scope.paused=!0,this.onUpdate()}async init(e){return super.init(e).then((e=>e))}disconnectedCallback(){super.disconnectedCallback()}template(){return null}}p(Ke,"tagName","rv-video");const Ze={name:"contains",read(e,t,n){if(E(e))return e.indexOf(t)>-1;if(Array.isArray(e)){if(A(t)||console.warn("[containsFormatter] The second parameter must be of type number for arrays but is "+typeof t),t=Number(t),y(t))return y(n)?e[t]===n:-1!==e.indexOf(t)}else if(w(e)&&y(t))return y(n)?e[t]===n:(E(t)||console.warn("[containsFormatter] The second parameter must be of type string for objects"+typeof t),-1!==Object.keys(e).indexOf(String(t)));return!1}},et={name:"size",read:e=>e&&e.length?e.length:0},tt={name:"empty",read:e=>et.read(e)<=0},nt={name:"get",read:(e,t)=>w(e)||Array.isArray(e)?e[t]:E(e)&&A(t)?e.charAt(t):null},rt={name:"first",read:e=>nt.read(e,0)},st={name:"isLast",read:(e,t)=>e.length===t+1},it={name:"last",read:e=>nt.read(e,e.length-1)},ot={name:"random",read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Array.isArray(e))return e[Math.floor(Math.random()*e.length)];if(A(e)){const n=e;return Math.floor(Math.random()*(n-t+1)+t)}return null}},at={name:"range",read:(e,t,n)=>(t=Number(A(t)?t:0),(n=Number(A(n)?n:e.length-1))>e.length-1&&(n=e.length-1),t>n?[]:e.slice(Number(t||0),1+n))},ct={name:"set",read:(e,t,n)=>(n||(n=t),w(e)||Array.isArray(e)?e[t]=n:e=n,e)},lt={name:"overlaps",read(e,t){for(const n of e)for(const e of t){if(n.equals&&n.equals(e))return!0;if(n===e)return!0}return!1}},dt={name:"join",read:(e,t)=>e.join(t)},ht={name:"and",read:(e,t)=>e&&t},ut={name:"between",read(e){return e>=(arguments.length<=1?void 0:arguments[1])&&e<=(arguments.length<=2?void 0:arguments[2])}},pt={name:"egt",read:(e,t)=>e>=t},mt={name:"eq",read:(e,t)=>e===t},ft={name:"gt",read:(e,t)=>e>t},bt={name:"ne",read:(e,t)=>e!==t},vt={name:"lt",read:(e,t)=>e<t},gt={name:"elt",read:(e,t)=>e<=t},yt={name:"or",read:(e,t)=>e||t},wt={name:"not",read:e=>!e},kt={name:"plus",read:(e,t)=>Number(e)+Number(t)},At={name:"minus",read:(e,t)=>Number(e)-Number(t)},Et={name:"times",read:(e,t)=>Number(e)*Number(t)},Ct={name:"dividedBy",read:(e,t)=>Number(e)/Number(t)},Ot={name:"modulo",read:(e,t)=>Number(e)%Number(t)},Nt=(e,t)=>0===t?e:Nt(t,e%t),xt={name:"gcd",read:Nt},Pt={name:"even",read:e=>e%2==0},_t={name:"uneven",read:e=>e%2!=0},St={name:"digits",read:e=>A(e)?e:C(e)},Tt={name:"args",read(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(t,r,s,i)=>(n.push(t),n.push(r),n.push(s),n.push(i),e.apply(this,n))}},Bt={name:"debug",read(e){return console[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug"](e),e}},Lt={name:"default",read:(e,t)=>y(e)?E(e)?e.length>0?e:t:null===e?t:e:t},Ft={name:"is-desktop",read:()=>Z().isDesktop},jt={name:"is-mobile",read:()=>Z().isMobile},Dt={name:"call",read(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}},Mt={name:"call-name",read:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return e[t](...r)}},It={name:"map",read(e,t,n){const r=Array.prototype.slice.call(arguments);return r.splice(1,2),t[n].apply(t,r)}},Rt={name:"os",read:()=>K()},Ht={name:"prefer",read:(e,t)=>t||e},Ut={name:"ternary",read:(e,t,n)=>e?t:n},Vt={name:"append",read:(e,t)=>e+t},qt={name:"capitalize",read:e=>(e=>"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1))(e)},Wt={name:"cut",read(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?"string"!=typeof e?(console.warn("[cutFormatter] Value must be of type string"),e):e.length>t?e.substring(t,-1===t?void 0:-1)+n:e:""}},zt={name:"downcase",read:e=>e.toLowerCase()},Jt={name:"ends-with",read:(e,t)=>"string"!=typeof e?(console.warn("[endsWithFormatter] Value must be of type string"),e):e.endsWith(t)},Gt={name:"filled",read:e=>E(e)&&!tt.read(e.replace(/\s/g,""))},Yt={name:"handleize",read:e=>e?(e=>(e=(e=>e.replace(/ä/g,"ae").replace(/ö/g,"oe").replace(/ü/g,"ue").replace(/ß/g,"ss").replace(/Ä/g,"Ae").replace(/Ö/g,"Oe").replace(/Ü/g,"Üe"))(e=(e=>e.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,""))(e=(e=>e.replace(/\s\s+/g," "))(e=(e=e.trim()).toLowerCase())))).replace(/ /g,"-"))(e):(console.warn("[handleizeFormatter] str is not set"),"")},$t={name:"match",read:(e,t,n)=>!(!e||!t)&&e.match(new RegExp(t,n))},Qt={name:"padStart",read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return e.padStart(t,n)}},Xt={name:"padEnd",read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return e.padEnd(t,n)}},Kt={name:"to-integer",read(e){const t=parseInt(1*e,10);return isNaN(t)?0:t}},Zt={name:"to-float",read(e){const t=parseFloat(1*e);return isNaN(t)?0:t}},en={name:"to-decimal",read(e){if(!Kt.read)throw new Error("toIntegerFormatter must have a read function");if(!Zt.read)throw new Error("toFloatFormatter must have a read function");const t=Kt.read(1*e),n=Zt.read(e);return t==n?t:n}},tn={name:"is-integer",read:e=>e===+e&&e===(0|e)},nn={name:"numberFormat",read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"'";if(!en.read)throw new Error("toDecimalFormatter must have a read function");if(!tn.read)throw new Error("isIntegerFormatter must have a read function");e=A(e)?e:en.read(e),tn.read(t)||(t=2);let s=(+(Math.round(+(Math.abs(e)+"e"+t))+"e"+-t)).toFixed(t);e<0&&(s="-"+s);const i=s.split(".");return 2==i.length?i[0].replace(/\B(?=(\d{3})+(?!\d))/g,r)+n+i[1]:i[0].replace(/\B(?=(\d{3})+(?!\d))/g,r)}},rn={name:"pluralize",read:(e,t,n)=>(null===n&&(n=t+"s"),Array.isArray(e)&&(e=e.length),1===e?t:n)},sn={name:"prepend",read:(e,t)=>t+e},on={name:"upcase",read:e=>e.toUpperCase()},an={name:"replace",read:(e,t,n)=>e.replace(new RegExp(t,"g"),n)},cn={name:"replaceFirst",read:(e,t,n)=>e.replace(t,n)},ln={name:"slice",read:(e,t,n)=>e.slice(t,n)},dn={name:"starts-with",read:(e,t)=>"string"!=typeof e?(console.warn("[startsWithFormatter] Value must be of type string"),e):e.startsWith(t)},hn={name:"strip",read:e=>e.trim()},un={name:"strip-html",read:e=>(e=>{const t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""})(e)},pn={name:"boolean",read:e=>"true"===e||"false"!==e&&!!e},mn={name:"is-array",read:Array.isArray},fn={name:"is-boolean",read:e=>"boolean"==typeof e},bn={name:"is-defined",read:y},vn={name:"is-number",read:A},gn={name:"is-object",read:w},yn={name:"is-string",read:e=>E(e)},wn={name:"is-undefined",read:g},kn={name:"parse",read:e=>E(e)?v(e):w(e)||Array.isArray(e)?(console.warn("[parseFormatter] You do not need to parse the value because since it already been parsed"),e):null},An={name:"to-string",read(e,t){if(Array.isArray(e))for(const t in e)e[t]&&(e[t]=k(e[t]));else if(w(e))for(const t in e)e[t]=k(e[t]);else e=k(e);return t?e||t:e}},En={name:"to-number",read(e,t){const n=(r=e)?parseFloat(r):void 0;var r;return t?n||t:n}},Cn={formatters:i,binders:r,services:e,components:s,adapters:t,init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return F.setSingleton(e),this}};class On extends ie{routine(e,t){const n=this.args[0];e.setAttribute("rv-".concat(n),"'".concat(JSON.stringify(t),"'"))}}p(On,"key","csr-*");class Nn extends Xe{constructor(){super(),p(this,"lifecycleEvents",L.getInstance("lifecycle")),p(this,"head",{}),this.ctx=window.ssr.ctx,this.env=window.ssr.env}setHtmlHead(){this.head.title&&document&&(document.title=this.head.title)}async beforeBind(){await super.beforeBind(),this.setHtmlHead()}async afterBind(){this.setHtmlHead(),await super.afterBind()}}class xn{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of ModuleService not defined, please call setSingleton first!")}static setSingleton(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.instance)throw new Error("Singleton of ModuleService already defined!");return this._options=e,this.instance=new this,this.instance}}class Pn{static getHeadElement(){var e;return(null===(e=document)||void 0===e?void 0:e.head)||document.getElementsByName("head")[0]}static getHtmlElement(){var e,t;return(null===(e=document)||void 0===e||null===(t=e.body)||void 0===t?void 0:t.parentNode)||document.getElementsByName("html")[0]}static createMetaTags(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"og";const n=[],r=Object.keys(e);for(const s of r){const r=Array.isArray(e[s])?e[s]:[e[s]];for(const e of r)if("object"==typeof e)n.push(...this.createMetaTags(e,"".concat(t,":").concat(s)));else{const r=document.createElement("meta");"og:image"!==t&&"og:audio"!==t||"url"!==s?r.setAttribute("property","".concat(t,":").concat(s)):r.setAttribute("property",t),r.setAttribute("content",e),n.push(r)}}return n}static setMetaTags(e){const t=this.createMetaTags(e),n=this.getHeadElement();for(const e of t)n.appendChild(e)}static setNamespaces(e){const t=this.getHtmlElement();let n="";for(const t of Object.keys(e)){const r=e[t];n&&(n+=" "),n+="".concat(t,": ").concat(r)}t.setAttribute("prefix",n)}static setLocale(e){this.getHtmlElement().setAttribute("lang",e)}static set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{og:"https://ogp.me/ns#"};this.setNamespaces(t),this.setMetaTags(e),"string"==typeof e.locale&&this.setLocale(e.locale)}}const _n={binders:o,services:c,formatters:a,components:l,init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xn.setSingleton(e),this}};var Sn=n(628),Tn=n.n(Sn);class Bn extends Nn{static get observedAttributes(){return[]}constructor(){super(),p(this,"_debug",!0),p(this,"autobind",!0),p(this,"head",{title:"You are on home"}),p(this,"scope",{title:"Hello from ssr",content:"When you can see this, ssr works :)",obj:{foo:"bar",note:"This is an example to test the json formatter"}})}connectedCallback(){super.connectedCallback(),this.init(Bn.observedAttributes)}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind()}async afterBind(){await super.afterBind()}template(){return Tn()(this.scope)}}p(Bn,"tagName","index-page");var Ln=n(752),Fn=n.n(Ln);class jn extends Nn{static get observedAttributes(){return[]}constructor(){super(),p(this,"_debug",!0),p(this,"autobind",!0),p(this,"scope",{title:"{params.handle | capitalize}",content:"<p>We are {params.handle}!</a>",params:{}}),this.scope.params=this.ctx.params}connectedCallback(){super.connectedCallback(),this.init(jn.observedAttributes)}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.head.title="You are "+this.ctx.params.handle}async afterBind(){await super.afterBind()}template(){return Fn()(this.scope)}}p(jn,"tagName","pages-page");class Dn extends Xe{static get observedAttributes(){return[]}constructor(){super(),p(this,"_debug",!1),p(this,"autobind",!0),p(this,"scope",{items:[{label:"Home",url:"/"},{label:"Cool",url:"/pages/cool"},{label:"Nice",url:"/pages/nice"},{label:"Different",url:"/pages/different"}]})}connectedCallback(){super.connectedCallback(),this.init(Dn.observedAttributes)}template(){return null}}function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}p(Dn,"tagName","link-list"),window.model=window.model||window.ssr.templateVars||{};const Rn=new Ye;Rn.configure({prefix:["ssr-rv"],blockUnknownCustomElements:!1}),Rn.module.component.regists(In(In({},d),{},{LinkListComponent:Dn})),Rn.module.binder.regists(h),Rn.module.formatter.regists(u),Rn.module.regist(Cn.init()),Rn.module.regist(_n.init()),console.log("Hello from Riba"),Rn.lifecycle.events.on("ComponentLifecycle:allBound",(()=>{console.debug("ready!"),window.ssr.events.trigger("ready")}));Rn.bind(document.body,window.model).registComponents()}()}();