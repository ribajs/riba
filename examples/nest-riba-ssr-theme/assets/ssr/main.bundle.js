!function(){var e={37:function(){(()=>{if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e})()},774:function(e,t,n){n(919);e.exports=function(e){var t="";return t+='<div class="container-fluid py-5 my-5 text-center"><div class="row"><div class="col-12"><h1 ssr-rv-html="title"></h1></div></div><section class="row"><div class="col-12"><p ssr-rv-html="content"></p></div></section><rv-logger ssr-rv-log-me="content"></rv-logger><rv-logger ssr-rv-log-me="obj | json"></rv-logger></div>'}},798:function(e,t,n){n(919);e.exports=function(e){var t="";return t+='<div class="container container-md py-5 my-5 text-center"><div class="row"><div class="col-12"><h1 ssr-rv-template="title"></h1></div></div><section class="row"><div class="col-12"><div ssr-rv-template="content"></div></div></section></div>'}},919:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e,t){return Array.isArray(e)?function(e,t){for(var n,r="",s="",o=Array.isArray(t),a=0;a<e.length;a++)(n=i(e[a]))&&(o&&t[a]&&(n=c(n)),r=r+s+n,s=" ");return r}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var i in e)i&&e[i]&&r.call(e,i)&&(t=t+n+i,n=" ");return t}(e):e||""}function s(e){if(!e)return"";if("object"==typeof e){var t="";for(var n in e)r.call(e,n)&&(t=t+n+":"+e[n]+";");return t}return e+""}function o(e,t,n,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=c(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}t.merge=function e(t,n){if(1===arguments.length){for(var r=t[0],i=1;i<t.length;i++)r=e(r,t[i]);return r}for(var o in n)if("class"===o){var a=t[o]||[];t[o]=(Array.isArray(a)?a:[a]).concat(n[o]||[])}else if("style"===o){a=(a=s(t[o]))&&";"!==a[a.length-1]?a+";":a;var c=s(n[o]);c=c&&";"!==c[c.length-1]?c+";":c,t[o]=a+c}else t[o]=n[o];return t},t.classes=i,t.style=s,t.attr=o,t.attrs=function(e,t){var n="";for(var a in e)if(r.call(e,a)){var c=e[a];if("class"===a){c=i(c),n=o(a,c,!1,t)+n;continue}"style"===a&&(c=s(c)),n+=o(a,c,!1,t)}return n};var a=/["&<>]/;function c(e){var t=""+e,n=a.exec(t);if(!n)return e;var r,i,s,o="";for(r=n.index,i=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}i!==r&&(o+=t.substring(i,r)),i=r+1,o+=s}return i!==r?o+t.substring(i,r):o}t.escape=c,t.rethrow=function e(t,r,i,s){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&r||s))throw t.message+=" on line "+i,t;var o,a,c,l;try{s=s||n(680).readFileSync(r,{encoding:"utf8"}),o=3,a=s.split("\n"),c=Math.max(i-o,0),l=Math.min(a.length,i+o)}catch(n){return t.message+=" - could not read from "+r+" ("+n.message+")",void e(t,null,i)}o=a.slice(c,l).map((function(e,t){var n=t+c+1;return(n==i?"  > ":"    ")+n+"| "+e})).join("\n"),t.path=r;try{t.message=(r||"Pug")+":"+i+"\n"+o+"\n\n"+t.message}catch(e){}throw t}},680:function(){}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{csrBinder:function(){return m}});var t={};n.r(t),n.d(t,{AdapterService:function(){return S},BindersService:function(){return B},ComponentService:function(){return M},CoreService:function(){return L},FormatterService:function(){return R},HttpService:function(){return I},LifecycleService:function(){return j}});var r={};n.r(r),n.d(r,{dotAdapter:function(){return H}});var i={};n.r(i),n.d(i,{addClassBinder:function(){return U},animateStarBinder:function(){return V},assignBinder:function(){return q},assignPropertyBinder:function(){return W},attributeBinder:function(){return Pe},blockBinder:function(){return z},checkedBinder:function(){return X},classStarBinder:function(){return K},componentAttributeBinder:function(){return ce},disabledBinder:function(){return me},eachStarBinder:function(){return Le},enabledBinder:function(){return he},flexSortChildsBinder:function(){return pe},hideBinder:function(){return Me},htmlBinder:function(){return je},ifBinder:function(){return Fe},maxlengthBinder:function(){return fe},notDraggableBinder:function(){return be},onEventBinder:function(){return ve},parentBinder:function(){return ge},readonlyBinder:function(){return ye},removeClassBinder:function(){return we},showBinder:function(){return Re},srcsetSizeBinder:function(){return Ie},styleBackgroundImageBinder:function(){return $e},styleBinder:function(){return de},styleStarBinder:function(){return le},tagStarBinder:function(){return ue},templateBinder:function(){return Ve},textBinder:function(){return He},toggleOnEventBinder:function(){return Ue},unlessBinder:function(){return qe},valueBinder:function(){return ze}});var s={};n.r(s),n.d(s,{VideoComponent:function(){return Qe}});var o={};n.r(o),n.d(o,{andFormatter:function(){return lt},appendFormatter:function(){return $t},argsFormatter:function(){return _t},betweenFormatter:function(){return dt},booleanFormatter:function(){return un},callFormatter:function(){return Ft},callNameFormatter:function(){return Lt},capitalizeFormatter:function(){return Ht},containsFormatter:function(){return Xe},cutFormatter:function(){return Ut},debugFormatter:function(){return Tt},defaultFormatter:function(){return xt},digitsFormatter:function(){return Dt},dividedByFormatter:function(){return Et},downcaseFormatter:function(){return Vt},egtFormatter:function(){return ut},eltFormatter:function(){return bt},emptyFormatter:function(){return Ze},endsWithFormatter:function(){return qt},eqFormatter:function(){return ht},evenFormatter:function(){return Nt},filledFormatter:function(){return Wt},firstFormatter:function(){return tt},gcdFormatter:function(){return Ct},getFormatter:function(){return et},gtFormatter:function(){return pt},handleizeFormatter:function(){return zt},isArrayFormatter:function(){return hn},isBooleanFormatter:function(){return pn},isDefinedFormatter:function(){return mn},isDesktopFormatter:function(){return St},isIntegerFormatter:function(){return Zt},isLastFormatter:function(){return nt},isMobileFormatter:function(){return Bt},isNumberFormatter:function(){return fn},isObjectFormatter:function(){return bn},isStringFormatter:function(){return vn},isUndefinedFormatter:function(){return gn},joinFormatter:function(){return ct},jsonFormatter:function(){return Ne},lastFormatter:function(){return rt},ltFormatter:function(){return ft},mapFormatter:function(){return jt},matchFormatter:function(){return Jt},minusFormatter:function(){return wt},moduloFormatter:function(){return kt},neFormatter:function(){return mt},notFormatter:function(){return gt},numberFormatFormatter:function(){return en},orFormatter:function(){return vt},osFormatter:function(){return Mt},overlapsFormatter:function(){return at},padEndFormatter:function(){return Yt},padStartFormatter:function(){return Gt},parseFormatter:function(){return yn},pluralizeFormatter:function(){return tn},plusFormatter:function(){return yt},preferFormatter:function(){return Rt},prependFormatter:function(){return nn},randomFormatter:function(){return it},rangeFormatter:function(){return st},replaceFirstFormatter:function(){return on},replaceFormatter:function(){return sn},setFormatter:function(){return ot},sizeFormatter:function(){return Ke},sliceFormatter:function(){return an},startsWithFormatter:function(){return cn},stripFormatter:function(){return ln},stripHtmlFormatter:function(){return dn},ternaryFormatter:function(){return It},timesFormatter:function(){return At},toDecimalFormatter:function(){return Kt},toFloatFormatter:function(){return Xt},toIntegerFormatter:function(){return Qt},toNumberFormatter:function(){return An},toStringFormatter:function(){return wn},unevenFormatter:function(){return Pt},upcaseFormatter:function(){return rn}});var a={};n.r(a);var c={};n.r(c),n.d(c,{ModuleService:function(){return On},OpenGraphService:function(){return Cn}});var l={};n.r(l);var d={};n.r(d),n.d(d,{IndexPageComponent:function(){return _n},PagesPageComponent:function(){return Sn}});var u={};n.r(u);var h={};function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(h);const m={name:"csr-*",routine(e,t){const n=this.args[0];e.setAttribute(`rv-${n}`,`'${JSON.stringify(t)}'`)}};let f;!function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(f||(f={}));n(37);const b=e=>!(!e||"string"!=typeof e)&&("{"===(e=e.trim()).charAt(0)||"["===e.charAt(0)),v=e=>{if(!e||!b(e))return!1;try{const t=JSON.parse(e);return!(!Array.isArray(t)&&"object"!=typeof t)}catch(e){return!1}},g=e=>{let t=null;if(!b(e))return t;if(v(e))t=JSON.parse(e)||null;else try{t=JSON.parse(e.replace(/'/g,'"'))||null}catch(e){console.warn(e)}return t},y=e=>void 0===e,w=e=>!y(e),A=e=>w(e)&&"object"==typeof e&&null!==e,E=e=>null!=e&&e.toString?e.toString():void 0,k=(Array.isArray,e=>!isNaN(parseFloat(e))&&!isNaN(e-0)),O=e=>"string"==typeof e,C=e=>{if("number"==typeof e)return e;const t=e.replace(/[^-\d.]/g,"");return k(t)?Number(t):0},N=e=>e.replace(/-([a-z0-9])/g,(e=>e[1].toUpperCase())),P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=n=>{for(const r in n)n.hasOwnProperty(r)&&(e.deep&&"[object Object]"===Object.prototype.toString.call(n[r])?t[r]=P(e,t[r],n[r]):e.keepValues?void 0===t[r]&&(t[r]=n[r]):e.onlyDefined?void 0!==n[r]&&(t[r]=n[r]):e.mergeArrays&&Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=[...t[r],...n[r]]:t[r]=n[r])};for(let e=0;e<(arguments.length<=2?0:arguments.length-2);e++)n(e+2<2||arguments.length<=e+2?void 0:arguments[e+2]);return t};class D{constructor(e){this.elements=e}regists(e){if(!A(e))throw new Error("Elements to register must be an object of elements");for(const t in e)if(e[t]&&"__esModule"!==t){const n=e[t];this.regist(n,t)}return this.elements}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class x{static updateOptions(e){if(!e.adapters)throw new Error("adapters are required!");if(e.adapters&&(x.adapters=T(T({},x.adapters),e.adapters),x.interfaces=Object.keys(x.adapters)),x.rootInterface=e.rootInterface||x.interfaces[0],!x.rootInterface)throw new Error("rootInterface is required!")}static tokenize(e,t){const n=[];let r,i,s={i:t,path:""};for(r=0;r<e.length;r++)i=e.charAt(r),~x.interfaces.indexOf(i)?(n.push(s),s={i:i,path:""}):s.path+=i;return n.push(s),n}static get(e,t){return x.adapters[e.i].get(t,e.path)}static set(e,t,n,r){e?x.adapters[t.i].observe(n,t.path,r):x.adapters[t.i].unobserve(n,t.path,r)}constructor(e,t,n){this.keypath=t,this.callback=n,this.objectPath=[];const r=this.parse();this.key=r.key,this.tokens=r.tokens,this.obj=this.getRootObject(e),this.target=this.realize(),A(this.target)&&x.set(!0,this.key,this.target,this.callback)}parse(){let e,t;if(!x.interfaces||!x.interfaces.length)throw new Error(`[Observer] Must define at least one adapter interface. interfaces: "${JSON.stringify(x.interfaces)}" adapters: "${JSON.stringify(x.adapters)}"`);if(~x.interfaces.indexOf(this.keypath[0])?(t=this.keypath[0],e=this.keypath.substr(1)):(t=x.rootInterface,e=this.keypath),this.tokens=x.tokenize(e,t),!this.tokens.length)throw new Error("[Observer] No tokens");return this.key=this.tokens.pop(),{key:this.key,tokens:this.tokens}}realize(){let e,t,n=this.obj,r=-1;for(let i=0;i<this.tokens.length;i++)t=this.tokens[i],A(n)?(void 0!==this.objectPath[i]?(e=this.objectPath[i],n!==e&&(x.set(!1,t,e,this),x.set(!0,t,n,this),this.objectPath[i]=n)):(x.set(!0,t,n,this),this.objectPath[i]=n),n=x.get(t,n)):(-1===r&&(r=i),e=this.objectPath[i],e&&x.set(!1,t,e,this));return-1!==r&&this.objectPath.splice(r),n}sync(){let e,t;const n=this.realize();n!==this.target?(A(this.target)&&x.set(!1,this.key,this.target,this.callback),A(n)&&x.set(!0,this.key,n,this.callback),e=this.value(),this.target=n,t=this.value(),(t!==e||Array.isArray(t))&&this.callback.sync()):Array.isArray(n)&&this.callback.sync()}value(){if(A(this.target))return x.get(this.key,this.target)}setValue(e){A(this.target)&&x.adapters[this.key.i].set(this.target,this.key.path,e)}unobserve(){let e,t;for(let n=0;n<this.tokens.length;n++)t=this.tokens[n],e=this.objectPath[n],e&&x.set(!1,t,e,this);A(this.target)&&x.set(!1,this.key,this.target,this.callback)}getRootObject(e){let t,n;if(!e.$parent)return e;for(t=this.tokens.length?this.tokens[0].path:this.key.path,n=e;n.$parent&&void 0===n[t];)n=n.$parent;return n}}p(x,"interfaces",[]);class S extends D{constructor(e){super(e),p(this,"type","adapter")}regist(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t||e.name:e.name||t;if(!n)throw new Error("Adapter name not found!");this.elements[n]=e;const r={adapters:this.elements};return x.updateOptions(r),this.elements}}class B extends D{constructor(e){super(e),p(this,"type","binder")}regist(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||"function"!=typeof e.routine)return console.warn(new Error("Can not regist binder!"),e),this.elements;const r=n?t||e.name:e.name||t;return r?(this.elements[r]=e,this.elements):(console.warn(new Error("Binder name not found!"),e),this.elements)}}class F{static getNamespaces(){return Object.keys(this.instances)}static getInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";const t=F.instances[e];return t||new this(e)}static getAllInstances(){return F.instances}static clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";const t=F.instances[e];return t.events={},t.eventsOnce={},t}static deleteInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";this.clearInstance(e),delete this.instances[e]}static clearAllInstances(){const e=this.getNamespaces();for(const t of e)this.clearInstance(t)}static deleteAllInstances(){this.clearAllInstances(),this.instances={}}get namespace(){return this._namespace}constructor(e){if(p(this,"events",{}),p(this,"eventsOnce",{}),p(this,"_namespace","anonymous"),e)return F.instances[e]||(this._namespace=e,F.instances[e]=this),F.instances[e]}once(e,t,n){this.eventsOnce[e]=this.eventsOnce[e]||[],void 0!==n?this.eventsOnce[e].push({cb:t.bind(n),orgCb:t,thisContext:n}):this.eventsOnce[e].push(t)}on(e,t,n){this.events[e]=this.events[e]||[],void 0!==n?this.events[e].push({cb:t.bind(n),orgCb:t,thisContext:n}):this.events[e].push(t)}off(e,t,n){if(void 0===e)return this.events={},void(this.eventsOnce={});if(void 0!==t)if(void 0!==n){if(e in this.events)for(const[r,i]of this.events[e].entries()){const s=i;s.orgCb===t&&s.thisContext===n&&this.events[e].splice(r,1)}if(e in this.eventsOnce)for(const[r,i]of this.eventsOnce[e].entries()){const s=i;s.orgCb===t&&s.thisContext===n&&this.eventsOnce[e].splice(r,1)}}else{if(e in this.events)for(const[n,r]of this.events[e].entries()){r===t&&this.events[e].splice(n,1)}if(e in this.eventsOnce)for(const[n,r]of this.eventsOnce[e].entries()){r===t&&this.eventsOnce[e].splice(n,1)}}else this.events[e]=[],this.eventsOnce[e]=[]}trigger(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e in this.events)for(const t of this.events[e])null!=t&&t.cb?t.cb(...n):t(...n);if(e in this.eventsOnce)for(const[t,r]of this.eventsOnce[e].entries())null!=r&&r.cb?(r.cb(...n),this.eventsOnce[e].splice(t,1)):(r(...n),this.eventsOnce[e].splice(t,1))}}p(F,"instances",{});class L{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of CoreService not defined, please call setSingleton first!")}static setSingleton(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.instance)throw new Error("Singleton of CoreService already defined!");return this._options=e,this.instance=new this,this.instance}}p(L,"_options",{});class j{constructor(){p(this,"events",F.getInstance("lifecycle")),p(this,"debug",!1),p(this,"routerEvents",F.getInstance()),p(this,"timeout",null),p(this,"components",{}),this.addEventListeners(),this.reset(),j.instance=this}static getInstance(){return j.instance||(j.instance=new j),j.instance}getEmpty(){return{components:[]}}addEventListeners(){this.events.on("Component:connected",(e=>{this.resetTimeout(),this.components[e.tagName]=this.components[e.tagName]||this.getEmpty(),this.components[e.tagName].components.push(e.component)})),this.events.on("Component:disconnected",(()=>{this.resetTimeout(),this.checkStates()})),this.events.on("Component:afterBind",(()=>{this.resetTimeout(),this.checkStates()})),this.events.on("Component:error",((e,t)=>{this.onError(e,t)})),this.routerEvents.on("newPageReady",((e,t,n,r,i,s,o)=>{this.debug&&console.debug("newPageReady",e,t,n,"firstPageLoad",o),o||this.reset()}))}getState(e){let t=0,n=0;for(const r of this.components[e].components)r.connected&&(t++,r.bound&&n++);return{connected:t,bound:n}}getStates(){const e={};for(const t in this.components){const n=this.getState(t);e[t]={state:n,components:this.components[t].components}}return e}checkStates(){let e=!0;const t=this.getStates();for(const n in t){const r=t[n].state;if(r.connected!==r.bound){e=!1;break}}return e&&this.onAllBound(),{states:t,allBound:e}}onAllBound(){this.clearTimeout(),this.events.trigger("ComponentLifecycle:allBound",this.components),this.debug&&console.debug("[ComponentLifecycle] All components bound!")}onError(e,t){this.clearTimeout(),console.error(`The component "${t.tagName}" has caused an error:`,e),this.events.trigger("ComponentLifecycle:error",e,t)}onTimeout(){this.clearTimeout();const e=this.getStates();if(Object.keys(e).length<=0)return void console.warn("No component found");let t="[ComponentLifecycle] Timeout! {count} component(s) takes too long!\nUnfinished components:\n",n=0;for(const r in e){const i=e[r].state;i.connected!==i.bound&&(n++,t+=`${r}: ${JSON.stringify(e[r].state,null,2)} + \n`)}t=t.replace("{count}",n.toString()),this.events.trigger("ComponentLifecycle:error",new Error(t),{})}clearTimeout(){this.timeout&&window.clearTimeout(this.timeout)}resetTimeout(){var e;return this.debug&&console.debug("[ComponentLifecycle] reset timeout.."),this.clearTimeout(),this.timeout=window.setTimeout(this.onTimeout.bind(this),(null===(e=L.options.lifecycle)||void 0===e?void 0:e.timeout)||5e3),this.timeout}reset(){this.debug&&console.debug("[ComponentLifecycle] reset!"),this.components={},this.resetTimeout()}}class M extends D{constructor(e){super(e),p(this,"type","components")}regist(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t||e.tagName:e.tagName||t;return n?(this.elements[n]=e,this.elements):(console.warn(new Error("Component name not found!"),e),this.elements)}}class R extends D{constructor(e){super(e),p(this,"type","formatter")}regist(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t||e.name:e.name||t;if(!n)throw new Error("Formatter name not found!");return this.elements[n]=e,this.elements}}class I{static setRequestHeaderEachRequest(e,t){this._requestHeadersEachRequest.push({name:e,value:t})}static async getJSON(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.fetch(e,"GET",t,"json",n,r)}static async post(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(e,"POST",t,n,r,i)}static async delete(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(e,"DELETE",t,n,r,i)}static async put(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(e,"PUT",t,n,r,i)}static async get(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.fetch(e,"GET",t,n,r,i)}static parseDataType(e){const t={};let n="application/x-www-form-urlencoded",r="*/*";switch(e){case"script":n="application/javascript";break;case"json":n="application/json",r="application/json, text/javascript";break;case"xml":n="application/xml",r="application/xml, text/xml";break;case"text":n="text/plain",r="text/plain";break;case"html":n="text/html",r="text/html";break;case"form":n="application/x-www-form-urlencoded"}return n&&(t["Content-Type"]=n,t.Accept=r),t}static async fetch(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!fetch)throw new Error("Your browser does not support the fetch API, use xhr instead or install a polyfill.");for(const e of this._requestHeadersEachRequest)s[e.name]=e.value;i&&(s=P({deep:!1},s,this.parseDataType(i))),o.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");const a=o.cache?o.cache:"default";if("GET"===n&&r){if(new URLSearchParams(r).toString()){const t=-1!==e.indexOf("?")?"&":"?";e=e+t+new URLSearchParams(r).toString()}}else r&&(t="form"===i?new URLSearchParams(r):JSON.stringify(r));const c=await fetch(e,{credentials:"same-origin",cache:a,method:n,body:t,headers:s,mode:o.mode||"cors"});let l=await c.text();if("string"==typeof l&&v(l)&&(l=JSON.parse(l)),"string"==typeof l)switch(l){case"null":l=null;break;case"true":l=!0;break;case"false":l=!1;break;case"undefined":l=void 0}return{status:c.status,headers:c.headers,ok:c.ok,redirected:c.redirected,statusText:c.statusText,type:c.type,url:c.url,arrayBuffer:c.arrayBuffer,blob:c.blob,bodyUsed:c.bodyUsed,clone:c.clone,formData:c.formData,text:c.text,body:l}}}p(I,"_requestHeadersEachRequest",[]);class ${constructor(){p(this,"name","."),p(this,"counter",0),p(this,"weakmap",{})}weakReference(e){if(!e.hasOwnProperty("__rv")){const t=this.counter++;Object.defineProperty(e,"__rv",{value:t})}return this.weakmap[e.__rv]||(this.weakmap[e.__rv]={callbacks:{}}),this.weakmap[e.__rv]}cleanupWeakReference(e,t){Object.keys(e.callbacks).length||e.pointers&&Object.keys(e.pointers).length||delete this.weakmap[t]}stubFunction(e,t){const n=e[t],r=this.weakReference(e),i=this.weakmap;e[t]=function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const a=n.apply(e,s);return Object.keys(r.pointers).forEach((e=>{const t=r.pointers[e];i[e]&&Array.isArray(i[e].callbacks[t])&&i[e].callbacks[t].forEach((e=>{e.sync()}))})),a}}observeMutations(e,t,n){if(Array.isArray(e)){const r=this.weakReference(e);r.pointers||(r.pointers={},$.ARRAY_METHODS.forEach((t=>{this.stubFunction(e,t)}))),r.pointers[t]||(r.pointers[t]=[]),-1===r.pointers[t].indexOf(n)&&r.pointers[t].push(n)}}unobserveMutations(e,t,n){if(Array.isArray(e)&&null!=e.__rv){const r=this.weakmap[e.__rv];if(r){const i=r.pointers[t];if(i){const s=i.indexOf(n);s>-1&&i.splice(s,1),i.length||delete r.pointers[t],this.cleanupWeakReference(r,e.__rv)}}}}observe(e,t,n){let r;const i=this.weakReference(e).callbacks;if(!i[t]){i[t]=[];const n=Object.getOwnPropertyDescriptor(e,t);n&&(n.get||n.set||!n.configurable)||(r=e[t],Object.defineProperty(e,t,{enumerable:!0,get:()=>r,set:n=>{if(n!==r){this.unobserveMutations(r,e.__rv,t),r=n;const i=this.weakmap[e.__rv];if(i){const r=i.callbacks[t];r&&r.forEach((e=>{e.sync()})),this.observeMutations(n,e.__rv,t)}}}}))}-1===i[t].indexOf(n)&&i[t].push(n),this.observeMutations(e[t],e.__rv,t)}unobserve(e,t,n){const r=this.weakmap[e.__rv];if(r){const i=r.callbacks[t];if(i){const s=i.indexOf(n);s>-1&&(i.splice(s,1),i.length||(delete r.callbacks[t],this.unobserveMutations(e[t],e.__rv,t))),this.cleanupWeakReference(r,e.__rv)}}}get(e,t){return e[t]}set(e,t,n){e[t]=n}}p($,"ARRAY_METHODS",["push","pop","shift","unshift","sort","reverse","splice"]);const H=new $,U={name:"add-class",function:!0,priority:1e3,bind(e){this.customData={staticClasses:e.className.split(" ")}},unbind(){delete this.customData},routine(e,t){t?-1===this.customData.staticClasses.indexOf(t)&&(e.className=this.customData.staticClasses.join(" ")+" "+t):e.className=this.customData.staticClasses.join(" "),e.className=e.className.trim()}},V={name:"animate-*",function:!0,priority:1e3,bind(e){const t=this.args[0];e.classList.add(t)},unbind(){},routine(e,t){const n=this.args[0];t?(e.classList.add(n+"-start"),e.classList.remove(n+"-done")):(e.classList.remove(n+"-start"),e.classList.add(n+"-done"))}},q={name:"assign",routine(e,t){if("object"==typeof t)return P({deep:!1},this.view.models,t);console.warn("Value must be an object or propertyName is required")}},W={name:"assign-*",routine(e,t){const n=N(this.args[0].trim());this.view.models[n]=t}},z={name:"block",block:!0,routine(){}},J=e=>{const t=[];if("checkbox"===e.type)return e.checked;if("select-multiple"===e.type){const n=e.options;for(const e in n)if(n[e]){const r=n[e];r.selected&&t.push(r.value)}return t}return e.hasAttribute&&e.hasAttribute("contenteditable")?e.innerHTML:e.value},G=async e=>new Promise((t=>{let n;const r=()=>{void 0!==n&&clearTimeout(n),n=setTimeout((()=>{t()}),100)};e.removeEventListener("scroll",r),e.addEventListener("scroll",r),r()}));window.scrollToPosition=async function(e,t){let n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"smooth";if(!e)return;const o=G(e);if("vertical"===i||"both"===i)switch(t){case"start":n=0;break;case"end":if(e.document){const t=e,r=t.document;n=t.scrollMaxY||Math.max(r.body.scrollHeight,r.body.offsetHeight,r.documentElement.clientHeight,r.documentElement.scrollHeight,r.documentElement.offsetHeight)}else n=e.scrollHeight;break;default:n=t}if("horizontal"===i||"both"===i)switch(t){case"start":r=0;break;case"end":if(e.document){const t=e,n=t.document;r=t.scrollMaxX||Math.max(n.body.scrollWidth,n.body.offsetWidth,n.documentElement.clientWidth,n.documentElement.scrollWidth,n.documentElement.offsetWidth)}else r=e.scrollWidth;break;default:r=t}return e.scroll({behavior:s,top:n,left:r}),o};const Y=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=-1!==e.localName.indexOf("-");if(r&&t&&customElements){const t=customElements.get(e.localName);return!!t&&(!n||t===e.constructor)}return r},Q=async e=>(await customElements.whenDefined(e.localName),e),X={name:"checked",publishes:!0,priority:2e3,bind(e){this.customData={onChange:this.publish.bind(this)},e.addEventListener("change",this.customData.onChange)},unbind(e){e.removeEventListener(this.customData.event,this.customData.onChange)},routine(e,t){const n=this.getValue(e);"radio"===e.type?e.checked=E(n)===E(t):n!==t&&(e.checked=!!t)},getValue:J},K={name:"class-*",routine(e,t){if(null===this.args)throw new Error("args is null");const n=e.className.split(" ").filter((e=>""!==e)),r=this.args[0].trim(),i=n.indexOf(r);-1===i?t&&(e.className+=` ${r}`):t||(e.className=n.filter(((e,t)=>t!==i)).join(" "))}};let Z=1;const ee={};let te=!1;const ne="setImmediate$"+Math.random()+"$";function re(e){window.postMessage(ne+e,"*")}function ie(e){delete ee[e]}function se(e){if(te)setTimeout(se,0,e);else{const t=ee[e];if(t){te=!0;try{!function(e){(0,e.callback)(...e.args)}(t)}finally{ie(e),te=!1}}}}window.addEventListener("message",(function(e){e.source===window&&"string"==typeof e.data&&0===e.data.indexOf(ne)&&se(+e.data.slice(ne.length))}),!1);window.setImmediate,window.clearImmediate;const oe=()=>{const e=navigator.userAgent,t=window.navigator.platform,n={windows7:/Windows NT 6.1/,windows8:/Windows NT 6.2/,windows81:/Windows NT 6.3/,windows10:/Windows NT 10.0/,windows:/windows/i,windowsPhone:/trident/i,android:/android/i,ios:/(ipad|iphone|ipod)/i,linux:/(linux)/i,unix:/(openbsd|freebsd|netbsd)/i,osxCatalina:/macintosh.+10(_|\.)15/i,osxBigSur:/macintosh.+((10(_|\.)16)|(11(_|\.)))/i,osx:/macintosh/i,mac:/mac/i},r={linux:/Linux/i,unix:/(FreeBSD|OpenBSD|X11|SunOS)/i,webOS:/webOS/i,playstation3:/playstation 3/i,playstation4:/playstation 4/i,PlaystationPortable:/psp/i,newNintendo3Ds:/new nintendo 3ds/i,nintendoDsi:/nintendo dsi/i,nintendo3Ds:/nintendo 3ds/i,nintendoWii:/nintendo wii/i,nintendoWiiU:/nintendo wiiu/i,palmos:/palmos/i,symbian:/(nokia_series_40|s60|symbian)/i};for(const t of Object.keys(n)){if(n[t].test(e))return"mac"===t&&"ontouchend"in document?"ios":t}for(const e of Object.keys(r)){if(r[e].test(t))return e}return"Unknown"},ae=()=>{const e=oe();let t=!1,n=!1,r=!1;switch(e){case"windows":case"windows10":case"windows7":case"windows8":case"windows81":case"osxBigSur":case"osxCatalina":case"osx":case"mac":case"linux":case"unix":n=!0;break;case"ios":case"android":case"windowsPhone":case"symbian":t=!0}return-1===e.indexOf("playstation")&&-1===e.indexOf("nintendo")||(r=!0),{isMobile:t,isDesktop:n,isGameConsole:r}},ce={name:"co-*",publishes:!0,_routine(e,t){const n=this.args[0].trim();e.setBinderAttribute?void 0!==t&&e.setBinderAttribute(n,t):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",e)},async routine(e,t){Y(e,!0,!0)?ce._routine.call(this,e,t):Y(e,!0)?(await Q(e),ce._routine.call(this,e,t)):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",e)},_bind(e){const t=this.args[0].trim();"function"==typeof e.observeAttribute?this.customData={componentAttributeObserver:e.observeAttribute(t,{sync:()=>{this.publish()}})}:console.warn("[componentAttributeBinder] You can only use this binder on Riba components",e)},async bind(e){Y(e,!0,!0)?ce._bind.call(this,e):Y(e,!0)?(await Q(e),ce._bind.call(this,e)):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",e)},unbind(){var e,t;null===(e=this.customData)||void 0===e||null===(t=e.componentAttributeObserver)||void 0===t||t.unobserve()},getValue(e){const t=this.args[0].trim();return e.getBinderAttribute(t)}},le={name:"style-*",routine(e,t){const n=this.args[0];null==t||""===t?e.style.removeProperty(n.toString()):e.style.setProperty(n.toString(),t)}},de={name:"style",routine(e,t){if(t)if("string"==typeof t)e.setAttribute("style",t);else for(const n of Object.keys(t))e.style.setProperty(n.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`)),t[n]||null);else for(const t of Object.keys(e.style))e.style.removeProperty(t)}},ue={name:"tag-*",priority:-1e3,bind(e){this.customData={originalTag:e.tagName.toLowerCase()}},routine(e,t){if(null===this.args)throw new Error("args is null");const n=this.el.tagName.toLowerCase();let r;if(r=t?this.args[0].trim().toLowerCase():this.customData.originalTag.toLowerCase(),n!==r){const t=document.createElement(r);for(;e.childNodes.length>0;)e.firstChild&&t.appendChild(e.firstChild);const n=Array.prototype.slice.call(e.attributes);for(const e of n)console.debug("attribute",e),t.setAttribute(e.name,e.value);e.parentNode?e.parentNode.replaceChild(t,e):console.warn("No parent"),this.el=t}}},he={name:"enabled",routine(e,t){e.disabled=!t}},pe={name:"flex-sort-childs",priority:9e4,routine(e,t){const n=Array.from(e.children);n.sort(((e,n)=>e.dataset.sortBy&&n.dataset.sortBy?e.dataset.sortBy<n.dataset.sortBy?t?1:-1:e.dataset.sortBy>n.dataset.sortBy?t?-1:1:0:0));for(let e=0;e<n.length;e++){n[e].style.order=e.toString()}}},me={name:"disabled",routine(e,t){e.disabled=!!t}},fe={name:"maxlength",bind(){this.customData={}},routine(e,t){"number"==typeof t?(e.setAttribute("maxlength",t.toString()),e.maxLength=t):e.removeAttribute("maxlength")}},be={name:"not-draggable",bind(){this.customData={}},routine(e){e.addEventListener("dragstart",(e=>(e.preventDefault(),!1)))}},ve={name:"on-*",function:!0,priority:1e3,bind(){this.customData={handler:null}},unbind(e){if(this.customData.handler){if(null===this.args)throw new Error("args is null");const t=this.args[0];e.removeEventListener(t,this.customData.handler)}},routine(e,t){if(null===this.args)throw new Error("args is null");const n=this.args[0],r={passive:"true"===this.el.dataset.passive};this.customData.handler&&e.removeEventListener(n,this.customData.handler,r),this.customData.handler=this.eventHandler(t,e).bind(this.customData),e.addEventListener(n,this.customData.handler,r)}},ge={name:"parent",routine(){},_bind(e){e.setBinderAttribute?e.setBinderAttribute("$parent",this.view.models):console.warn("[parentBinder] You can only use this binder on Riba components",e.localName,customElements.get(e.localName))},async bind(e){Y(e,!0,!0)?ge._bind.call(this,e):Y(e,!0)?(console.debug(`[parentBinder] CustomElement ${e.localName} has been defined, but not yet upgraded. Waiting for upgrade.`,e),await Q(e),ge._bind.call(this,e)):console.warn("[parentBinder] You can only use this binder on Riba components",e.localName)}},ye={name:"readonly",bind(){this.customData={}},routine(e,t){t=!!t,e.readOnly=t,t?e.setAttribute("readonly",""):e.removeAttribute("readonly")}},we={name:"remove-class",bind(e){this.customData={staticClassesString:e.className}},routine(e,t){const n=new RegExp(`\\b${t}\\b`,"g");e.className=this.customData.staticClassesString.replace(n,"").trim()}},Ae=/^'.*'$|^".*"$/,Ee=/((?:'[^']*')*(?:(?:[^|']*(?:'[^']*')+[^|']*)+|[^|]+))|^$/g;function ke(e){let t=0,n=e;if(void 0===e)return{type:t,value:void 0};if(Ae.test(e)){n=e.slice(1,-1);const t=g(n);n=t||n}else if("true"===e)n=!0;else if("false"===e)n=!1;else if("null"===e)n=null;else if("undefined"===e)n=void 0;else if(""===e)n=void 0;else if(isNaN(Number(e)))if(b(n)){const e=g(n);n=e||n}else t=1;else n=Number(e);return{type:t,value:n}}function Oe(e,t){let n=null;const r=e.length;let i=0,s=0;const o=t[0],a=t[1];for(;s<r;){if(i=e.indexOf(o,s),i<0){n&&n.push({type:0,value:e.slice(s)});break}{if(n=n||[],i>0&&s<i&&n.push({type:0,value:e.slice(s,i)}),s=i+o.length,i=e.indexOf(a,s),i<0){const t=e.slice(s-o.length),r=n[n.length-1];r&&0===r.type?r.value+=t:n.push({type:0,value:t});break}const t=e.slice(s,i).trim();n.push({type:1,value:t}),s=i+a.length}}return n}function Ce(e,t,n){let r=!1;if((t=t).nodeType===Node.TEXT_NODE){let i=null;if(t.data&&(i=Oe(t.data,n)),i&&i.length){for(let n=0;n<i.length;n++){const r=i[n],s=document.createTextNode(r.value);t.parentNode&&s&&t&&t.parentNode.insertBefore(s,t),1===r.type&&e.buildBinding(s,null,r.value,Be.mustacheTextBinder,null)}t.parentNode&&t.parentNode.removeChild(t)}r=!0}else t.nodeType===Node.ELEMENT_NODE&&(r=e.traverse(t));if(!r&&t.childNodes&&t.childNodes.length>0)for(let r=0;r<t.childNodes.length;r++){const i=t.childNodes[r];i&&Ce(e,i,n)}}const Ne={name:"json",read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=JSON.stringify(e,null,t);return n&&r?r.replace(/'/g,"&#39;"):r}},Pe={name:"*",bind(){},unbind(){delete this.customData},routine(e,t){if(!this.type)throw new Error("Can't set attribute of "+this.type);const n=e.getAttribute(this.type);let r;switch(typeof t){case"string":case"number":case"boolean":r=t;break;case"object":null===t?t=null:r=Ne.read(t,0);break;default:r=t}null!=r?String(n).toString()!==String(r).toString()&&(e.setAttribute(this.type,r),e.dispatchEvent(new CustomEvent("binder-changed",{detail:{name:this.type,newValue:r,oldValue:n}}))):(e.removeAttribute(this.type),e.dispatchEvent(new CustomEvent("binder-changed",{detail:{name:this.type,newValue:r,oldValue:n}})))}};class De{constructor(e,t,n,r){this.binder=new B(e),this.component=new M(t),this.formatter=new R(n),this.adapter=new S(r)}regist(e){if(!e)throw console.error(e),new Error("The Riba module is falsy!");e.binders&&this.binder.regists(e.binders),e.components&&this.component.regists(e.components),e.formatters&&this.formatter.regists(e.formatters),e.adapters&&this.adapter.regists(e.adapters)}}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class xe{static handler(e,t,n,r){if(!this||!this.call){const e=new Error(`[rv-${n.type}="${n.keypath}"] Event handler "${n.keypath}" not found!"`);throw console.error(e,n,r,n.view.models),e}this.call(e,t,n.view.models,r)}set prefix(e){if(Array.isArray(e)){this._prefix=[],this._fullPrefix=[];for(const t of e)this._prefix.push(t),this._fullPrefix.push(t+"-")}}get prefix(){return this._prefix}get fullPrefix(){return this._fullPrefix}constructor(){if(p(this,"lifecycle",j.getInstance()),p(this,"binders",{}),p(this,"components",{}),p(this,"formatters",{}),p(this,"adapters",{}),p(this,"parseTemplate",Oe),p(this,"parseType",ke),p(this,"templateDelimiters",["{","}"]),p(this,"rootInterface","."),p(this,"preloadData",!0),p(this,"removeBinderAttributes",!0),p(this,"blockNodeNames",["SCRIPT","STYLE","TEMPLATE","CODE"]),p(this,"blockUnknownCustomElements",!0),p(this,"_prefix",["rv"]),p(this,"_fullPrefix",["rv-"]),this.module=new De(this.binders,this.components,this.formatters,this.adapters),xe.instance)return xe.instance;xe.instance=this}configure(e){if(e)for(const[t,n]of Object.entries(e))switch(t){case"binders":this.binders=Te(Te({},this.binders),n);break;case"formatters":this.formatters=Te(Te({},this.formatters),n);break;case"components":this.components=Te(Te({},this.components),n);break;case"adapters":this.adapters=Te(Te({},this.adapters),n);break;case"prefix":this.prefix=n;break;case"parseTemplate":this.parseTemplate=n;break;case"parseType":this.parseType=n;break;case"templateDelimiters":this.templateDelimiters=n;break;case"rootInterface":this.rootInterface=n;break;case"preloadData":this.preloadData=n;break;case"blockNodeNames":this.blockNodeNames=n;break;case"blockUnknownCustomElements":this.blockUnknownCustomElements=Boolean(n);break;default:console.warn("Option not supported",t,n)}}getViewOptions(e){const t={adapters:{},binders:{},components:{},formatters:{},attributeBinders:{},rootInterface:{}};if(e&&(t.binders=Te(Te({},t.binders),e.binders),t.formatters=Te(Te({},t.formatters),e.formatters),t.components=Te(Te({},t.components),e.components),t.adapters=Te(Te({},t.adapters),e.adapters)),null!=e&&e.prefix&&Array.isArray(null==e?void 0:e.prefix)){t.prefix=[],t.fullPrefix=[];for(const n of e.prefix)t.prefix.push(n),t.fullPrefix.push(n+"-")}else t.prefix=this.prefix,t.fullPrefix=this.fullPrefix;return t.templateDelimiters=(null==e?void 0:e.templateDelimiters)||this.templateDelimiters,t.rootInterface=(null==e?void 0:e.rootInterface)||this.rootInterface,t.removeBinderAttributes="boolean"==typeof(null==e?void 0:e.removeBinderAttributes)?e.removeBinderAttributes:this.removeBinderAttributes,t.blockNodeNames=(null==e?void 0:e.blockNodeNames)||this.blockNodeNames,t.preloadData="boolean"==typeof(null==e?void 0:e.preloadData)?e.preloadData:this.preloadData,t.handler=(null==e?void 0:e.handler)||xe.handler,t.binders=Te(Te({},this.binders),t.binders),t.formatters=Te(Te({},this.formatters),t.formatters),t.components=Te(Te({},this.components),t.components),t.adapters=Te(Te({},this.adapters),t.adapters),t.binders&&(t.attributeBinders=Object.keys(t.binders).filter((e=>e.indexOf("*")>=1))),t}bind(e,t,n){const r=this.getViewOptions(n);t=t||Object.create(null),x.updateOptions(r);const i=new Be(e,t,r);return i.bind(),i}}p(xe,"fallbackBinder",Pe),window.Riba=xe;class Se{constructor(e,t,n,r,i,s,o){p(this,"formatterObservers",{}),this.view=e,this.el=t,this.type=n,this.keypath=r,this.binder=i,this.formatters=s,this.model=void 0,this.customData={},this.args=o&&n?this.getStarArguments(o,n):new Array}observe(e,t,n){return new x(e,t,n)}parseTarget(){if(this.keypath){const e=ke(this.keypath);if(0===e.type)this.value=e.value;else{if(1!==e.type)throw new Error(`[${this.binder.name}] Unknown type in token`);this.observer=this.observe(this.view.models,this.keypath,this),this.model=this.observer.target}}else this.value=void 0}getIterationAlias(e){return"%"+e+"%"}parseFormatterArguments(e,t){return e.map(ke).map(((e,n)=>{let{type:r,value:i}=e;if(0===r){return i}if(1===r){const e=i;this.formatterObservers[t]||(this.formatterObservers[t]={});let r=this.formatterObservers[t][n];return r||(r=this.observe(this.view.models,e,this),this.formatterObservers[t][n]=r),r.value()}throw new Error(`[${this.binder.name}] Unknown argument type`)}))}formattedValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null===this.formatters)throw new Error(`[${this.binder.name} formatters is null`);let n=!1;const r=t?this.formatters.slice(t):this.formatters;return r.reduce(((t,i,s)=>{if(n)return t;const o=i.match(Se.FORMATTER_ARGS);if(null===o)return console.warn(new Error(`[${this.binder.name}] No args matched with regex "FORMATTER_ARGS"!\nvalue: ${JSON.stringify(e)}\nresult: ${JSON.stringify(t)}\ndeclaration: ${JSON.stringify(i)}\nindex: ${s}\n`)),t;const a=o.shift();if(!a)throw new Error(`[${this.binder.name}] No formatter id found in args!`);if(!this.view.options.formatters)throw new Error(`[${this.binder.name}] No formatters are defined!`);const c=this.view.options.formatters[a];if(!c)throw new Error(`[${this.binder.name}] No formatters with id "${a}" found!`);const l=this.parseFormatterArguments(o,s);return c&&"function"==typeof c.read&&(t=c.read.apply(this.model,[t,...l])),s<r.length-1&&t&&"function"==typeof t.then&&"function"==typeof t.catch?(n=!0,t.then((e=>this.formattedValue(e,s+1)))):t}),e)}eventHandler(e,t){const n=this,r=n.view.options.handler;return i=>{if(!r)throw new Error("No handler defined in binding.view.options.handler");r.call(e,this,i,n,t)}}set(e){if(null!==this.binder){try{e=this.formattedValue(e)}catch(t){return console.error(t),e}this.binder&&"function"==typeof this.binder.routine&&(e&&"function"==typeof e.then&&"function"==typeof e.catch?e.then((e=>{this.binder.routine.call(this,this.el,e)})).catch((e=>{console.error(e)})):this.binder.routine.call(this,this.el,e))}else console.warn(new Error("Binder is null"),this)}sync(){this.observer?(this.model=this.observer.target,this.set(this.observer.value())):this.set(this.value)}publish(){if(this.observer){if(null===this.formatters)throw new Error("formatters is null");const e=this.formatters.reduceRight(((e,t,n)=>{const r=t.split(Se.FORMATTER_SPLIT),i=r.shift();if(!i)throw new Error("id not defined");if(!this.view.options.formatters)return;const s=this.view.options.formatters[i],o=this.parseFormatterArguments(r,n);return s&&"function"==typeof s.publish&&(e=s.publish(e,...o)),e}),this.getValue(this.el));this.observer.setValue(e)}}bind(){if(this.parseTarget(),this.binder&&this.binder.bind){if("function"!=typeof this.binder.bind)throw new Error("the method bind is not a function");this.binder.bind.call(this,this.el)}this.view.options.preloadData&&this.sync()}unbind(){this.binder?(this.binder.unbind&&this.binder.unbind.call(this,this.el),this.observer&&this.observer.unobserve(),Object.keys(this.formatterObservers).forEach((e=>{const t=this.formatterObservers[e];Object.keys(t).forEach((e=>{t[e].unobserve()}))})),this.formatterObservers={}):console.warn(new Error("Binder is not defined"),this)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.observer&&(this.model=this.observer.target),null===this.binder)throw new Error("binder is null");"function"==typeof this.binder.update&&this.binder.update.call(this,e)}getValue(e){if(null===this.binder)throw new Error("binder is null");return"function"==typeof this.binder.getValue?this.binder.getValue.call(this,e):J(e)}getStarArguments(e,t){const n=new RegExp(`^${e.replace(/\*/g,"(.+)")}$`),r=t.match(n);return r&&r.slice(1)||[]}}p(Se,"FORMATTER_ARGS",/[^\s']+|'([^']|'[^\s])*'|"([^"]|"[^\s])*"/g),p(Se,"FORMATTER_SPLIT",/\s+/);class Be{static create(e,t,n){var r;const i=e.el.cloneNode(!0),s=new Be(i,t,e.view.options);return s.bind(),null!=e&&null!==(r=e.marker)&&void 0!==r&&r.parentNode?e.marker.parentNode.insertBefore(i,n):console.warn("[View]: No parent node for binding!"),s}constructor(e,t,n){p(this,"bindings",[]),p(this,"webComponents",[]),Array.isArray(e)?this.els=e:this.els=[e],this.models=t,this.options=n,this.build()}registComponents(){for(const e in this.options.components)if(this.options.components[e]&&!customElements.get(e)){const t=this.options.components[e];this.registComponent(t,e)}}bind(){this.bindings.forEach((e=>{e.bind()}))}unbind(){Array.isArray(this.bindings)&&this.bindings.forEach((e=>{e.unbind(),e.el,this.options.removeBinderAttributes})),Array.isArray(this.webComponents)&&this.webComponents.forEach((e=>{"function"==typeof e.unbind&&e.unbind()}))}sync(){this.bindings.forEach((e=>{e.sync&&e.sync()}))}publish(){this.bindings.forEach((e=>{e.binder&&e.binder.publishes&&e.publish&&e.publish()}))}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((t=>{this.models[t]=e[t]}));for(const t of this.bindings)t.update(e)}build(){if(this.bindings=[],!this.options.templateDelimiters)throw new Error("templateDelimiters required");const e=this.els;for(let t=0;t<e.length;t++){const n=e[t];n&&Ce(this,n,this.options.templateDelimiters)}this.bindings.sort(Be.bindingComparator)}startsWithPrefix(e){const t=this.options.fullPrefix;if(!t)throw new Error("prefix is required");for(const n of t)if(e.startsWith(n))return n}traverse(e){let t=-1!==this.options.blockNodeNames.indexOf(e.nodeName);const n=e.attributes,r=[],i=this.options.attributeBinders;if(n&&this.options.binders){for(let t=0,s=n.length;t<s;t++){let s=null,o=null,a=null;const c=n[t],l=this.startsWithPrefix(c.name);if(l){if(s=c.name.slice(l.length),this.options.binders[s]&&(o=this.options.binders[s]),null===o)for(let e=0;e<i.length;e++){a=i[e];if(new RegExp(`^${a.replace(/\*/g,".+")}$`).test(s)){o=this.options.binders[a];break}}if(null===o&&(this.options.binders["*"]?(o=this.options.binders["*"],a="*"):o=xe.fallbackBinder),o.block)return this.buildBinding(e,s,c.value,o,a),e.removeAttribute&&this.options.removeBinderAttributes&&e.removeAttribute(c.name),!0;r.push({attr:c,binder:o,nodeName:s,identifier:a})}}for(let t=0;t<r.length;t++){const n=r[t];this.buildBinding(e,n.nodeName,n.attr.value,n.binder,n.identifier),e.removeAttribute&&this.options.removeBinderAttributes&&e.removeAttribute(n.attr.name)}}if(!t&&!e._bound&&this.options.components){const n=e.nodeName.toLowerCase(),r=this.options.components[n];r?(this.registComponent(r,n),t=!0):this.options.blockUnknownCustomElements&&Y(e)&&!n.endsWith("-page")&&(t=!0)}return t}buildBinding(e,t,n,r,i){const s=function(e){const t=e.match(Ee);if(null===t)throw new Error("[View] No matches");const n=t.map((e=>e.trim()));return{keypath:n.shift()||void 0,pipes:n}}(n),o=s.keypath,a=s.pipes;this.bindings.push(new Se(this,e,t,o,r,a,i))}registComponent(e,t){if(!customElements)throw console.error("customElements not supported by your browser!"),new Error("customElements not supported by your browser!");const n=t||e.tagName;customElements.get(n)||customElements.define(e.tagName,e)}}p(Be,"mustacheTextBinder",{name:"mustache-text",routine:(e,t)=>{e.data=null!=t?t:""}}),p(Be,"bindingComparator",((e,t)=>{var n,r;const i=(null===(n=e.binder)||void 0===n?void 0:n.priority)||0;return((null===(r=t.binder)||void 0===r?void 0:r.priority)||0)-i}));const Fe={name:"if",block:!0,priority:4e3,bind(e){var t,n,r;(this.customData={},this.marker)?this.customData.nested&&this.customData.nested.bind():(this.marker=null===(t=window)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.createComment(" riba: "+this.type+" "+this.keypath+" "),this.customData.attached=!1,null!==(r=e.parentNode)&&void 0!==r&&r.insertBefore&&(e.parentNode.insertBefore(this.marker,e),e.parentNode.removeChild(e)))},unbind(){this.customData.nested&&this.customData.nested.unbind()},routine(e,t){(t=!!t)!==this.customData.attached&&(t?(this.customData.nested||(this.customData.nested=new Be(e,this.view.models,this.view.options),this.customData.nested.bind()),this.marker&&this.marker.parentNode&&this.marker.parentNode.insertBefore(e,this.marker.nextSibling),this.customData.attached=!0):(e.parentNode&&e.parentNode.removeChild(e),this.customData.attached=!1))},update(e){this.customData.nested&&this.customData.nested.update(e)}},Le={name:"each-*",block:!0,priority:4e3,bind(e){var t,n,r;this.marker?this.customData.iterated.forEach((e=>{e.bind()})):(this.marker=null===(t=window)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.createComment(` riba: ${this.type} `),this.customData={iterated:[]},null!==(r=e.parentNode)&&void 0!==r&&r.insertBefore&&this.marker&&(e.parentNode.insertBefore(this.marker,e),e.parentNode.removeChild(e)))},unbind(){this.customData.iterated&&this.customData.iterated.forEach((e=>{e.unbind()}))},routine(e,t){if(null===this.args)throw new Error("args is null");let n=!1;const r=N(this.args[0].toString());if(t=t||[],Array.isArray(t)||"object"!=typeof t||null===t||(console.debug("original collection",t),t=Object.entries(t).map((e=>{let[t,n]=e;return{key:t,value:n}})),n=!0,console.debug("converted collection",t)),!Array.isArray(t))throw new Error(`each-${this.args[0]} needs an array or object to iterate over, but it is ${typeof t}`);const i=e.getAttribute("index-property")||this.getIterationAlias(r);t.forEach(((e,t)=>{const s={$parent:this.view.models};n?(s[i]=e.key,s[r]=e.value):(s[i]=t,s[r]=e);let o=this.customData.iterated[t];if(o)if(o.models[r]!==e){let n,c;for(let i=t+1;i<this.customData.iterated.length;i++)if(c=this.customData.iterated[i],c.models[r]===e){n=i;break}if(void 0!==n){var a;if(this.customData.iterated.splice(n,1),!this.marker||null===(a=this.marker.parentNode)||void 0===a||!a.insertBefore)throw new Error("Marker has no parent node");c.els[0]&&o.els[0]&&this.marker.parentNode.insertBefore(c.els[0],o.els[0]),c.models[i]=t}else c=Be.create(this,s,o.els[0]);this.customData.iterated.splice(t,0,c)}else o.models[i]=t;else{let e;if(this.customData.iterated.length?e=this.customData.iterated[this.customData.iterated.length-1].els[0]:this.marker&&(e=this.marker),!e)return;o=Be.create(this,s,e.nextSibling),this.customData.iterated.push(o)}})),this.customData.iterated.length>t.length&&((e,t)=>{for(let n=0;n<e;n++)t()})(this.customData.iterated.length-t.length,(()=>{const e=this.customData.iterated.pop();if(e.unbind(),!this.marker||!this.marker.parentNode)throw new Error("Marker has no parent node");this.marker.parentNode.removeChild(e.els[0])})),"OPTION"===e.nodeName&&this.view.bindings&&this.view.bindings.forEach((e=>{this.marker&&e.el===this.marker.parentNode&&"value"===e.type&&e.sync&&e.sync()}))},update(e){const t={};Object.keys(e).forEach((n=>{if(null===this.args)throw new Error("args is null");n!==this.args[0]&&(t[n]=e[n])})),this.customData.iterated.forEach((e=>{e.update(t)}))}},je={name:"html",routine(e,t){e.innerHTML=void 0!==t?t:""}},Me={name:"hide",routine(e,t){e.style.display=t?"none":"",t?e.setAttribute("hidden","true"):e.removeAttribute("hidden")}},Re={name:"show",routine(e,t){e.style.display=t?"":"none",t?e.removeAttribute("hidden"):e.setAttribute("hidden","true")}},Ie={name:"srcset-*",routine(e,t){const n=this.args[0];let r=e.getAttribute("srcset");if("string"!=typeof r&&(r=""),"string"==typeof t&&t.length>0){r+=`${r.length>0?", ":""}${t} ${n}`}else{let e=r.split(",");e=e.map((e=>e.trim())),e=e.filter((e=>!(-1!==e.indexOf(n)))),r=e.join(", ")||""}e.setAttribute("srcset",r)}},$e={name:"style-background-image",routine(e,t){const n="background-image";null==t||""===t?e.style.removeProperty(n):e.style.setProperty(n,`url(${t})`)}},He={name:"text",routine(e,t){e.textContent=null!=t?t:""}},Ue={name:"toggle-on-*",bind(e){this.customData={handler:null,propertyKey:null,toggle:()=>{this.customData.propertyKey&&(this.view.models[this.customData.propertyKey]=!this.view.models[this.customData.propertyKey])}};const t=this.args[0],n="true"===this.el.dataset.passive;e.addEventListener(t,this.customData.toggle,{passive:n})},unbind(e){if(this.customData.handler){if(null===this.args)throw new Error("args is null");const t=this.args[0];e.removeEventListener(t,this.customData.toggle)}},routine(e,t){if(null===this.args)throw new Error("args is null");this.customData.propertyKey=t}},Ve={name:"template",bind(e){this.customData={nested:new Be(e,this.view.models,this.view.options)}},routine(e,t){var n,r;null===(n=this.customData.nested)||void 0===n||n.unbind(),e.innerHTML=t||"",this.customData.nested=new Be(e,this.view.models,this.view.options),null===(r=this.customData.nested)||void 0===r||r.bind()},unbind(){var e;null===(e=this.customData.nested)||void 0===e||e.unbind()},update(e){var t;null===(t=this.customData.nested)||void 0===t||t.update(e)}},qe={name:"unless",block:!0,priority:4e3,bind:Fe.bind,unbind:Fe.unbind,routine(e,t){return Fe.routine.call(this,e,!t)},update:Fe.update},We=e=>{const t={};return t.type=e.type,t.tagName=e.tagName,t.contenteditable=!!e.getAttribute("contenteditable"),t.isRadio="INPUT"===t.tagName&&"radio"===t.type,t},ze={name:"value",publishes:!0,priority:3e3,onChange(){this.publish()},bind(e){if(this.customData||(this.customData=We(e)),!this.customData.isRadio){this.customData.event=e.getAttribute("event-name")||"change input paste blur focus";const t=this;this.customData.onChange||(this.customData.onChange=()=>{t.publish()});const n=this.customData.event.split(" ");for(const t of n)e.addEventListener(t.trim(),this.customData.onChange,!1)}},unbind(e){const t=this.customData.event.split(" ");for(const n in t)e.removeEventListener(n.trim(),this.customData.onChange)},routine(e,t){let n=this.getValue(e);if(Array.isArray(t)||(t=null!=t?E(t):""),Array.isArray(n)||(n=null!=n?E(n):""),n!==t)if(this.customData||(this.customData=We(e)),this.customData.isRadio)e.setAttribute("value",t);else if("select-multiple"===e.type){if(Array.isArray(t))for(let n=0;n<e.options.length;n++){const r=e.options[n];r.selected=t.indexOf(r.value)>-1}}else e.getAttribute("contenteditable")?e.innerHTML=t:e.value=t},getValue:J},Je=()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e};class Ge extends HTMLElement{constructor(){super(),p(this,"_debug",!1),p(this,"templateLoaded",!1),p(this,"observedAttributesToCheck",{}),p(this,"observedAttributes",[]),this._debug&&(this._color=Je())}remove(){this&&this.parentElement&&this.parentElement.removeChild(this)}_log(e){const t=this.constructor.name||this.tagName;this._color||(this._color=Je());for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];!function(e){const t=[];e.color?(e.namespace?t.push(`%c[${e.namespace}] ${e.mode.toUpperCase()}: `):t.push(`%c${e.mode.toUpperCase()}: `),t.push(`color: ${e.color}`)):e.namespace?t.push(`[${e.namespace}] ${e.mode.toUpperCase()}: `):t.push(`${e.mode.toUpperCase()}: `);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.push(...r),console[e.mode](...t)}({namespace:t,color:this._color,mode:e},...r)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._log("info",...t)}debug(){if(this._debug){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._log("debug",...t)}}error(){console.error(...arguments)}requiredAttributes(){return[]}async init(e){this.loadAttributes(e),this.getPassedObservedAttributes(e)}ready(){return this.allPassedObservedAttributesAreInitialized()&&this.checkRequiredAttributes()}attributeIsPassed(e){return this.hasAttribute(e)}getPassedObservedAttributes(e){const t=this.observedAttributesToCheck;for(const n of e)t[n]?t[n].passed||(t[n].passed=this.attributeIsPassed(n)):t[n]={passed:!1,initialized:!1}}allPassedObservedAttributesAreInitialized(){return Object.keys(this.observedAttributesToCheck).every((e=>{var t,n;return!(null!==(t=this.observedAttributesToCheck[e])&&void 0!==t&&t.passed)||(null===(n=this.observedAttributesToCheck[e])||void 0===n?void 0:n.initialized)}))}checkRequiredAttributes(){return this.requiredAttributes().every((e=>(e=N(e),this.scope.hasOwnProperty(e)&&void 0!==this.scope[e])))}parseAttribute(e){let t=e;if("true"===e)t=!0;else if("false"===e)t=!1;else if("null"===e)t=null;else if("undefined"===e)t=void 0;else if(""===e)t=void 0;else if(isNaN(Number(e))){const e=g(t);t=e||t}else t=Number(e),t>=Number.MAX_SAFE_INTEGER&&(t=e);return t}eventHandler(e){return function(t,n,r,i){if(!this||!this.call){const e=new Error(`[rv-${r.type}="${r.keypath}"] Event handler "${r.keypath}" not found!"`);throw console.error(r,i),e}this.call(e,n,r.view.models,i)}}connectedCallback(){}disconnectedCallback(){}async attributeChangedCallback(e,t,n,r){this.observedAttributesToCheck&&this.observedAttributesToCheck[e]&&(this.observedAttributesToCheck[e].initialized=!0),n=this.parseAttribute(n);const i=N(e);this.scope&&this.scope[i]&&(t=this.scope[i]),this.scope[i]=n,this.parsedAttributeChangedCallback(i,t,n,r)}parsedAttributeChangedCallback(e,t,n,r){this.debug("parsedAttributeChangedCallback called",e,t,n,r)}adoptedCallback(e,t){this.debug("adoptedCallback called",e,t)}async loadTemplate(){return!0===this.templateLoaded?null:this.checkRequiredAttributes()?(this.templateLoaded=!0,Promise.resolve(this.template()).then((e=>(e instanceof HTMLElement?(this.innerHTML="",this.appendChild(e)):null!==e&&(this.innerHTML=e),e))).catch((e=>(console.error(e),this.templateLoaded=!1,null)))):(this.debug("Not all required attributes are set to load the template"),null)}async beforeTemplate(){}async afterTemplate(e){this.debug("afterTemplate",e)}async onReady(){}observe(e,t){return new x(this.scope,e,t)}observeAttribute(e,t){const n=N(e);return this.observe(n,t)}setBinderAttribute(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=N(e),i=this.scope[r];this.attributeChangedCallback(e,i,t,n)}getBinderAttribute(e){const t=N(e);return this.scope[t]}loadAttributes(e){const t=this.attributes;for(const n in t){const r=t[n],i=r.nodeName;if(-1!==e.indexOf(i)){const e=r.nodeValue;this.attributeChangedCallback(i,void 0,e,null)}}}}class Ye extends Ge{get binds(){return this._binds}get bound(){return this._bound}get connected(){return this._connected}get disconnected(){return this._disconnected}constructor(){super(),p(this,"view",null),p(this,"_binds",!1),p(this,"_bound",!1),p(this,"_connected",!1),p(this,"_disconnected",!1),p(this,"lifecycleEvents",F.getInstance("lifecycle")),p(this,"autobind",!0),this.lifecycleEvents.trigger("Component:constructor",this.getLifecycleEventData()),this.lifecycleEvents.on("ComponentLifecycle:allBound",this.afterAllBind,this)}async init(e){try{return await super.init(e),this.lifecycleEvents.trigger("Component:init",this.getLifecycleEventData()),this.bindIfReady()}catch(e){this.throw(e)}}throw(e){e.message&&console.error(`[${this.tagName}] ${e.message}`),this.lifecycleEvents.trigger("Component:error",e,this.getLifecycleEventData()),this.error(e)}async bindIfReady(){if(this.ready()){await this.beforeTemplate();const e=await this.loadTemplate();return await this.afterTemplate(e),this.autobind&&await this.bind(),void await this.onReady()}this.debug("Not all required or passed attributes are set to load and bind the template",this.observedAttributesToCheck,this.scope)}async _beforeBind(){this._binds=!0,this.debug("Start to bind Riba"),this.lifecycleEvents.trigger("Component:beforeBind",this.getLifecycleEventData())}async beforeBind(){}async _afterBind(){this._binds=!1,this._bound=!0,this.lifecycleEvents.trigger("Component:afterBind",this.getLifecycleEventData())}async afterBind(){}async afterAllBind(){}getLifecycleEventData(){return{tagName:this.tagName.toLowerCase(),component:this}}disconnectedCallback(){try{this._disconnected=!0,this._connected=!1,super.disconnectedCallback(),this.lifecycleEvents.trigger("Component:disconnected",this.getLifecycleEventData()),this.lifecycleEvents.off("ComponentLifecycle:allBound",this.afterAllBind,this)}catch(e){this.throw(e)}}connectedCallback(){try{this._disconnected=!1,this._connected=!0,super.connectedCallback(),this.lifecycleEvents.trigger("Component:connected",this.getLifecycleEventData())}catch(e){this.throw(e)}}async attributeChangedCallback(e,t,n,r){try{super.attributeChangedCallback(e,t,n,r),await this.bindIfReady()}catch(e){this.throw(e)}}callFormatterHandler(e){return{name:"call",read:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(!t)throw new Error(`[${e.tagName}] Can not use "call" formatter: fn is undefined!`);return t.apply(e,r)}}}argsFormatterHandler(e){return{name:"args",read:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(n,i,s,o)=>{if(!t)throw new Error(`[${e.tagName}] Can not use "args" formatter: fn is undefined!`);return r.push(n),r.push(i),r.push(s),r.push(o),t.apply(e,r)}}}}async bind(){if(this.binds||this.bound)return this.view;if(this.checkRequiredAttributes()){try{await this._beforeBind(),await this.beforeBind(),this.riba=new xe,this.view=this.getView(),this.view&&(this.scope=this.view.models,this.view.bind()),await this._afterBind(),await this.afterBind()}catch(e){this._binds=!1,this._bound=!1,this.throw(e)}return this.view}this.debug("Not all required attributes are set for bind")}getView(){try{var e;const t=null===(e=this.riba)||void 0===e?void 0:e.getViewOptions({handler:this.eventHandler(this),formatters:{call:this.callFormatterHandler(this),args:this.argsFormatterHandler(this)}});if(t){return new Be(Array.prototype.slice.call(this.childNodes),this.scope,t)}return null}catch(e){this.throw(e)}}async unbind(){try{this.view&&(this._binds=!1,this._bound=!1,this.view.unbind(),this.view=null)}catch(e){this.throw(e)}}async build(){try{this.view&&this.view.build()}catch(e){this.throw(e)}}}class Qe extends Ye{static get observedAttributes(){return["video-src","autoplay-on-min-buffer","autoplay-media-query"]}get muted(){return this.video&&this.video.muted}set muted(e){this.video.muted=e,this.scope.muted=this.video.muted,e?this.video.setAttribute("muted",""):this.video.removeAttribute("muted"),this.onUpdate()}get volume(){var e;return(null===(e=this.video)||void 0===e?void 0:e.volume)||0}set volume(e){this.video.volume=e,this.onUpdate()}get loop(){var e;return null===(e=this.video)||void 0===e?void 0:e.loop}set loop(e){this.video.loop=e,e?this.video.setAttribute("loop",""):this.video.removeAttribute("loop"),this.onUpdate()}get controls(){var e;return null===(e=this.video)||void 0===e?void 0:e.controls}set controls(e){this.video.controls=e,this.scope.controls=this.video.controls,e?(this.video.setAttribute("controls",""),this.video.dispatchEvent(new Event("mouseover")),this.video.dispatchEvent(new Event("mouseenter")),this.video.dispatchEvent(new Event("mousemove"))):this.video.removeAttribute("controls"),this.onUpdate()}get currentTime(){var e;return(null===(e=this.video)||void 0===e?void 0:e.currentTime)||0}set currentTime(e){this.video.currentTime=e,this.onUpdate()}get autoplay(){var e;return(null===(e=this.video)||void 0===e?void 0:e.autoplay)||!1}set autoplay(e){this.video.autoplay=e,this.onUpdate()}get height(){var e;return(null===(e=this.video)||void 0===e?void 0:e.height)||0}set height(e){this.video.height=e,this.onUpdate()}get width(){var e;return(null===(e=this.video)||void 0===e?void 0:e.width)||0}set width(e){this.video.width=e,this.onUpdate()}get poster(){var e;return null===(e=this.video)||void 0===e?void 0:e.poster}set poster(e){this.video.poster=e,this.onUpdate()}get preload(){var e;return null===(e=this.video)||void 0===e?void 0:e.preload}set preload(e){this.video.preload=e,this.onUpdate()}get disablePictureInPicture(){var e,t;return(null===(e=this.video)||void 0===e?void 0:e.disablePictureInPicture)||(null===(t=this.video)||void 0===t?void 0:t.hasAttribute("disablePictureInPicture"))||!1}set disablePictureInPicture(e){var t;void 0!==(null===(t=this.video)||void 0===t?void 0:t.disablePictureInPicture)&&(this.video.disablePictureInPicture=e),e?this.video.setAttribute("disablePictureInPicture",""):this.video.removeAttribute("disablePictureInPicture"),this.onUpdate()}get paused(){var e;return(null===(e=this.video)||void 0===e?void 0:e.paused)??!0}constructor(){super(),p(this,"autobind",!0),p(this,"alreadyStartedPlaying",!1),p(this,"wasPaused",!1),p(this,"_debug",!1),p(this,"scope",{muted:this.muted,volume:this.volume,loop:this.loop,controls:this.controls,currentTime:this.currentTime,videoSrc:void 0,autoplayOnMinBuffer:0,autoplayMediaQuery:"",disablePictureInPicture:this.disablePictureInPicture,paused:this.paused,loading:!1,duration:0,readyState:f.HAVE_NOTHING,buffer:0,toggleMute:this.toggleMute,toggleControls:this.toggleControls,play:this.play,pause:this.pause,togglePlay:this.togglePlay,togglePause:this.togglePause,reset:this.reset}),p(this,"onUpdate",this._onUpdate.bind(this)),p(this,"forceAutoplay",this._forceAutoplay.bind(this)),p(this,"onMediaQueryListEvent",this._onMediaQueryListEvent.bind(this)),p(this,"onVideoProgress",this._onVideoProgress.bind(this)),p(this,"onLoadStart",this._onLoadStart.bind(this)),p(this,"onCanPlay",this._onCanPlay.bind(this)),p(this,"onCanPlayThrough",this._onCanPlayThrough.bind(this)),p(this,"onWaiting",this._onWaiting.bind(this)),p(this,"onDurationChange",this._onDurationChange.bind(this)),p(this,"onTimeUpdate",this._onTimeUpdate.bind(this)),p(this,"onPlay",this._onPlay.bind(this)),p(this,"onPause",this._onPause.bind(this));const e=this.querySelector("video");this.video=e}toggleMute(){this.debug("toggleMute"),this.muted=!this.muted,this.onUpdate()}toggleControls(){this.debug("toggleControls"),this.controls=!this.controls,this.onUpdate()}play(){this.debug("play"),this.video.play()}pause(){this.debug("pause"),this.video.pause(),this.onUpdate()}togglePlay(){return this.paused?this.play():this.pause()}togglePause(){return this.debug("togglePause"),this.togglePlay()}reset(){this.debug("reset"),this.video.currentTime=0,this.onUpdate()}connectedCallback(){super.connectedCallback(),this.init(Qe.observedAttributes)}initVideoElement(){const e=this.querySelector("video");if(!e)throw new Error("The video child element is required!");this.video=e,this.addEventListeners(),this.onUpdate()}resetVideo(){this.video.innerHTML="";const e=this.video.cloneNode(!0),t=this.querySelector(".video-wrapper");this.removeEventListeners(),this.video.remove(),t?t.appendChild(e):this.appendChild(e),this.video=e,this.video.hasAttribute("muted")?this.muted=!0:this.muted=!1,this.video.hasAttribute("controls")?this.controls=!0:this.controls=!1,this.video.hasAttribute("autoplay")?this.autoplay=!0:this.autoplay=!1,this.video.hasAttribute("height")&&(this.height=C(this.video.getAttribute("height")||0)),this.video.hasAttribute("width")&&(this.width=C(this.video.getAttribute("width")||0)),this.video.hasAttribute("loop")?this.loop=!0:this.loop=!1,this.video.hasAttribute("muted")?this.muted=!0:this.muted=!1,this.video.hasAttribute("poster")&&(this.poster=this.video.getAttribute("poster")||""),this.video.hasAttribute("preload")&&(this.preload=this.video.getAttribute("preload")||""),this.video.hasAttribute("disablePictureInPicture")?this.disablePictureInPicture=!0:this.disablePictureInPicture=!1,this.scope.readyState=f.HAVE_NOTHING,this.alreadyStartedPlaying=!1,this.scope.loading=!1,this.initVideoElement()}setVideoSource(){if(this.scope.videoSrc){this.resetVideo();let e=this.video.querySelector("source");e||(e=document.createElement("source"),this.video.appendChild(e)),e.setAttribute("src",this.scope.videoSrc)}}parsedAttributeChangedCallback(e,t,n,r){super.parsedAttributeChangedCallback(e,t,n,r),this.debug("parsedAttributeChangedCallback",e),"videoSrc"===e&&this.setVideoSource()}addEventListeners(){if(this.scope.autoplayMediaQuery){const e=window.matchMedia(this.scope.autoplayMediaQuery);e.addEventListener("change",this.onMediaQueryListEvent),e.matches&&this.startAutoplay()}this.video.addEventListener("progress",this.onVideoProgress),this.video.addEventListener("loadstart",this.onLoadStart),this.video.addEventListener("canplay",this.onCanPlay),this.video.addEventListener("canplaythrough",this.onCanPlayThrough),this.video.addEventListener("waiting",this.onWaiting),this.video.addEventListener("durationchange",this.onDurationChange),this.video.addEventListener("timeupdate",this.onTimeUpdate),this.video.addEventListener("play",this.onPlay),this.video.addEventListener("pause",this.onPause)}removeEventListeners(){if(this.scope.autoplayMediaQuery){window.matchMedia(this.scope.autoplayMediaQuery).removeEventListener("change",this.onMediaQueryListEvent)}this.video.removeEventListener("progress",this.onVideoProgress),this.video.removeEventListener("loadstart",this.onLoadStart),this.video.removeEventListener("canplay",this.onCanPlay),this.video.removeEventListener("canplaythrough",this.onCanPlayThrough),this.video.removeEventListener("waiting",this.onWaiting),this.video.removeEventListener("durationchange",this.onDurationChange),this.video.removeEventListener("timeupdate",this.onTimeUpdate),this.video.removeEventListener("play",this.onPlay),this.video.removeEventListener("pause",this.onPause)}_onUpdate(){this.scope.muted!==this.video.muted&&(this.scope.muted=this.video.muted),this.scope.volume!==this.video.volume&&(this.scope.volume=this.video.volume),this.scope.loop!==this.video.loop&&(this.scope.loop=this.video.loop),this.scope.controls!==this.video.controls&&(this.scope.controls=this.video.controls),this.scope.currentTime!==this.video.currentTime&&(this.scope.currentTime=this.video.currentTime),this.scope.paused!==this.video.paused&&(this.scope.paused=this.video.paused),this.scope.duration!==this.video.duration&&(this.scope.duration=this.video.duration),this.scope.readyState!==this.video.readyState&&(this.scope.readyState=this.video.readyState)}async beforeBind(){this.initVideoElement()}startAutoplay(){this.scope.autoplayOnMinBuffer?this.forceLoad():this.forceAutoplay()}forceLoad(){this.video.setAttribute("preload","auto"),this.video.load()}_forceAutoplay(){this.alreadyStartedPlaying||(this.alreadyStartedPlaying=!0,this.video.muted=!0,this.forceLoad(),this.play())}_onMediaQueryListEvent(e){e.matches?this.alreadyStartedPlaying?this.wasPaused||this.play():this.startAutoplay():(this.wasPaused=this.video.paused,this.pause())}_onVideoProgress(){if(this.debug("_onVideoProgress"),this.alreadyStartedPlaying)return;if(isNaN(this.video.duration))return void console.warn("Video duration is NaN");let e=0;for(let t=0;t<this.video.buffered.length;t++)e+=this.video.buffered.end(t)-this.video.buffered.start(t);this.scope.buffer=e/this.video.duration,this.scope.autoplayOnMinBuffer&&this.scope.buffer>this.scope.autoplayOnMinBuffer&&this.forceAutoplay()}_onLoadStart(){this.debug("_onLoadStart"),this.scope.loading=!0,this.onUpdate()}_onCanPlay(){this.debug("_onCanPlay"),this.onUpdate()}_onCanPlayThrough(){this.scope.loading=!1,this.scope.autoplayOnMinBuffer&&this.forceAutoplay(),this.onUpdate()}_onWaiting(){this.debug("_onPlay"),this.scope.loading=!0,this.onUpdate()}_onDurationChange(){this.onUpdate()}_onTimeUpdate(){this.onUpdate()}_onPlay(){this.debug("_onPlay"),this.scope.loading=!1,this.alreadyStartedPlaying=!0,this.scope.paused=!1,this.onUpdate()}_onPause(){this.scope.paused=!0,this.onUpdate()}async init(e){return super.init(e).then((e=>e))}disconnectedCallback(){super.disconnectedCallback()}template(){return null}}p(Qe,"tagName","rv-video");const Xe={name:"contains",read(e,t,n){if(O(e))return e.indexOf(t)>-1;if(Array.isArray(e)){if(k(t)||console.warn("[containsFormatter] The second parameter must be of type number for arrays but is "+typeof t),t=Number(t),w(t))return w(n)?e[t]===n:-1!==e.indexOf(t)}else if(A(e)&&w(t))return w(n)?e[t]===n:(O(t)||console.warn("[containsFormatter] The second parameter must be of type string for objects"+typeof t),-1!==Object.keys(e).indexOf(String(t)));return!1}},Ke={name:"size",read:e=>e&&e.length?e.length:0},Ze={name:"empty",read:e=>Ke.read(e)<=0},et={name:"get",read:(e,t)=>A(e)||Array.isArray(e)?e[t]:O(e)&&k(t)?e.charAt(t):null},tt={name:"first",read:e=>et.read(e,0)},nt={name:"isLast",read:(e,t)=>e.length===t+1},rt={name:"last",read:e=>et.read(e,e.length-1)},it={name:"random",read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Array.isArray(e))return e[Math.floor(Math.random()*e.length)];if(k(e)){const n=e;return Math.floor(Math.random()*(n-t+1)+t)}return null}},st={name:"range",read:(e,t,n)=>(t=Number(k(t)?t:0),(n=Number(k(n)?n:e.length-1))>e.length-1&&(n=e.length-1),t>n?[]:e.slice(Number(t||0),1+n))},ot={name:"set",read:(e,t,n)=>(n||(n=t),A(e)||Array.isArray(e)?e[t]=n:e=n,e)},at={name:"overlaps",read(e,t){for(const n of e)for(const e of t){if(n.equals&&n.equals(e))return!0;if(n===e)return!0}return!1}},ct={name:"join",read:(e,t)=>e.join(t)},lt={name:"and",read:(e,t)=>e&&t},dt={name:"between",read(e){return e>=(arguments.length<=1?void 0:arguments[1])&&e<=(arguments.length<=2?void 0:arguments[2])}},ut={name:"egt",read:(e,t)=>e>=t},ht={name:"eq",read:(e,t)=>e===t},pt={name:"gt",read:(e,t)=>e>t},mt={name:"ne",read:(e,t)=>e!==t},ft={name:"lt",read:(e,t)=>e<t},bt={name:"elt",read:(e,t)=>e<=t},vt={name:"or",read:(e,t)=>e||t},gt={name:"not",read:e=>!e},yt={name:"plus",read:(e,t)=>Number(e)+Number(t)},wt={name:"minus",read:(e,t)=>Number(e)-Number(t)},At={name:"times",read:(e,t)=>Number(e)*Number(t)},Et={name:"dividedBy",read:(e,t)=>Number(e)/Number(t)},kt={name:"modulo",read:(e,t)=>Number(e)%Number(t)},Ot=(e,t)=>0===t?e:Ot(t,e%t),Ct={name:"gcd",read:Ot},Nt={name:"even",read:e=>e%2==0},Pt={name:"uneven",read:e=>e%2!=0},Dt={name:"digits",read:e=>k(e)?e:C(e)},_t={name:"args",read(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(t,r,i,s)=>(n.push(t),n.push(r),n.push(i),n.push(s),e.apply(this,n))}},Tt={name:"debug",read(e){return console[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug"](e),e}},xt={name:"default",read:(e,t)=>w(e)?O(e)?e.length>0?e:t:null===e?t:e:t},St={name:"is-desktop",read:()=>ae().isDesktop},Bt={name:"is-mobile",read:()=>ae().isMobile},Ft={name:"call",read(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}},Lt={name:"call-name",read:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e[t](...r)}},jt={name:"map",read(e,t,n){const r=Array.prototype.slice.call(arguments);return r.splice(1,2),t[n].apply(t,r)}},Mt={name:"os",read:()=>oe()},Rt={name:"prefer",read:(e,t)=>t||e},It={name:"ternary",read:(e,t,n)=>e?t:n},$t={name:"append",read:(e,t)=>e+t},Ht={name:"capitalize",read:e=>(e=>"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1))(e)},Ut={name:"cut",read(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?"string"!=typeof e?(console.warn("[cutFormatter] Value must be of type string"),e):e.length>t?e.substring(t,-1===t?void 0:-1)+n:e:""}},Vt={name:"downcase",read:e=>e.toLowerCase()},qt={name:"ends-with",read:(e,t)=>"string"!=typeof e?(console.warn("[endsWithFormatter] Value must be of type string"),e):e.endsWith(t)},Wt={name:"filled",read:e=>O(e)&&!Ze.read(e.replace(/\s/g,""))},zt={name:"handleize",read:e=>e?(e=>(e=(e=>e.replace(/ä/g,"ae").replace(/ö/g,"oe").replace(/ü/g,"ue").replace(/ß/g,"ss").replace(/Ä/g,"Ae").replace(/Ö/g,"Oe").replace(/Ü/g,"Üe"))(e=(e=>e.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,""))(e=(e=>e.replace(/\s\s+/g," "))(e=(e=e.trim()).toLowerCase())))).replace(/ /g,"-"))(e):(console.warn("[handleizeFormatter] str is not set"),"")},Jt={name:"match",read:(e,t,n)=>!(!e||!t)&&e.match(new RegExp(t,n))},Gt={name:"padStart",read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return e.padStart(t,n)}},Yt={name:"padEnd",read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return e.padEnd(t,n)}},Qt={name:"to-integer",read(e){const t=parseInt(1*e,10);return isNaN(t)?0:t}},Xt={name:"to-float",read(e){const t=parseFloat(1*e);return isNaN(t)?0:t}},Kt={name:"to-decimal",read(e){if(!Qt.read)throw new Error("toIntegerFormatter must have a read function");if(!Xt.read)throw new Error("toFloatFormatter must have a read function");const t=Qt.read(1*e),n=Xt.read(e);return t==n?t:n}},Zt={name:"is-integer",read:e=>e===+e&&e===(0|e)},en={name:"numberFormat",read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"'";if(!Kt.read)throw new Error("toDecimalFormatter must have a read function");if(!Zt.read)throw new Error("isIntegerFormatter must have a read function");e=k(e)?e:Kt.read(e),Zt.read(t)||(t=2);let i=(+(Math.round(+(Math.abs(e)+"e"+t))+"e"+-t)).toFixed(t);e<0&&(i="-"+i);const s=i.split(".");return 2==s.length?s[0].replace(/\B(?=(\d{3})+(?!\d))/g,r)+n+s[1]:s[0].replace(/\B(?=(\d{3})+(?!\d))/g,r)}},tn={name:"pluralize",read:(e,t,n)=>(null===n&&(n=t+"s"),Array.isArray(e)&&(e=e.length),1===e?t:n)},nn={name:"prepend",read:(e,t)=>t+e},rn={name:"upcase",read:e=>e.toUpperCase()},sn={name:"replace",read:(e,t,n)=>e.replace(new RegExp(t,"g"),n)},on={name:"replaceFirst",read:(e,t,n)=>e.replace(t,n)},an={name:"slice",read:(e,t,n)=>e.slice(t,n)},cn={name:"starts-with",read:(e,t)=>"string"!=typeof e?(console.warn("[startsWithFormatter] Value must be of type string"),e):e.startsWith(t)},ln={name:"strip",read:e=>e.trim()},dn={name:"strip-html",read:e=>(e=>{const t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""})(e)},un={name:"boolean",read:e=>"true"===e||"false"!==e&&!!e},hn={name:"is-array",read:Array.isArray},pn={name:"is-boolean",read:e=>"boolean"==typeof e},mn={name:"is-defined",read:w},fn={name:"is-number",read:k},bn={name:"is-object",read:A},vn={name:"is-string",read:e=>O(e)},gn={name:"is-undefined",read:y},yn={name:"parse",read:e=>O(e)?g(e):A(e)||Array.isArray(e)?(console.warn("[parseFormatter] You do not need to parse the value because since it already been parsed"),e):null},wn={name:"to-string",read(e,t){if(Array.isArray(e))for(const t in e)e[t]&&(e[t]=E(e[t]));else if(A(e))for(const t in e)e[t]=E(e[t]);else e=E(e);return t?e||t:e}},An={name:"to-number",read(e,t){const n=(r=e)?parseFloat(r):void 0;var r;return t?n||t:n}},En={formatters:o,binders:i,services:t,components:s,adapters:r,init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return L.setSingleton(e),this}};class kn extends Ye{constructor(){super(),p(this,"lifecycleEvents",F.getInstance("lifecycle")),p(this,"head",{}),this.ctx=window.ssr.ctx,this.env=window.ssr.env}setHtmlHead(){this.head.title&&document&&(document.title=this.head.title)}async beforeBind(){await super.beforeBind(),this.setHtmlHead()}async afterBind(){this.setHtmlHead(),await super.afterBind()}}class On{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of ModuleService not defined, please call setSingleton first!")}static setSingleton(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.instance)throw new Error("Singleton of ModuleService already defined!");return this._options=e,this.instance=new this,this.instance}}class Cn{static getHeadElement(){var e;return(null===(e=document)||void 0===e?void 0:e.head)||document.getElementsByName("head")[0]}static getHtmlElement(){var e,t;return(null===(e=document)||void 0===e||null===(t=e.body)||void 0===t?void 0:t.parentNode)||document.getElementsByName("html")[0]}static createMetaTags(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"og";const n=[],r=Object.keys(e);for(const i of r){const r=Array.isArray(e[i])?e[i]:[e[i]];for(const e of r)if("object"==typeof e)n.push(...this.createMetaTags(e,`${t}:${i}`));else{const r=document.createElement("meta");"og:image"!==t&&"og:audio"!==t||"url"!==i?r.setAttribute("property",`${t}:${i}`):r.setAttribute("property",t),r.setAttribute("content",e),n.push(r)}}return n}static setMetaTags(e){const t=this.createMetaTags(e),n=this.getHeadElement();for(const e of t)n.appendChild(e)}static setNamespaces(e){const t=this.getHtmlElement();let n="";for(const t of Object.keys(e)){n&&(n+=" "),n+=`${t}: ${e[t]}`}t.setAttribute("prefix",n)}static setLocale(e){this.getHtmlElement().setAttribute("lang",e)}static set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{og:"https://ogp.me/ns#"};this.setNamespaces(t),this.setMetaTags(e),"string"==typeof e.locale&&this.setLocale(e.locale)}}const Nn={binders:e,services:c,formatters:a,components:l,init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return On.setSingleton(e),this}};var Pn=n(774),Dn=n.n(Pn);class _n extends kn{static get observedAttributes(){return[]}constructor(){super(),p(this,"_debug",!0),p(this,"autobind",!0),p(this,"head",{title:"You are on home"}),p(this,"scope",{title:"Hello from ssr",content:"When you can see this, ssr works :)",obj:{foo:"bar",note:"This is an example to test the json formatter"}})}connectedCallback(){super.connectedCallback(),this.init(_n.observedAttributes)}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind()}async afterBind(){await super.afterBind()}template(){return Dn()(this.scope)}}p(_n,"tagName","index-page");var Tn=n(798),xn=n.n(Tn);class Sn extends kn{static get observedAttributes(){return[]}constructor(){super(),p(this,"_debug",!0),p(this,"autobind",!0),p(this,"scope",{title:"{params.handle | capitalize}",content:"<p>We are {params.handle}!</a>",params:{}}),this.scope.params=this.ctx.params}connectedCallback(){super.connectedCallback(),this.init(Sn.observedAttributes)}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.head.title="You are "+this.ctx.params.handle}async afterBind(){await super.afterBind()}template(){return xn()(this.scope)}}p(Sn,"tagName","pages-page");class Bn extends Ye{static get observedAttributes(){return[]}constructor(){super(),p(this,"_debug",!1),p(this,"autobind",!0),p(this,"scope",{items:[{label:"Home",url:"/"},{label:"Cool",url:"/pages/cool"},{label:"Nice",url:"/pages/nice"},{label:"Different",url:"/pages/different"}]})}connectedCallback(){super.connectedCallback(),this.init(Bn.observedAttributes)}template(){return null}}function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}p(Bn,"tagName","link-list"),window.model=window.model||window.ssr.templateVars||{};const jn=new xe;jn.configure({prefix:["ssr-rv"],blockUnknownCustomElements:!1}),jn.module.component.regists(Ln(Ln({},d),{},{LinkListComponent:Bn})),jn.module.binder.regists(u),jn.module.formatter.regists(h),jn.module.regist(En.init()),jn.module.regist(Nn.init()),console.log("Hello from Riba"),jn.lifecycle.events.on("ComponentLifecycle:allBound",(()=>{console.debug("ready!"),window.ssr.events.trigger("ready")}));jn.bind(document.body,window.model).registComponents()}()}();